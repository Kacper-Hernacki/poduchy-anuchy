[debug] [2021-03-09T09:00:47.292Z] ----------------------------------------------------------------------
[debug] [2021-03-09T09:00:47.295Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-03-09T09:00:47.296Z] CLI Version:   8.6.0
[debug] [2021-03-09T09:00:47.296Z] Platform:      win32
[debug] [2021-03-09T09:00:47.296Z] Node Version:  v12.18.4
[debug] [2021-03-09T09:00:47.304Z] Time:          Tue Mar 09 2021 10:00:47 GMT+0100 (GMT+01:00)
[debug] [2021-03-09T09:00:47.304Z] ----------------------------------------------------------------------
[debug] [2021-03-09T09:00:47.304Z] 
[debug] [2021-03-09T09:00:47.324Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-09T09:00:47.325Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2021-03-09T09:00:49.419Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-03-09T09:00:51.525Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-03-09T09:00:51.528Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-03-09T09:00:55.632Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-09T09:00:55.632Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-09T09:00:55.633Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-09T09:00:55.855Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-03-09T09:00:56.212Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T09:00:56.212Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-09T09:00:56.213Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T09:00:56.214Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9852 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9852"}}
[debug] [2021-03-09T09:00:56.215Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: BUSY"}}
[debug] [2021-03-09T09:00:56.921Z] [runtime-status] [9852] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:00:56.929Z] [runtime-status] [9852] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:00:56.940Z] [runtime-status] [9852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:56.944Z] [runtime-status] [9852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:56.952Z] [runtime-status] [9852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:56.953Z] [runtime-status] [9852] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:00:56.953Z] [runtime-status] [9852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:57.094Z] [runtime-status] [9852] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:00:57.094Z] [runtime-status] [9852] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:00:57.096Z] [runtime-status] [9852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:57.099Z] [runtime-status] [9852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:57.101Z] [runtime-status] [9852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:00:57.101Z] [runtime-status] [9852] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9852] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-09T09:00:57.498Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: IDLE"}}
[debug] [2021-03-09T09:01:44.289Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:01:44.291Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:01:44.292Z] Accepted request GET /poduchy-anuchy/us-central1/api --> api
[debug] [2021-03-09T09:01:44.306Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T09:01:44.307Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-09T09:01:44.307Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:01:44.307Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17960"}}
[debug] [2021-03-09T09:01:44.308Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: BUSY"}}
[debug] [2021-03-09T09:01:45.273Z] [runtime-status] [17960] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:01:45.280Z] [runtime-status] [17960] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:01:45.286Z] [runtime-status] [17960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.293Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.294Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.298Z] [runtime-status] [17960] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:01:45.299Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.379Z] [runtime-status] [17960] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:01:45.380Z] [runtime-status] [17960] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:01:45.380Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.382Z] [runtime-status] [17960] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.383Z] [runtime-status] [17960] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:01:45.383Z] [runtime-status] [17960] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:01:45.726Z] [runtime-status] [17960] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:01:45.728Z] [runtime-status] [17960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:01:45.729Z] [runtime-status] [17960] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:01:45.736Z] [runtime-status] [17960] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17960"}}
[debug] [2021-03-09T09:01:45.744Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:01:45.762Z] [runtime-status] [17960] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Ephemeral server handling GET request"}}
[debug] [2021-03-09T09:01:45.774Z] [runtime-status] [17960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:01:45.780Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: IDLE"}}
[debug] [2021-03-09T09:01:45.780Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:03:05.031Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:03:05.031Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:03:05.032Z] Accepted request GET /poduchy-anuchy/us-central1/api --> api
[debug] [2021-03-09T09:03:05.032Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:03:05.032Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17960 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17960"}}
[debug] [2021-03-09T09:03:05.032Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: BUSY"}}
[debug] [2021-03-09T09:03:05.033Z] [runtime-status] [17960] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:03:05.037Z] [runtime-status] [17960] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:03:05.038Z] [runtime-status] [17960] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:03:05.038Z] [runtime-status] [17960] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17960 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17960"}}
[debug] [2021-03-09T09:03:05.040Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:03:05.045Z] [runtime-status] [17960] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Ephemeral server handling GET request"}}
[debug] [2021-03-09T09:03:05.048Z] [runtime-status] [17960] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17960] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:03:05.051Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: IDLE"}}
[debug] [2021-03-09T09:03:05.051Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:03:36.318Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T09:03:37.330Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-09T09:03:37.330Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: FINISHING"}}
[debug] [2021-03-09T09:03:37.331Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-09T09:03:37.331Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: FINISHING"}}
[debug] [2021-03-09T09:03:37.342Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T09:03:37.343Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-09T09:03:37.343Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T09:03:37.344Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1752 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1752"}}
[debug] [2021-03-09T09:03:37.344Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: BUSY"}}
[debug] [2021-03-09T09:03:37.348Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: exited"}}
[debug] [2021-03-09T09:03:37.348Z] [worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-621958e4-1148-49c7-811e-164c56df1456]: FINISHED"}}
[debug] [2021-03-09T09:03:37.349Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: exited"}}
[debug] [2021-03-09T09:03:37.349Z] [worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-93b5d44e-0e9e-454a-b756-98f7be4183b5]: FINISHED"}}
[debug] [2021-03-09T09:03:38.267Z] [runtime-status] [1752] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:03:38.270Z] [runtime-status] [1752] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:03:38.282Z] [runtime-status] [1752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.286Z] [runtime-status] [1752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.287Z] [runtime-status] [1752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.289Z] [runtime-status] [1752] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:03:38.290Z] [runtime-status] [1752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.387Z] [runtime-status] [1752] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:03:38.387Z] [runtime-status] [1752] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:38.388Z] [runtime-status] [1752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.390Z] [runtime-status] [1752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.390Z] [runtime-status] [1752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:38.391Z] [runtime-status] [1752] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1752] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:38.723Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: IDLE"}}
[debug] [2021-03-09T09:03:47.510Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T09:03:48.517Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-09T09:03:48.517Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: FINISHING"}}
[debug] [2021-03-09T09:03:48.520Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-09T09:03:48.520Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-09T09:03:48.530Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T09:03:48.530Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-09T09:03:48.530Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T09:03:48.530Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1684 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1684"}}
[debug] [2021-03-09T09:03:48.531Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: BUSY"}}
[debug] [2021-03-09T09:03:48.532Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: exited"}}
[debug] [2021-03-09T09:03:48.532Z] [worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-78a3c8ef-02b1-4d1e-a6ec-ac869b9b14d8]: FINISHED"}}
[debug] [2021-03-09T09:03:49.331Z] [runtime-status] [1684] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:03:49.339Z] [runtime-status] [1684] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:03:49.348Z] [runtime-status] [1684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.350Z] [runtime-status] [1684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.352Z] [runtime-status] [1684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.354Z] [runtime-status] [1684] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:03:49.355Z] [runtime-status] [1684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.427Z] [runtime-status] [1684] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:03:49.428Z] [runtime-status] [1684] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:49.429Z] [runtime-status] [1684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.432Z] [runtime-status] [1684] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.433Z] [runtime-status] [1684] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:49.433Z] [runtime-status] [1684] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1684] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:49.710Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: IDLE"}}
[debug] [2021-03-09T09:03:56.331Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:03:56.332Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:03:56.332Z] Accepted request GET /poduchy-anuchy/us-central1/api/payment --> api
[debug] [2021-03-09T09:03:56.332Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-09T09:03:56.339Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T09:03:56.340Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-09T09:03:56.340Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:03:56.340Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5108 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5108"}}
[debug] [2021-03-09T09:03:56.340Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: BUSY"}}
[debug] [2021-03-09T09:03:56.968Z] [runtime-status] [5108] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:03:56.971Z] [runtime-status] [5108] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:03:56.982Z] [runtime-status] [5108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:56.984Z] [runtime-status] [5108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:56.986Z] [runtime-status] [5108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:56.989Z] [runtime-status] [5108] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:03:56.990Z] [runtime-status] [5108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:57.061Z] [runtime-status] [5108] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:03:57.061Z] [runtime-status] [5108] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:57.062Z] [runtime-status] [5108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:57.065Z] [runtime-status] [5108] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:57.066Z] [runtime-status] [5108] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:03:57.066Z] [runtime-status] [5108] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:03:57.344Z] [runtime-status] [5108] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:03:57.346Z] [runtime-status] [5108] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:03:57.346Z] [runtime-status] [5108] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:03:57.354Z] [runtime-status] [5108] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5108 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5108"}}
[debug] [2021-03-09T09:03:57.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:03:57.366Z] [runtime-status] [5108] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Ephemeral server handling GET request"}}
[debug] [2021-03-09T09:03:57.375Z] [runtime-status] [5108] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:03:57.383Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: IDLE"}}
[debug] [2021-03-09T09:03:57.384Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:12:37.239Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:12:37.257Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:12:37.258Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T09:12:37.260Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:12:37.261Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5108 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5108"}}
[debug] [2021-03-09T09:12:37.262Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: BUSY"}}
[debug] [2021-03-09T09:12:37.464Z] [runtime-status] [5108] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:12:37.531Z] [runtime-status] [5108] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:12:37.532Z] [runtime-status] [5108] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:12:37.534Z] [runtime-status] [5108] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5108 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5108"}}
[debug] [2021-03-09T09:12:37.591Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:12:37.722Z] [runtime-status] [5108] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T09:12:37.830Z] [runtime-status] [5108] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5108] Ephemeral server survived."}}
[info] >  (node:5108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5108) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5108) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5108) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-09T09:13:11.273Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-09T09:13:11.274Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-09T09:13:11.275Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-09T09:13:11.347Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T09:13:11.347Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-09T09:13:11.348Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:13:11.349Z] [worker-api-f7741e49-1aca-4514-885f-711f2197264e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f7741e49-1aca-4514-885f-711f2197264e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9180"}}
[debug] [2021-03-09T09:13:11.350Z] [worker-api-f7741e49-1aca-4514-885f-711f2197264e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f7741e49-1aca-4514-885f-711f2197264e]: BUSY"}}
[debug] [2021-03-09T09:13:13.052Z] [runtime-status] [9180] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:13:13.060Z] [runtime-status] [9180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:13:13.095Z] [runtime-status] [9180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.101Z] [runtime-status] [9180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.102Z] [runtime-status] [9180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.106Z] [runtime-status] [9180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:13:13.107Z] [runtime-status] [9180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.288Z] [runtime-status] [9180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:13:13.289Z] [runtime-status] [9180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:13:13.290Z] [runtime-status] [9180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.295Z] [runtime-status] [9180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.297Z] [runtime-status] [9180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:13:13.297Z] [runtime-status] [9180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:13:13.980Z] [runtime-status] [9180] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:13:13.983Z] [runtime-status] [9180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:13:13.984Z] [runtime-status] [9180] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:13:13.992Z] [runtime-status] [9180] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9180"}}
[debug] [2021-03-09T09:13:13.999Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:13:14.019Z] [runtime-status] [9180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-09T09:13:14.056Z] [runtime-status] [9180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9180] Ephemeral server survived."}}
[info] >  (node:9180) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:9180) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9180) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-09T09:13:37.570Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: exited"}}
[debug] [2021-03-09T09:13:37.570Z] [worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5cb5fd9a-907b-4f85-be6c-528b5273cb7b]: FINISHED"}}
[debug] [2021-03-09T09:13:37.570Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-09T09:14:14.024Z] [worker-api-f7741e49-1aca-4514-885f-711f2197264e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f7741e49-1aca-4514-885f-711f2197264e]: exited"}}
[debug] [2021-03-09T09:14:14.024Z] [worker-api-f7741e49-1aca-4514-885f-711f2197264e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f7741e49-1aca-4514-885f-711f2197264e]: FINISHED"}}
[debug] [2021-03-09T09:14:14.024Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:18:09.166Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:18:09.167Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:18:09.167Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=9999 --> api
[debug] [2021-03-09T09:18:09.167Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-09T09:18:09.186Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T09:18:09.186Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-09T09:18:09.187Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:18:09.187Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:18:09.187Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY"}}
[debug] [2021-03-09T09:18:10.495Z] [runtime-status] [16772] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T09:18:10.503Z] [runtime-status] [16772] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Disabled runtime features: undefined"}}
[debug] [2021-03-09T09:18:10.516Z] [runtime-status] [16772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.520Z] [runtime-status] [16772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.521Z] [runtime-status] [16772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.526Z] [runtime-status] [16772] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T09:18:10.527Z] [runtime-status] [16772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.634Z] [runtime-status] [16772] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T09:18:10.635Z] [runtime-status] [16772] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:18:10.636Z] [runtime-status] [16772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.639Z] [runtime-status] [16772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.639Z] [runtime-status] [16772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T09:18:10.639Z] [runtime-status] [16772] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T09:18:10.971Z] [runtime-status] [16772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:18:10.973Z] [runtime-status] [16772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:18:10.973Z] [runtime-status] [16772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:18:10.981Z] [runtime-status] [16772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:18:10.990Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:18:11.017Z] [runtime-status] [16772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 9999 {"user":"Payment request received BOoom!!! 9999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 9999"}}
[debug] [2021-03-09T09:18:11.042Z] [runtime-status] [16772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:18:11.989Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE"}}
[debug] [2021-03-09T09:18:11.990Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:27:46.280Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:27:46.287Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:27:46.288Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39996 --> api
[debug] [2021-03-09T09:27:46.289Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:27:46.290Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:27:46.290Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY"}}
[debug] [2021-03-09T09:27:46.316Z] [runtime-status] [16772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:27:46.326Z] [runtime-status] [16772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:27:46.327Z] [runtime-status] [16772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:27:46.343Z] [runtime-status] [16772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:27:46.354Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:27:46.378Z] [runtime-status] [16772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 39996 {"user":"Payment request received BOoom!!! 39996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 39996"}}
[debug] [2021-03-09T09:27:46.413Z] [runtime-status] [16772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:27:47.179Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE"}}
[debug] [2021-03-09T09:27:47.180Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T09:33:42.355Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T09:33:42.370Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T09:33:42.371Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39996 --> api
[debug] [2021-03-09T09:33:42.374Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T09:33:42.377Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:33:42.379Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY"}}
[debug] [2021-03-09T09:33:42.419Z] [runtime-status] [16772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T09:33:42.427Z] [runtime-status] [16772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T09:33:42.427Z] [runtime-status] [16772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Running api in mode HTTPS"}}
[debug] [2021-03-09T09:33:42.433Z] [runtime-status] [16772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T09:33:42.446Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T09:33:42.465Z] [runtime-status] [16772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 39996 {"user":"Payment request received BOoom!!! 39996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 39996"}}
[debug] [2021-03-09T09:33:42.479Z] [runtime-status] [16772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T09:33:43.482Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE"}}
[debug] [2021-03-09T09:33:43.482Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:05:02.164Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:05:02.194Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:05:02.199Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39996 --> api
[debug] [2021-03-09T16:05:02.207Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:05:02.210Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T16:05:02.211Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY"}}
[debug] [2021-03-09T16:05:02.312Z] [runtime-status] [16772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:05:02.338Z] [runtime-status] [16772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:05:02.339Z] [runtime-status] [16772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:05:02.349Z] [runtime-status] [16772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T16:05:02.419Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:05:02.480Z] [runtime-status] [16772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 39996 {"user":"Payment request received BOoom!!! 39996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 39996"}}
[debug] [2021-03-09T16:05:02.519Z] [runtime-status] [16772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:05:03.816Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: IDLE"}}
[debug] [2021-03-09T16:05:03.817Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:08:32.456Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:08:32.473Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:08:32.479Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T16:08:32.491Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:08:32.495Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T16:08:32.495Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: BUSY"}}
[debug] [2021-03-09T16:08:32.515Z] [runtime-status] [16772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:08:32.545Z] [runtime-status] [16772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:08:32.546Z] [runtime-status] [16772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:08:32.548Z] [runtime-status] [16772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16772"}}
[debug] [2021-03-09T16:08:32.596Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:08:32.664Z] [runtime-status] [16772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T16:08:32.680Z] [runtime-status] [16772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16772] Ephemeral server survived."}}
[info] >  (node:16772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-09T16:09:00.563Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-09T16:09:00.564Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-09T16:09:00.564Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=79992 --> api
[debug] [2021-03-09T16:09:00.752Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T16:09:00.756Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-09T16:09:00.757Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:09:00.759Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5384 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5384"}}
[debug] [2021-03-09T16:09:00.760Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: BUSY"}}
[debug] [2021-03-09T16:09:03.486Z] [runtime-status] [5384] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:09:03.501Z] [runtime-status] [5384] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:09:03.548Z] [runtime-status] [5384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:03.563Z] [runtime-status] [5384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:03.564Z] [runtime-status] [5384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:03.576Z] [runtime-status] [5384] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:09:03.577Z] [runtime-status] [5384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:04.055Z] [runtime-status] [5384] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:09:04.056Z] [runtime-status] [5384] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:09:04.057Z] [runtime-status] [5384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:04.058Z] [runtime-status] [5384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:04.059Z] [runtime-status] [5384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:09:04.060Z] [runtime-status] [5384] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:09:05.817Z] [runtime-status] [5384] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:09:05.819Z] [runtime-status] [5384] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:09:05.820Z] [runtime-status] [5384] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:09:05.838Z] [runtime-status] [5384] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5384 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5384"}}
[debug] [2021-03-09T16:09:05.850Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:09:05.898Z] [runtime-status] [5384] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 79992 {"user":"Payment request received BOoom!!! 79992","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 79992"}}
[debug] [2021-03-09T16:09:05.966Z] [runtime-status] [5384] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:09:07.666Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: IDLE"}}
[debug] [2021-03-09T16:09:07.666Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:09:15.297Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-09T16:09:15.298Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-09T16:09:15.298Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T16:09:15.298Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:09:15.299Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5384 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5384"}}
[debug] [2021-03-09T16:09:15.299Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: BUSY"}}
[debug] [2021-03-09T16:09:15.301Z] [runtime-status] [5384] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:09:15.305Z] [runtime-status] [5384] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:09:15.306Z] [runtime-status] [5384] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:09:15.307Z] [runtime-status] [5384] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5384 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5384"}}
[debug] [2021-03-09T16:09:15.310Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:09:15.320Z] [runtime-status] [5384] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T16:09:15.325Z] [runtime-status] [5384] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5384] Ephemeral server survived."}}
[info] >  (node:5384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-09T16:09:32.789Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: exited"}}
[debug] [2021-03-09T16:09:32.790Z] [worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d328cd37-f593-4fbc-a5f0-3c87d679e05d]: FINISHED"}}
[debug] [2021-03-09T16:09:32.790Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-09T16:10:15.391Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: exited"}}
[debug] [2021-03-09T16:10:15.392Z] [worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-aa2837fc-fe84-4c82-914f-1fb9af57b2de]: FINISHED"}}
[debug] [2021-03-09T16:10:15.393Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:37:25.861Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:37:25.905Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:37:25.908Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-09T16:37:25.935Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-09T16:37:26.171Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T16:37:26.175Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-09T16:37:26.175Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:37:26.189Z] [worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2324"}}
[debug] [2021-03-09T16:37:26.196Z] [worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: BUSY"}}
[debug] [2021-03-09T16:37:27.577Z] [runtime-status] [2324] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:37:27.582Z] [runtime-status] [2324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:37:27.601Z] [runtime-status] [2324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.608Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.608Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.615Z] [runtime-status] [2324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:37:27.616Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.760Z] [runtime-status] [2324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:37:27.762Z] [runtime-status] [2324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:37:27.763Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.764Z] [runtime-status] [2324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.766Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:37:27.768Z] [runtime-status] [2324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:37:28.255Z] [runtime-status] [2324] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:37:28.267Z] [runtime-status] [2324] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:37:28.268Z] [runtime-status] [2324] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:37:28.268Z] [runtime-status] [2324] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2324 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2324"}}
[debug] [2021-03-09T16:37:28.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:37:28.352Z] [runtime-status] [2324] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-09T16:37:28.378Z] [runtime-status] [2324] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Ephemeral server survived."}}
[info] >  (node:2324) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:2324) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-09T16:38:28.312Z] [worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: exited"}}
[debug] [2021-03-09T16:38:28.313Z] [worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ba9fc3ef-dac5-4d76-8833-a8be7f656b6c]: FINISHED"}}
[debug] [2021-03-09T16:38:28.314Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:48:12.808Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T16:48:13.857Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-09T16:48:13.859Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: FINISHING"}}
[debug] [2021-03-09T16:48:13.865Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-09T16:48:13.938Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T16:48:13.938Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-09T16:48:13.938Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T16:48:13.941Z] [worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10856 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10856"}}
[debug] [2021-03-09T16:48:13.941Z] [worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: BUSY"}}
[debug] [2021-03-09T16:48:13.950Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: exited"}}
[debug] [2021-03-09T16:48:13.950Z] [worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-2c9b4b75-50cc-474c-aa05-b63587176453]: FINISHED"}}
[debug] [2021-03-09T16:48:15.603Z] [runtime-status] [10856] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:48:15.618Z] [runtime-status] [10856] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:48:15.628Z] [runtime-status] [10856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.637Z] [runtime-status] [10856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.640Z] [runtime-status] [10856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.648Z] [runtime-status] [10856] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:48:15.649Z] [runtime-status] [10856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.762Z] [runtime-status] [10856] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:48:15.763Z] [runtime-status] [10856] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:48:15.764Z] [runtime-status] [10856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.767Z] [runtime-status] [10856] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.768Z] [runtime-status] [10856] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:15.768Z] [runtime-status] [10856] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10856] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js:40
  });}
     ^

SyntaxError: Missing catch or finally after try
    at wrapSafe (internal/modules/cjs/loader.js:1053:16)
    at Module._compile (internal/modules/cjs/loader.js:1101:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)
    at Module.load (internal/modules/cjs/loader.js:985:32)
    at Function.Module._load (internal/modules/cjs/loader.js:878:14)
    at Module.require (internal/modules/cjs/loader.js:1025:19)
    at require (internal/modules/cjs/helpers.js:72:18)
    at C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:671:33
    at Generator.next (<anonymous>)
    at fulfilled (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:5:58) {"metadata":{"emulator":{"name":"functions"},"message":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js:40\n  });}\n     ^\n\nSyntaxError: Missing catch or finally after try\n    at wrapSafe (internal/modules/cjs/loader.js:1053:16)\n    at Module._compile (internal/modules/cjs/loader.js:1101:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)\n    at Module.load (internal/modules/cjs/loader.js:985:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:878:14)\n    at Module.require (internal/modules/cjs/loader.js:1025:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:671:33\n    at Generator.next (<anonymous>)\n    at fulfilled (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:5:58)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-03-09T16:48:15.823Z] [worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: exited"}}
[debug] [2021-03-09T16:48:15.823Z] [worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-91d3050f-ecec-48de-80e4-7790c11fc60d]: FINISHED"}}
[debug] [2021-03-09T16:48:19.017Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T16:48:20.018Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 0"}}
[debug] [2021-03-09T16:48:20.033Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T16:48:20.034Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-09T16:48:20.034Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T16:48:20.036Z] [worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8796 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8796"}}
[debug] [2021-03-09T16:48:20.037Z] [worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: BUSY"}}
[debug] [2021-03-09T16:48:20.905Z] [runtime-status] [8796] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:48:20.912Z] [runtime-status] [8796] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:48:20.921Z] [runtime-status] [8796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:20.924Z] [runtime-status] [8796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:20.925Z] [runtime-status] [8796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:20.928Z] [runtime-status] [8796] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:48:20.929Z] [runtime-status] [8796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:21.006Z] [runtime-status] [8796] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:48:21.006Z] [runtime-status] [8796] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:48:21.007Z] [runtime-status] [8796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:21.009Z] [runtime-status] [8796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:21.010Z] [runtime-status] [8796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:48:21.010Z] [runtime-status] [8796] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8796] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[warn] !  C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js:40
  });}
     ^

SyntaxError: Missing catch or finally after try
    at wrapSafe (internal/modules/cjs/loader.js:1053:16)
    at Module._compile (internal/modules/cjs/loader.js:1101:27)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)
    at Module.load (internal/modules/cjs/loader.js:985:32)
    at Function.Module._load (internal/modules/cjs/loader.js:878:14)
    at Module.require (internal/modules/cjs/loader.js:1025:19)
    at require (internal/modules/cjs/helpers.js:72:18)
    at C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:671:33
    at Generator.next (<anonymous>)
    at fulfilled (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:5:58) {"metadata":{"emulator":{"name":"functions"},"message":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js:40\n  });}\n     ^\n\nSyntaxError: Missing catch or finally after try\n    at wrapSafe (internal/modules/cjs/loader.js:1053:16)\n    at Module._compile (internal/modules/cjs/loader.js:1101:27)\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1157:10)\n    at Module.load (internal/modules/cjs/loader.js:985:32)\n    at Function.Module._load (internal/modules/cjs/loader.js:878:14)\n    at Module.require (internal/modules/cjs/loader.js:1025:19)\n    at require (internal/modules/cjs/helpers.js:72:18)\n    at C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:671:33\n    at Generator.next (<anonymous>)\n    at fulfilled (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:5:58)"}}
[warn] !  We were unable to load your functions code. (see above) {"metadata":{"emulator":{"name":"functions"}}}
[debug] [2021-03-09T16:48:21.035Z] [worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: exited"}}
[debug] [2021-03-09T16:48:21.036Z] [worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-9ba8e255-14c0-4a2f-a295-db95518a2462]: FINISHED"}}
[debug] [2021-03-09T16:49:23.530Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T16:49:24.540Z] [worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 1 --> 0"}}
[debug] [2021-03-09T16:49:24.550Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T16:49:24.551Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-09T16:49:24.551Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T16:49:24.552Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3680 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3680"}}
[debug] [2021-03-09T16:49:24.552Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: BUSY"}}
[debug] [2021-03-09T16:49:25.379Z] [runtime-status] [3680] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:49:25.383Z] [runtime-status] [3680] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:49:25.394Z] [runtime-status] [3680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.398Z] [runtime-status] [3680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.399Z] [runtime-status] [3680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.407Z] [runtime-status] [3680] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:49:25.407Z] [runtime-status] [3680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.479Z] [runtime-status] [3680] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:49:25.480Z] [runtime-status] [3680] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:49:25.481Z] [runtime-status] [3680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.482Z] [runtime-status] [3680] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.483Z] [runtime-status] [3680] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:25.484Z] [runtime-status] [3680] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [3680] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:49:25.877Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: IDLE"}}
[debug] [2021-03-09T16:49:56.246Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T16:49:57.249Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-09T16:49:57.249Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: FINISHING"}}
[debug] [2021-03-09T16:49:57.258Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T16:49:57.258Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-09T16:49:57.258Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T16:49:57.261Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17176 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17176"}}
[debug] [2021-03-09T16:49:57.261Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: BUSY"}}
[debug] [2021-03-09T16:49:57.261Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: exited"}}
[debug] [2021-03-09T16:49:57.262Z] [worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-6a162ef0-1e80-4393-93ad-f02cbdf9d17e]: FINISHED"}}
[debug] [2021-03-09T16:49:57.961Z] [runtime-status] [17176] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:49:57.969Z] [runtime-status] [17176] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:49:57.975Z] [runtime-status] [17176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:57.982Z] [runtime-status] [17176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:57.983Z] [runtime-status] [17176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:57.985Z] [runtime-status] [17176] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:49:57.987Z] [runtime-status] [17176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:58.089Z] [runtime-status] [17176] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:49:58.090Z] [runtime-status] [17176] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:49:58.091Z] [runtime-status] [17176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:58.092Z] [runtime-status] [17176] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:58.093Z] [runtime-status] [17176] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:49:58.093Z] [runtime-status] [17176] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [17176] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:49:58.457Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: IDLE"}}
[debug] [2021-03-09T16:50:04.518Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-09T16:50:05.529Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-09T16:50:05.530Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: FINISHING"}}
[debug] [2021-03-09T16:50:05.530Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-09T16:50:05.545Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-09T16:50:05.545Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-09T16:50:05.545Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-09T16:50:05.546Z] [worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6788 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6788"}}
[debug] [2021-03-09T16:50:05.546Z] [worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: BUSY"}}
[debug] [2021-03-09T16:50:05.547Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: exited"}}
[debug] [2021-03-09T16:50:05.547Z] [worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-695fce01-c2bc-496c-88e3-15e8f7e18985]: FINISHED"}}
[debug] [2021-03-09T16:50:06.405Z] [runtime-status] [6788] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:50:06.417Z] [runtime-status] [6788] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:50:06.433Z] [runtime-status] [6788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.437Z] [runtime-status] [6788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.439Z] [runtime-status] [6788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.442Z] [runtime-status] [6788] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:50:06.443Z] [runtime-status] [6788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.564Z] [runtime-status] [6788] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:50:06.564Z] [runtime-status] [6788] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:50:06.566Z] [runtime-status] [6788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.569Z] [runtime-status] [6788] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.571Z] [runtime-status] [6788] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:06.571Z] [runtime-status] [6788] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [6788] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:50:06.996Z] [worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-ce880718-3a4c-442e-ae4d-68bbdfdaff60]: IDLE"}}
[debug] [2021-03-09T16:50:08.739Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:50:08.745Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:50:08.746Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T16:50:08.747Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-09T16:50:08.769Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-09T16:50:08.773Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-09T16:50:08.774Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:50:08.774Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:08.774Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY"}}
[debug] [2021-03-09T16:50:10.313Z] [runtime-status] [6872] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-09T16:50:10.330Z] [runtime-status] [6872] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Disabled runtime features: undefined"}}
[debug] [2021-03-09T16:50:10.340Z] [runtime-status] [6872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.353Z] [runtime-status] [6872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.355Z] [runtime-status] [6872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.358Z] [runtime-status] [6872] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-09T16:50:10.359Z] [runtime-status] [6872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.448Z] [runtime-status] [6872] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-09T16:50:10.449Z] [runtime-status] [6872] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:50:10.450Z] [runtime-status] [6872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.452Z] [runtime-status] [6872] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.454Z] [runtime-status] [6872] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-09T16:50:10.454Z] [runtime-status] [6872] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-09T16:50:10.852Z] [runtime-status] [6872] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:50:10.857Z] [runtime-status] [6872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:50:10.857Z] [runtime-status] [6872] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:50:10.859Z] [runtime-status] [6872] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:10.906Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:50:10.955Z] [runtime-status] [6872] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T16:50:10.990Z] [runtime-status] [6872] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:50:11.796Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE"}}
[debug] [2021-03-09T16:50:11.797Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:50:17.304Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:50:17.304Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:50:17.304Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-09T16:50:17.304Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:50:17.304Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:17.305Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY"}}
[debug] [2021-03-09T16:50:17.307Z] [runtime-status] [6872] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:50:17.309Z] [runtime-status] [6872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:50:17.309Z] [runtime-status] [6872] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:50:17.309Z] [runtime-status] [6872] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:17.312Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:50:17.318Z] [runtime-status] [6872] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-09T16:50:17.329Z] [runtime-status] [6872] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:50:17.627Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE"}}
[debug] [2021-03-09T16:50:17.627Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:50:40.335Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:50:40.337Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:50:40.337Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T16:50:40.337Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:50:40.337Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:40.337Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY"}}
[debug] [2021-03-09T16:50:40.338Z] [runtime-status] [6872] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:50:40.340Z] [runtime-status] [6872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:50:40.340Z] [runtime-status] [6872] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:50:40.341Z] [runtime-status] [6872] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:40.343Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:50:40.348Z] [runtime-status] [6872] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T16:50:40.352Z] [runtime-status] [6872] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:50:40.635Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE"}}
[debug] [2021-03-09T16:50:40.635Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:50:48.497Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:50:48.498Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:50:48.498Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=19998 --> api
[debug] [2021-03-09T16:50:48.498Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:50:48.499Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:48.499Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY"}}
[debug] [2021-03-09T16:50:48.500Z] [runtime-status] [6872] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:50:48.502Z] [runtime-status] [6872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:50:48.502Z] [runtime-status] [6872] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:50:48.502Z] [runtime-status] [6872] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:50:48.564Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:50:48.596Z] [runtime-status] [6872] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 19998 {"user":"Payment request received BOoom!!! 19998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 19998"}}
[debug] [2021-03-09T16:50:48.599Z] [runtime-status] [6872] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:50:49.198Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE"}}
[debug] [2021-03-09T16:50:49.199Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-09T16:51:00.580Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-09T16:51:00.580Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-09T16:51:00.580Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-09T16:51:00.580Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-09T16:51:00.581Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:51:00.581Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: BUSY"}}
[debug] [2021-03-09T16:51:00.582Z] [runtime-status] [6872] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-09T16:51:00.584Z] [runtime-status] [6872] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-09T16:51:00.585Z] [runtime-status] [6872] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Running api in mode HTTPS"}}
[debug] [2021-03-09T16:51:00.585Z] [runtime-status] [6872] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6872 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6872"}}
[debug] [2021-03-09T16:51:00.589Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-09T16:51:00.604Z] [runtime-status] [6872] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-09T16:51:00.606Z] [runtime-status] [6872] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6872] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-09T16:51:00.872Z] [worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-facbf359-3c01-46a9-a897-7b7db3af7bf2]: IDLE"}}
[debug] [2021-03-09T16:51:00.873Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:06:16.109Z] ----------------------------------------------------------------------
[debug] [2021-03-13T14:06:16.112Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-03-13T14:06:16.113Z] CLI Version:   8.6.0
[debug] [2021-03-13T14:06:16.113Z] Platform:      win32
[debug] [2021-03-13T14:06:16.113Z] Node Version:  v12.18.4
[debug] [2021-03-13T14:06:16.131Z] Time:          Sat Mar 13 2021 15:06:16 GMT+0100 (GMT+01:00)
[debug] [2021-03-13T14:06:16.131Z] ----------------------------------------------------------------------
[debug] [2021-03-13T14:06:16.131Z] 
[debug] [2021-03-13T14:06:16.158Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-13T14:06:16.158Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project poduchy-anuchy. This may result in unexpected behavior. 
[debug] [2021-03-13T14:06:18.240Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-03-13T14:06:20.288Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-03-13T14:06:20.290Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-03-13T14:06:24.361Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-13T14:06:24.362Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-13T14:06:24.363Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-13T14:06:24.575Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-03-13T14:06:24.945Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:06:24.946Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-13T14:06:24.946Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:06:24.947Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8980 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8980"}}
[debug] [2021-03-13T14:06:24.948Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: BUSY"}}
[debug] [2021-03-13T14:06:26.182Z] [runtime-status] [8980] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:06:26.192Z] [runtime-status] [8980] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:06:26.213Z] [runtime-status] [8980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.221Z] [runtime-status] [8980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.223Z] [runtime-status] [8980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.227Z] [runtime-status] [8980] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:06:26.229Z] [runtime-status] [8980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.541Z] [runtime-status] [8980] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:06:26.542Z] [runtime-status] [8980] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:06:26.542Z] [runtime-status] [8980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.545Z] [runtime-status] [8980] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.546Z] [runtime-status] [8980] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:06:26.546Z] [runtime-status] [8980] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8980] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-13T14:06:27.097Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: IDLE"}}
[debug] [2021-03-13T14:07:12.946Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:07:13.951Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:07:13.956Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: FINISHING"}}
[debug] [2021-03-13T14:07:13.983Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:07:13.984Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:07:13.984Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:07:13.984Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5624 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5624"}}
[debug] [2021-03-13T14:07:13.985Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: BUSY"}}
[debug] [2021-03-13T14:07:13.988Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: exited"}}
[debug] [2021-03-13T14:07:13.988Z] [worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-806f2cab-fb5c-409d-84b7-e0c7fce8f80c]: FINISHED"}}
[debug] [2021-03-13T14:07:15.461Z] [runtime-status] [5624] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:07:15.464Z] [runtime-status] [5624] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:07:15.476Z] [runtime-status] [5624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.480Z] [runtime-status] [5624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.482Z] [runtime-status] [5624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.484Z] [runtime-status] [5624] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:07:15.485Z] [runtime-status] [5624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.604Z] [runtime-status] [5624] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:07:15.604Z] [runtime-status] [5624] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:07:15.605Z] [runtime-status] [5624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.607Z] [runtime-status] [5624] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.608Z] [runtime-status] [5624] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:15.608Z] [runtime-status] [5624] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5624] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:07:15.973Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: IDLE"}}
[debug] [2021-03-13T14:07:58.298Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:07:58.299Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:07:58.300Z] Accepted request GET /poduchy-anuchy/us-central1/api --> api
[debug] [2021-03-13T14:07:58.301Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:07:58.315Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:07:58.316Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:07:58.317Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:07:58.318Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:07:58.318Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY"}}
[debug] [2021-03-13T14:07:59.631Z] [runtime-status] [8904] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:07:59.636Z] [runtime-status] [8904] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:07:59.658Z] [runtime-status] [8904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.662Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.666Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.670Z] [runtime-status] [8904] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:07:59.671Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.809Z] [runtime-status] [8904] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:07:59.809Z] [runtime-status] [8904] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:07:59.810Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.814Z] [runtime-status] [8904] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.817Z] [runtime-status] [8904] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:07:59.817Z] [runtime-status] [8904] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:08:00.322Z] [runtime-status] [8904] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:08:00.325Z] [runtime-status] [8904] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:08:00.326Z] [runtime-status] [8904] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:08:00.334Z] [runtime-status] [8904] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:08:00.341Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:08:00.361Z] [runtime-status] [8904] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server handling GET request"}}
[debug] [2021-03-13T14:08:00.376Z] [runtime-status] [8904] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:08:00.384Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE"}}
[debug] [2021-03-13T14:08:00.384Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:08:22.513Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:08:22.513Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:08:22.514Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:08:22.514Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:08:22.514Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:08:22.514Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY"}}
[debug] [2021-03-13T14:08:22.515Z] [runtime-status] [8904] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:08:22.520Z] [runtime-status] [8904] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:08:22.521Z] [runtime-status] [8904] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:08:22.522Z] [runtime-status] [8904] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:08:22.525Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:08:22.534Z] [runtime-status] [8904] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:08:22.557Z] [runtime-status] [8904] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:08:23.571Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE"}}
[debug] [2021-03-13T14:08:23.573Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:10:57.388Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:10:57.388Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:10:57.389Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:10:57.389Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:10:57.389Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:10:57.390Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY"}}
[debug] [2021-03-13T14:10:57.391Z] [runtime-status] [8904] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:10:57.406Z] [runtime-status] [8904] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:10:57.406Z] [runtime-status] [8904] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:10:57.407Z] [runtime-status] [8904] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:10:57.411Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:10:57.416Z] [runtime-status] [8904] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-13T14:10:57.420Z] [runtime-status] [8904] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:10:57.898Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE"}}
[debug] [2021-03-13T14:10:57.898Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:11:06.464Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:11:06.464Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:11:06.465Z] Accepted request GET /poduchy-anuchy/us-central1/api --> api
[debug] [2021-03-13T14:11:06.465Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:11:06.465Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:11:06.466Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: BUSY"}}
[debug] [2021-03-13T14:11:06.467Z] [runtime-status] [8904] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:11:06.470Z] [runtime-status] [8904] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:11:06.470Z] [runtime-status] [8904] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:11:06.471Z] [runtime-status] [8904] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8904 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8904"}}
[debug] [2021-03-13T14:11:06.473Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:11:06.486Z] [runtime-status] [8904] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server handling GET request"}}
[debug] [2021-03-13T14:11:06.489Z] [runtime-status] [8904] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8904] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:11:06.491Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: IDLE"}}
[debug] [2021-03-13T14:11:06.491Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:11:53.274Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:11:53.637Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:11:53.704Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:11:54.716Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:11:54.717Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: FINISHING"}}
[debug] [2021-03-13T14:11:54.717Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-13T14:11:54.718Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: FINISHING"}}
[debug] [2021-03-13T14:11:54.771Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:11:54.771Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:11:54.771Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:11:54.772Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12500 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12500"}}
[debug] [2021-03-13T14:11:54.772Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: BUSY"}}
[debug] [2021-03-13T14:11:54.776Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: exited"}}
[debug] [2021-03-13T14:11:54.776Z] [worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5e8d14ae-3a9a-4a75-8449-8a94f71c4d2e]: FINISHED"}}
[debug] [2021-03-13T14:11:54.777Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: exited"}}
[debug] [2021-03-13T14:11:54.777Z] [worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e15aacd5-3738-42af-b42e-72489910a852]: FINISHED"}}
[debug] [2021-03-13T14:11:59.549Z] [runtime-status] [12500] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:11:59.553Z] [runtime-status] [12500] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:11:59.578Z] [runtime-status] [12500] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:11:59.596Z] [runtime-status] [12500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:11:59.597Z] [runtime-status] [12500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:11:59.599Z] [runtime-status] [12500] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:11:59.600Z] [runtime-status] [12500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:00.146Z] [runtime-status] [12500] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:12:00.147Z] [runtime-status] [12500] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:00.148Z] [runtime-status] [12500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:00.151Z] [runtime-status] [12500] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:00.152Z] [runtime-status] [12500] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:00.153Z] [runtime-status] [12500] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12500] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:02.796Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: IDLE"}}
[debug] [2021-03-13T14:12:03.266Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:12:04.275Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:12:04.276Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: FINISHING"}}
[debug] [2021-03-13T14:12:04.276Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:12:04.277Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:12:04.295Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:12:04.295Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:12:04.295Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:12:04.296Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9736 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9736"}}
[debug] [2021-03-13T14:12:04.296Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: BUSY"}}
[debug] [2021-03-13T14:12:04.297Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: exited"}}
[debug] [2021-03-13T14:12:04.298Z] [worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f3c8c62a-e0b7-4986-bce4-f7f1ae480544]: FINISHED"}}
[debug] [2021-03-13T14:12:04.931Z] [runtime-status] [9736] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:12:04.938Z] [runtime-status] [9736] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:12:04.947Z] [runtime-status] [9736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:04.949Z] [runtime-status] [9736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:04.951Z] [runtime-status] [9736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:04.953Z] [runtime-status] [9736] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:12:04.954Z] [runtime-status] [9736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:05.025Z] [runtime-status] [9736] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:12:05.025Z] [runtime-status] [9736] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:05.027Z] [runtime-status] [9736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:05.029Z] [runtime-status] [9736] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:05.030Z] [runtime-status] [9736] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:05.030Z] [runtime-status] [9736] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9736] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:05.341Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: IDLE"}}
[debug] [2021-03-13T14:12:47.315Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:12:47.316Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:12:47.316Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:12:47.316Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:12:47.331Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:12:47.331Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:12:47.331Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:12:47.331Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1208 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1208"}}
[debug] [2021-03-13T14:12:47.332Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: BUSY"}}
[debug] [2021-03-13T14:12:48.491Z] [runtime-status] [1208] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:12:48.494Z] [runtime-status] [1208] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:12:48.507Z] [runtime-status] [1208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.510Z] [runtime-status] [1208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.512Z] [runtime-status] [1208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.514Z] [runtime-status] [1208] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:12:48.515Z] [runtime-status] [1208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.618Z] [runtime-status] [1208] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:12:48.618Z] [runtime-status] [1208] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:48.619Z] [runtime-status] [1208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.621Z] [runtime-status] [1208] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.622Z] [runtime-status] [1208] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:12:48.622Z] [runtime-status] [1208] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:12:48.956Z] [runtime-status] [1208] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:12:48.958Z] [runtime-status] [1208] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:12:48.959Z] [runtime-status] [1208] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:12:48.968Z] [runtime-status] [1208] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1208 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1208"}}
[debug] [2021-03-13T14:12:48.973Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:12:48.993Z] [runtime-status] [1208] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:12:49.024Z] [runtime-status] [1208] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1208] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:12:49.805Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: IDLE"}}
[debug] [2021-03-13T14:12:49.805Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:16:53.203Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:16:54.207Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:16:54.207Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: FINISHING"}}
[debug] [2021-03-13T14:16:54.208Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-13T14:16:54.209Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: FINISHING"}}
[debug] [2021-03-13T14:16:54.230Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:16:54.231Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:16:54.231Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:16:54.232Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10860 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10860"}}
[debug] [2021-03-13T14:16:54.232Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: BUSY"}}
[debug] [2021-03-13T14:16:54.234Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: exited"}}
[debug] [2021-03-13T14:16:54.234Z] [worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-aee21561-3ee9-4007-8a61-7057ed706d27]: FINISHED"}}
[debug] [2021-03-13T14:16:54.234Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: exited"}}
[debug] [2021-03-13T14:16:54.234Z] [worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5b21963e-8f2a-4c8d-9b98-de42752c145f]: FINISHED"}}
[debug] [2021-03-13T14:16:55.195Z] [runtime-status] [10860] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:16:55.199Z] [runtime-status] [10860] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:16:55.211Z] [runtime-status] [10860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.214Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.215Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.218Z] [runtime-status] [10860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:16:55.219Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.321Z] [runtime-status] [10860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:16:55.321Z] [runtime-status] [10860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:16:55.322Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.324Z] [runtime-status] [10860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.325Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:16:55.325Z] [runtime-status] [10860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:16:55.679Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: IDLE"}}
[debug] [2021-03-13T14:17:39.576Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:17:39.576Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:17:39.577Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:17:39.577Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:17:39.577Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:17:39.589Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:17:39.589Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:17:39.590Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:17:39.590Z] [worker-api-11f99973-baf7-425c-b12a-81af78651135]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10268 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11f99973-baf7-425c-b12a-81af78651135]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10268"}}
[debug] [2021-03-13T14:17:39.591Z] [worker-api-11f99973-baf7-425c-b12a-81af78651135]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11f99973-baf7-425c-b12a-81af78651135]: BUSY"}}
[debug] [2021-03-13T14:17:41.517Z] [runtime-status] [10268] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:17:41.541Z] [runtime-status] [10268] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:17:41.561Z] [runtime-status] [10268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.565Z] [runtime-status] [10268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.569Z] [runtime-status] [10268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.577Z] [runtime-status] [10268] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:17:41.578Z] [runtime-status] [10268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.756Z] [runtime-status] [10268] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:17:41.758Z] [runtime-status] [10268] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:17:41.763Z] [runtime-status] [10268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.767Z] [runtime-status] [10268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.771Z] [runtime-status] [10268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:17:41.771Z] [runtime-status] [10268] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:17:42.331Z] [runtime-status] [10268] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:17:42.340Z] [runtime-status] [10268] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:17:42.341Z] [runtime-status] [10268] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:17:42.349Z] [runtime-status] [10268] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10268 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10268"}}
[debug] [2021-03-13T14:17:42.358Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:17:42.376Z] [runtime-status] [10268] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-13T14:17:42.423Z] [runtime-status] [10268] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10268] Ephemeral server survived."}}
[info] >  (node:10268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-13T14:18:02.955Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-13T14:18:02.956Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-13T14:18:02.956Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:18:02.967Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:18:02.967Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-13T14:18:02.968Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:18:02.969Z] [worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6092 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6092"}}
[debug] [2021-03-13T14:18:02.969Z] [worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: BUSY"}}
[debug] [2021-03-13T14:18:04.061Z] [runtime-status] [6092] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:18:04.065Z] [runtime-status] [6092] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:18:04.081Z] [runtime-status] [6092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.086Z] [runtime-status] [6092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.088Z] [runtime-status] [6092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.090Z] [runtime-status] [6092] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:18:04.091Z] [runtime-status] [6092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.194Z] [runtime-status] [6092] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:18:04.194Z] [runtime-status] [6092] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:18:04.195Z] [runtime-status] [6092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.197Z] [runtime-status] [6092] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.198Z] [runtime-status] [6092] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:18:04.198Z] [runtime-status] [6092] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:18:04.532Z] [runtime-status] [6092] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:18:04.534Z] [runtime-status] [6092] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:18:04.534Z] [runtime-status] [6092] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:18:04.543Z] [runtime-status] [6092] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6092 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6092"}}
[debug] [2021-03-13T14:18:04.548Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:18:04.562Z] [runtime-status] [6092] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:18:04.592Z] [runtime-status] [6092] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6092] Ephemeral server survived."}}
[info] >  (node:6092) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:6092) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6092) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:6092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6092) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6092) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:18:42.390Z] [worker-api-11f99973-baf7-425c-b12a-81af78651135]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11f99973-baf7-425c-b12a-81af78651135]: exited"}}
[debug] [2021-03-13T14:18:42.390Z] [worker-api-11f99973-baf7-425c-b12a-81af78651135]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11f99973-baf7-425c-b12a-81af78651135]: FINISHED"}}
[debug] [2021-03-13T14:18:42.391Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:19:04.577Z] [worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: exited"}}
[debug] [2021-03-13T14:19:04.577Z] [worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ed9a56cd-282e-4d7e-85d3-87395c6001c5]: FINISHED"}}
[debug] [2021-03-13T14:19:04.578Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:19:36.510Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:19:36.510Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:19:36.510Z] Accepted request GET /poduchy-anuchy/us-central1/api/payment --> api
[debug] [2021-03-13T14:19:36.510Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-13T14:19:36.517Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:19:36.518Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:19:36.518Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:19:36.519Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13692 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13692"}}
[debug] [2021-03-13T14:19:36.520Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: BUSY"}}
[debug] [2021-03-13T14:19:37.276Z] [runtime-status] [13692] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:19:37.284Z] [runtime-status] [13692] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:19:37.298Z] [runtime-status] [13692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.301Z] [runtime-status] [13692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.302Z] [runtime-status] [13692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.305Z] [runtime-status] [13692] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:19:37.306Z] [runtime-status] [13692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.386Z] [runtime-status] [13692] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:19:37.387Z] [runtime-status] [13692] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:19:37.388Z] [runtime-status] [13692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.390Z] [runtime-status] [13692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.391Z] [runtime-status] [13692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:19:37.391Z] [runtime-status] [13692] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:19:37.699Z] [runtime-status] [13692] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:19:37.701Z] [runtime-status] [13692] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:19:37.701Z] [runtime-status] [13692] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:19:37.710Z] [runtime-status] [13692] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13692 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13692"}}
[debug] [2021-03-13T14:19:37.715Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:19:37.733Z] [runtime-status] [13692] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Ephemeral server handling GET request"}}
[debug] [2021-03-13T14:19:37.752Z] [runtime-status] [13692] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13692] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:19:37.760Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: IDLE"}}
[debug] [2021-03-13T14:19:37.760Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:27:58.405Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:27:59.420Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:27:59.421Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: FINISHING"}}
[debug] [2021-03-13T14:27:59.422Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-13T14:27:59.423Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: FINISHING"}}
[debug] [2021-03-13T14:27:59.442Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:27:59.443Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:27:59.443Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:27:59.443Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7660 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7660"}}
[debug] [2021-03-13T14:27:59.444Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: BUSY"}}
[debug] [2021-03-13T14:27:59.445Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: exited"}}
[debug] [2021-03-13T14:27:59.445Z] [worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4f8039bf-d67b-4b64-b54b-3400bb82be85]: FINISHED"}}
[debug] [2021-03-13T14:27:59.446Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: exited"}}
[debug] [2021-03-13T14:27:59.446Z] [worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-497de31f-acf9-4708-af94-a067b4e64a74]: FINISHED"}}
[debug] [2021-03-13T14:28:01.110Z] [runtime-status] [7660] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:28:01.116Z] [runtime-status] [7660] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:28:01.132Z] [runtime-status] [7660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.137Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.139Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.143Z] [runtime-status] [7660] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:28:01.144Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.345Z] [runtime-status] [7660] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:28:01.346Z] [runtime-status] [7660] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:28:01.347Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.349Z] [runtime-status] [7660] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.350Z] [runtime-status] [7660] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:28:01.351Z] [runtime-status] [7660] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [7660] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:28:01.949Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: IDLE"}}
[debug] [2021-03-13T14:30:16.318Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:30:16.319Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:30:16.320Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:30:16.320Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:30:16.321Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:30:16.339Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:30:16.339Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:30:16.339Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:30:16.340Z] [worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13576 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13576"}}
[debug] [2021-03-13T14:30:16.340Z] [worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: BUSY"}}
[debug] [2021-03-13T14:30:18.054Z] [runtime-status] [13576] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:30:18.062Z] [runtime-status] [13576] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:30:18.077Z] [runtime-status] [13576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.084Z] [runtime-status] [13576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.090Z] [runtime-status] [13576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.092Z] [runtime-status] [13576] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:30:18.093Z] [runtime-status] [13576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.228Z] [runtime-status] [13576] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:30:18.228Z] [runtime-status] [13576] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:30:18.229Z] [runtime-status] [13576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.241Z] [runtime-status] [13576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.241Z] [runtime-status] [13576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:30:18.241Z] [runtime-status] [13576] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:30:18.697Z] [runtime-status] [13576] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:30:18.703Z] [runtime-status] [13576] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:30:18.703Z] [runtime-status] [13576] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:30:18.712Z] [runtime-status] [13576] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13576 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13576"}}
[debug] [2021-03-13T14:30:18.730Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:30:18.769Z] [runtime-status] [13576] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:30:18.804Z] [runtime-status] [13576] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13576] Ephemeral server survived."}}
[info] >  (node:13576) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:13576) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13576) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:13576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:31:18.758Z] [worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: exited"}}
[debug] [2021-03-13T14:31:18.758Z] [worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fa60146c-d853-4fdc-b50e-0466e769560b]: FINISHED"}}
[debug] [2021-03-13T14:31:18.758Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:33:04.281Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:33:04.282Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:33:04.282Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:33:04.282Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:33:04.313Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:33:04.315Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:33:04.316Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:33:04.318Z] [worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T14:33:04.318Z] [worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: BUSY"}}
[debug] [2021-03-13T14:33:06.588Z] [runtime-status] [8768] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:33:06.600Z] [runtime-status] [8768] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:33:06.627Z] [runtime-status] [8768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.634Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.637Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.642Z] [runtime-status] [8768] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:33:06.643Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.810Z] [runtime-status] [8768] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:33:06.811Z] [runtime-status] [8768] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:33:06.813Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.814Z] [runtime-status] [8768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.815Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:33:06.816Z] [runtime-status] [8768] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:33:07.506Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:33:07.508Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:33:07.508Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:33:07.516Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T14:33:07.527Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:33:07.563Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:33:07.589Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  (node:8768) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:8768) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8768) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:34:07.641Z] [worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: exited"}}
[debug] [2021-03-13T14:34:07.642Z] [worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e1a4e2f8-e400-4c60-87f7-846d10d52e8f]: FINISHED"}}
[debug] [2021-03-13T14:34:07.642Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:36:59.845Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:36:59.852Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:36:59.855Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:36:59.855Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:36:59.882Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:36:59.884Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:36:59.885Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:36:59.886Z] [worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10728 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10728"}}
[debug] [2021-03-13T14:36:59.886Z] [worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: BUSY"}}
[debug] [2021-03-13T14:37:01.710Z] [runtime-status] [10728] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:37:01.719Z] [runtime-status] [10728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:37:01.731Z] [runtime-status] [10728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.747Z] [runtime-status] [10728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.750Z] [runtime-status] [10728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.757Z] [runtime-status] [10728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:37:01.758Z] [runtime-status] [10728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.920Z] [runtime-status] [10728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:37:01.921Z] [runtime-status] [10728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:37:01.922Z] [runtime-status] [10728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.924Z] [runtime-status] [10728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.925Z] [runtime-status] [10728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:37:01.926Z] [runtime-status] [10728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:37:02.686Z] [runtime-status] [10728] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:37:02.697Z] [runtime-status] [10728] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:37:02.697Z] [runtime-status] [10728] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:37:02.710Z] [runtime-status] [10728] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10728 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10728"}}
[debug] [2021-03-13T14:37:02.729Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:37:02.775Z] [runtime-status] [10728] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:37:02.828Z] [runtime-status] [10728] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10728] Ephemeral server survived."}}
[info] >  (node:10728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:10728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:38:02.774Z] [worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: exited"}}
[debug] [2021-03-13T14:38:02.775Z] [worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-502cf7d0-9c4a-45d4-a404-0a14eadd6604]: FINISHED"}}
[debug] [2021-03-13T14:38:02.775Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:42:17.195Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:42:17.243Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:42:17.246Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:42:17.249Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:42:17.366Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:42:17.369Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:42:17.369Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:42:17.373Z] [worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11440 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11440"}}
[debug] [2021-03-13T14:42:17.377Z] [worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: BUSY"}}
[debug] [2021-03-13T14:42:34.694Z] [runtime-status] [11440] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:42:34.709Z] [runtime-status] [11440] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:42:34.933Z] [runtime-status] [11440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:34.936Z] [runtime-status] [11440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:34.947Z] [runtime-status] [11440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:35.034Z] [runtime-status] [11440] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:42:35.035Z] [runtime-status] [11440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:35.570Z] [runtime-status] [11440] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:42:35.635Z] [runtime-status] [11440] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:42:35.636Z] [runtime-status] [11440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:35.637Z] [runtime-status] [11440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:35.685Z] [runtime-status] [11440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:42:35.733Z] [runtime-status] [11440] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:42:40.769Z] [runtime-status] [11440] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:42:40.835Z] [runtime-status] [11440] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:42:40.836Z] [runtime-status] [11440] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:42:40.841Z] [runtime-status] [11440] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11440 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11440"}}
[debug] [2021-03-13T14:42:41.117Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:42:41.350Z] [runtime-status] [11440] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 0 {"user":"Payment request received BOoom!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 0"}}
[debug] [2021-03-13T14:42:41.542Z] [runtime-status] [11440] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11440] Ephemeral server survived."}}
[info] >  (node:11440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:11440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:11440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:43:40.883Z] [worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: exited"}}
[debug] [2021-03-13T14:43:40.884Z] [worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a6728f7f-355d-4bac-b9fb-76a3bba99453]: FINISHED"}}
[debug] [2021-03-13T14:43:40.884Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:44:11.919Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:44:11.919Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:44:11.919Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:44:11.919Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:44:11.935Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:44:11.936Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:44:11.936Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:44:11.937Z] [worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11728 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11728"}}
[debug] [2021-03-13T14:44:11.937Z] [worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: BUSY"}}
[debug] [2021-03-13T14:44:13.409Z] [runtime-status] [11728] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:44:13.420Z] [runtime-status] [11728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:44:13.433Z] [runtime-status] [11728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.436Z] [runtime-status] [11728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.437Z] [runtime-status] [11728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.442Z] [runtime-status] [11728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:44:13.442Z] [runtime-status] [11728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.546Z] [runtime-status] [11728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:44:13.547Z] [runtime-status] [11728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:44:13.547Z] [runtime-status] [11728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.549Z] [runtime-status] [11728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.550Z] [runtime-status] [11728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:44:13.551Z] [runtime-status] [11728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:44:13.940Z] [runtime-status] [11728] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:44:13.941Z] [runtime-status] [11728] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:44:13.942Z] [runtime-status] [11728] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:44:13.952Z] [runtime-status] [11728] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11728 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11728"}}
[debug] [2021-03-13T14:44:13.960Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:44:13.985Z] [runtime-status] [11728] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Ephemeral server handling POST request"}}
[info] >  Payment request received BOoom!!! 29996.999999999996 {"user":"Payment request received BOoom!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOoom!!! 29996.999999999996"}}
[debug] [2021-03-13T14:44:14.013Z] [runtime-status] [11728] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11728] Ephemeral server survived."}}
[info] >  (node:11728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:11728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11728) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:11728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:45:14.004Z] [worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: exited"}}
[debug] [2021-03-13T14:45:14.004Z] [worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-78a96ac9-5560-4a8a-a07c-5c6c6c8b7906]: FINISHED"}}
[debug] [2021-03-13T14:45:14.004Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:46:25.356Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:46:26.359Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:46:26.360Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: FINISHING"}}
[debug] [2021-03-13T14:46:26.361Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:46:26.380Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:46:26.380Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:46:26.381Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:46:26.385Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12272 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12272"}}
[debug] [2021-03-13T14:46:26.385Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: BUSY"}}
[debug] [2021-03-13T14:46:26.421Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: exited"}}
[debug] [2021-03-13T14:46:26.422Z] [worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-acfa3081-3b39-429e-b343-5cb9c4eb97a1]: FINISHED"}}
[debug] [2021-03-13T14:46:27.259Z] [runtime-status] [12272] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:46:27.267Z] [runtime-status] [12272] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:46:27.277Z] [runtime-status] [12272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.280Z] [runtime-status] [12272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.281Z] [runtime-status] [12272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.284Z] [runtime-status] [12272] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:46:27.285Z] [runtime-status] [12272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.355Z] [runtime-status] [12272] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:46:27.355Z] [runtime-status] [12272] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:46:27.356Z] [runtime-status] [12272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.358Z] [runtime-status] [12272] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.359Z] [runtime-status] [12272] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:46:27.360Z] [runtime-status] [12272] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [12272] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:46:27.629Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: IDLE"}}
[debug] [2021-03-13T14:47:23.078Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:47:24.096Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:47:24.097Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: FINISHING"}}
[debug] [2021-03-13T14:47:24.097Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:47:24.109Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:47:24.110Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:47:24.111Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:47:24.112Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10028 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10028"}}
[debug] [2021-03-13T14:47:24.112Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: BUSY"}}
[debug] [2021-03-13T14:47:24.117Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: exited"}}
[debug] [2021-03-13T14:47:24.117Z] [worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7eba1690-21f8-40da-b0bc-a61776df5b33]: FINISHED"}}
[debug] [2021-03-13T14:47:24.881Z] [runtime-status] [10028] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:47:24.885Z] [runtime-status] [10028] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:47:24.897Z] [runtime-status] [10028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.900Z] [runtime-status] [10028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.901Z] [runtime-status] [10028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.904Z] [runtime-status] [10028] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:47:24.905Z] [runtime-status] [10028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.980Z] [runtime-status] [10028] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:47:24.980Z] [runtime-status] [10028] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:47:24.981Z] [runtime-status] [10028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.983Z] [runtime-status] [10028] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.984Z] [runtime-status] [10028] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:24.984Z] [runtime-status] [10028] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [10028] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:47:25.250Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: IDLE"}}
[debug] [2021-03-13T14:47:45.025Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T14:47:46.038Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T14:47:46.042Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: FINISHING"}}
[debug] [2021-03-13T14:47:46.044Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:47:46.065Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T14:47:46.065Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T14:47:46.066Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T14:47:46.066Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8728 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8728"}}
[debug] [2021-03-13T14:47:46.067Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: BUSY"}}
[debug] [2021-03-13T14:47:46.069Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: exited"}}
[debug] [2021-03-13T14:47:46.070Z] [worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-25a2f997-4531-409b-a414-63f93469d19c]: FINISHED"}}
[debug] [2021-03-13T14:47:47.002Z] [runtime-status] [8728] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:47:47.009Z] [runtime-status] [8728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:47:47.018Z] [runtime-status] [8728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.021Z] [runtime-status] [8728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.023Z] [runtime-status] [8728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.026Z] [runtime-status] [8728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:47:47.027Z] [runtime-status] [8728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.105Z] [runtime-status] [8728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:47:47.106Z] [runtime-status] [8728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:47:47.108Z] [runtime-status] [8728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.110Z] [runtime-status] [8728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.111Z] [runtime-status] [8728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:47:47.111Z] [runtime-status] [8728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [8728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:47:47.421Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: IDLE"}}
[debug] [2021-03-13T14:48:46.644Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:48:46.645Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:48:46.645Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39996 --> api
[debug] [2021-03-13T14:48:46.645Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T14:48:46.655Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:48:46.656Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:48:46.656Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:48:46.658Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5484 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5484"}}
[debug] [2021-03-13T14:48:46.658Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: BUSY"}}
[debug] [2021-03-13T14:48:47.762Z] [runtime-status] [5484] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:48:47.769Z] [runtime-status] [5484] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:48:47.775Z] [runtime-status] [5484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.783Z] [runtime-status] [5484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.786Z] [runtime-status] [5484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.790Z] [runtime-status] [5484] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:48:47.791Z] [runtime-status] [5484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.867Z] [runtime-status] [5484] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:48:47.867Z] [runtime-status] [5484] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:48:47.868Z] [runtime-status] [5484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.870Z] [runtime-status] [5484] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.871Z] [runtime-status] [5484] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:48:47.871Z] [runtime-status] [5484] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:48:48.183Z] [runtime-status] [5484] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:48:48.185Z] [runtime-status] [5484] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:48:48.185Z] [runtime-status] [5484] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:48:48.192Z] [runtime-status] [5484] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5484 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5484"}}
[debug] [2021-03-13T14:48:48.202Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:48:48.241Z] [runtime-status] [5484] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 39996 {"user":"Payment request received BOOOOOOM!!! 39996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 39996"}}
[debug] [2021-03-13T14:48:48.286Z] [runtime-status] [5484] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUYlmLJT82lIrq7V95d8TZT_secret_ChVtWc1LPrS3vAO6U6Qgbo665 {"user":"BACKEND client secret is pi_1IUYlmLJT82lIrq7V95d8TZT_secret_ChVtWc1LPrS3vAO6U6Qgbo665","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUYlmLJT82lIrq7V95d8TZT_secret_ChVtWc1LPrS3vAO6U6Qgbo665"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:48:49.158Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: IDLE"}}
[debug] [2021-03-13T14:48:49.159Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:49:22.016Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:49:22.017Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:49:22.017Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:49:22.018Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:49:22.018Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5484 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5484"}}
[debug] [2021-03-13T14:49:22.018Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: BUSY"}}
[debug] [2021-03-13T14:49:22.019Z] [runtime-status] [5484] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:49:22.021Z] [runtime-status] [5484] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:49:22.022Z] [runtime-status] [5484] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:49:22.022Z] [runtime-status] [5484] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5484 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5484"}}
[debug] [2021-03-13T14:49:22.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:49:22.031Z] [runtime-status] [5484] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T14:49:22.033Z] [runtime-status] [5484] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5484] Ephemeral server survived."}}
[info] >  (node:5484) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5484) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5484) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5484) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5484) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5484) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5484) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5484) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5484) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:50:27.372Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: exited"}}
[debug] [2021-03-13T14:50:27.373Z] [worker-api-72288531-f451-4189-857a-64a415d80c03]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-72288531-f451-4189-857a-64a415d80c03]: FINISHED"}}
[debug] [2021-03-13T14:50:27.373Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:51:09.762Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:51:09.762Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:51:09.762Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:51:09.762Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:51:09.773Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:51:09.773Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:51:09.774Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:51:09.776Z] [worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14004 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14004"}}
[debug] [2021-03-13T14:51:09.777Z] [worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: BUSY"}}
[debug] [2021-03-13T14:51:10.892Z] [runtime-status] [14004] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:51:10.901Z] [runtime-status] [14004] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:51:10.917Z] [runtime-status] [14004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:10.920Z] [runtime-status] [14004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:10.922Z] [runtime-status] [14004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:10.926Z] [runtime-status] [14004] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:51:10.928Z] [runtime-status] [14004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:11.089Z] [runtime-status] [14004] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:51:11.090Z] [runtime-status] [14004] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:51:11.090Z] [runtime-status] [14004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:11.090Z] [runtime-status] [14004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:11.091Z] [runtime-status] [14004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:51:11.091Z] [runtime-status] [14004] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:51:11.617Z] [runtime-status] [14004] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:51:11.619Z] [runtime-status] [14004] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:51:11.619Z] [runtime-status] [14004] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:51:11.628Z] [runtime-status] [14004] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14004 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14004"}}
[debug] [2021-03-13T14:51:11.635Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:51:11.664Z] [runtime-status] [14004] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 29996.999999999996 {"user":"Payment request received BOOOOOOM!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 29996.999999999996"}}
[debug] [2021-03-13T14:51:11.691Z] [runtime-status] [14004] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14004] Ephemeral server survived."}}
[info] >  (node:14004) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:14004) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14004) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:14004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:52:11.692Z] [worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: exited"}}
[debug] [2021-03-13T14:52:11.695Z] [worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4864ba30-491d-4eb8-be5f-4cab59a0a41a]: FINISHED"}}
[debug] [2021-03-13T14:52:11.696Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:53:19.975Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:53:19.975Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:53:19.975Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=69993 --> api
[debug] [2021-03-13T14:53:19.976Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:53:19.986Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:53:19.987Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:53:19.987Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:53:19.987Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13212 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13212"}}
[debug] [2021-03-13T14:53:19.987Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: BUSY"}}
[debug] [2021-03-13T14:53:21.024Z] [runtime-status] [13212] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:53:21.031Z] [runtime-status] [13212] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:53:21.044Z] [runtime-status] [13212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.047Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.048Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.051Z] [runtime-status] [13212] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:53:21.052Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.146Z] [runtime-status] [13212] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:53:21.147Z] [runtime-status] [13212] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:53:21.148Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.158Z] [runtime-status] [13212] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.158Z] [runtime-status] [13212] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:53:21.159Z] [runtime-status] [13212] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:53:21.432Z] [runtime-status] [13212] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:53:21.433Z] [runtime-status] [13212] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:53:21.434Z] [runtime-status] [13212] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:53:21.443Z] [runtime-status] [13212] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13212 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13212"}}
[debug] [2021-03-13T14:53:21.450Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:53:21.475Z] [runtime-status] [13212] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 69993 {"user":"Payment request received BOOOOOOM!!! 69993","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 69993"}}
[debug] [2021-03-13T14:53:21.501Z] [runtime-status] [13212] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUYqBLJT82lIrq7L14f6WYO_secret_B2HDE5U4iV3SBoT3APUig4Ctf {"user":"BACKEND client secret is pi_1IUYqBLJT82lIrq7L14f6WYO_secret_B2HDE5U4iV3SBoT3APUig4Ctf","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUYqBLJT82lIrq7L14f6WYO_secret_B2HDE5U4iV3SBoT3APUig4Ctf"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:53:22.303Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: IDLE"}}
[debug] [2021-03-13T14:53:22.304Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:53:43.377Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:53:43.377Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:53:43.377Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:53:43.378Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:53:43.378Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13212 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13212"}}
[debug] [2021-03-13T14:53:43.378Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: BUSY"}}
[debug] [2021-03-13T14:53:43.380Z] [runtime-status] [13212] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:53:43.383Z] [runtime-status] [13212] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:53:43.383Z] [runtime-status] [13212] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:53:43.383Z] [runtime-status] [13212] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13212 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13212"}}
[debug] [2021-03-13T14:53:43.386Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:53:43.392Z] [runtime-status] [13212] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T14:53:43.396Z] [runtime-status] [13212] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13212] Ephemeral server survived."}}
[info] >  (node:13212) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:13212) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13212) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:13212) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13212) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13212) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13212) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13212) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13212) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-13T14:54:27.556Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-13T14:54:27.557Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-13T14:54:27.557Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39996 --> api
[debug] [2021-03-13T14:54:27.565Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:54:27.565Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-13T14:54:27.566Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:54:27.566Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3672 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3672"}}
[debug] [2021-03-13T14:54:27.566Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: BUSY"}}
[debug] [2021-03-13T14:54:28.653Z] [runtime-status] [3672] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:54:28.661Z] [runtime-status] [3672] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:54:28.672Z] [runtime-status] [3672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.675Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.677Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.680Z] [runtime-status] [3672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:54:28.681Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.755Z] [runtime-status] [3672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:54:28.755Z] [runtime-status] [3672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:54:28.756Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.758Z] [runtime-status] [3672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.759Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:54:28.759Z] [runtime-status] [3672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:54:29.058Z] [runtime-status] [3672] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:54:29.060Z] [runtime-status] [3672] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:54:29.060Z] [runtime-status] [3672] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:54:29.070Z] [runtime-status] [3672] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3672 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3672"}}
[debug] [2021-03-13T14:54:29.076Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:54:29.094Z] [runtime-status] [3672] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 39996 {"user":"Payment request received BOOOOOOM!!! 39996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 39996"}}
[debug] [2021-03-13T14:54:29.122Z] [runtime-status] [3672] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUYrGLJT82lIrq7U2ammlKy_secret_RkdR2KYnPmsddcDSMeA08hcPE {"user":"BACKEND client secret is pi_1IUYrGLJT82lIrq7U2ammlKy_secret_RkdR2KYnPmsddcDSMeA08hcPE","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUYrGLJT82lIrq7U2ammlKy_secret_RkdR2KYnPmsddcDSMeA08hcPE"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:54:29.899Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: IDLE"}}
[debug] [2021-03-13T14:54:29.900Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:54:42.232Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-13T14:54:42.232Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-13T14:54:42.233Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:54:42.233Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:54:42.233Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3672 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3672"}}
[debug] [2021-03-13T14:54:42.233Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: BUSY"}}
[debug] [2021-03-13T14:54:42.234Z] [runtime-status] [3672] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:54:42.236Z] [runtime-status] [3672] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:54:42.236Z] [runtime-status] [3672] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:54:42.237Z] [runtime-status] [3672] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3672 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3672"}}
[debug] [2021-03-13T14:54:42.239Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:54:42.244Z] [runtime-status] [3672] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T14:54:42.250Z] [runtime-status] [3672] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3672] Ephemeral server survived."}}
[info] >  (node:3672) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3672) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3672) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3672) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3672) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:54:43.472Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: exited"}}
[debug] [2021-03-13T14:54:43.473Z] [worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-a7836a4a-cc83-4fac-8780-cbbf3f1eaddd]: FINISHED"}}
[debug] [2021-03-13T14:54:43.476Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:55:30.446Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-13T14:55:30.447Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-13T14:55:30.447Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=79992 --> api
[debug] [2021-03-13T14:55:30.447Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-03-13T14:55:30.461Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:55:30.461Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-13T14:55:30.461Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:55:30.462Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10740 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10740"}}
[debug] [2021-03-13T14:55:30.463Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: BUSY"}}
[debug] [2021-03-13T14:55:31.699Z] [runtime-status] [10740] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:55:31.706Z] [runtime-status] [10740] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:55:31.717Z] [runtime-status] [10740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.720Z] [runtime-status] [10740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.722Z] [runtime-status] [10740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.727Z] [runtime-status] [10740] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:55:31.728Z] [runtime-status] [10740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.810Z] [runtime-status] [10740] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:55:31.810Z] [runtime-status] [10740] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:55:31.811Z] [runtime-status] [10740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.813Z] [runtime-status] [10740] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.814Z] [runtime-status] [10740] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:55:31.814Z] [runtime-status] [10740] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:55:32.066Z] [runtime-status] [10740] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:55:32.068Z] [runtime-status] [10740] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:55:32.068Z] [runtime-status] [10740] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:55:32.073Z] [runtime-status] [10740] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10740 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10740"}}
[debug] [2021-03-13T14:55:32.079Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:55:32.097Z] [runtime-status] [10740] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 79992 {"user":"Payment request received BOOOOOOM!!! 79992","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 79992"}}
[debug] [2021-03-13T14:55:32.125Z] [runtime-status] [10740] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUYsHLJT82lIrq7RY5Mzl6x_secret_JqIRr1EP2uIt1bOPRhujNx9qB {"user":"BACKEND client secret is pi_1IUYsHLJT82lIrq7RY5Mzl6x_secret_JqIRr1EP2uIt1bOPRhujNx9qB","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUYsHLJT82lIrq7RY5Mzl6x_secret_JqIRr1EP2uIt1bOPRhujNx9qB"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:55:32.898Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: IDLE"}}
[debug] [2021-03-13T14:55:32.898Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:55:42.286Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: exited"}}
[debug] [2021-03-13T14:55:42.287Z] [worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d859ccce-a8d7-4dc0-8086-f8fa609e21f4]: FINISHED"}}
[debug] [2021-03-13T14:55:42.287Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:55:48.375Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:55:48.376Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:55:48.376Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:55:48.376Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-03-13T14:55:48.376Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:55:48.377Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10740 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10740"}}
[debug] [2021-03-13T14:55:48.377Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: BUSY"}}
[debug] [2021-03-13T14:55:48.378Z] [runtime-status] [10740] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:55:48.381Z] [runtime-status] [10740] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:55:48.381Z] [runtime-status] [10740] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:55:48.381Z] [runtime-status] [10740] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10740 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10740"}}
[debug] [2021-03-13T14:55:48.383Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:55:48.388Z] [runtime-status] [10740] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T14:55:48.392Z] [runtime-status] [10740] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10740] Ephemeral server survived."}}
[info] >  (node:10740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10740) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10740) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10740) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-13T14:56:30.389Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-13T14:56:30.390Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-13T14:56:30.390Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29996.999999999996 --> api
[debug] [2021-03-13T14:56:30.398Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:56:30.399Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-13T14:56:30.399Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:56:30.399Z] [worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10860 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10860"}}
[debug] [2021-03-13T14:56:30.406Z] [worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: BUSY"}}
[debug] [2021-03-13T14:56:31.390Z] [runtime-status] [10860] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:56:31.398Z] [runtime-status] [10860] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:56:31.961Z] [runtime-status] [10860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:31.966Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:31.969Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:33.022Z] [runtime-status] [10860] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:56:33.023Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:33.023Z] [runtime-status] [10860] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:56:33.024Z] [runtime-status] [10860] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:56:33.024Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:33.025Z] [runtime-status] [10860] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:33.025Z] [runtime-status] [10860] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:56:33.026Z] [runtime-status] [10860] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:56:33.026Z] [runtime-status] [10860] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:56:33.030Z] [runtime-status] [10860] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:56:33.030Z] [runtime-status] [10860] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:56:33.031Z] [runtime-status] [10860] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10860 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10860"}}
[debug] [2021-03-13T14:56:33.035Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:56:33.056Z] [runtime-status] [10860] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 29996.999999999996 {"user":"Payment request received BOOOOOOM!!! 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 29996.999999999996"}}
[debug] [2021-03-13T14:56:33.090Z] [runtime-status] [10860] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10860] Ephemeral server survived."}}
[info] >  (node:10860) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996 {"user":"(node:10860) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10860) UnhandledPromiseRejectionWarning: Error: Invalid integer: 29996.999999999996"}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10860) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10860) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10860) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10860) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10860) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10860) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:56:48.424Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: exited"}}
[debug] [2021-03-13T14:56:48.424Z] [worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-26098b13-a3f6-4253-83bc-3cf158b4813b]: FINISHED"}}
[debug] [2021-03-13T14:56:48.425Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:57:32.473Z] [worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: exited"}}
[debug] [2021-03-13T14:57:32.474Z] [worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-8d106917-d29b-466c-b1cd-6f87daf059b2]: FINISHED"}}
[debug] [2021-03-13T14:57:32.474Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:57:54.931Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:57:54.931Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:57:54.931Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T14:57:54.935Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-13T14:57:54.964Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:57:54.964Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:57:54.964Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:57:54.965Z] [worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13524 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13524"}}
[debug] [2021-03-13T14:57:54.965Z] [worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: BUSY"}}
[debug] [2021-03-13T14:57:57.472Z] [runtime-status] [13524] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:57:57.505Z] [runtime-status] [13524] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:57:57.536Z] [runtime-status] [13524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.541Z] [runtime-status] [13524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.546Z] [runtime-status] [13524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.550Z] [runtime-status] [13524] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:57:57.563Z] [runtime-status] [13524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.800Z] [runtime-status] [13524] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:57:57.800Z] [runtime-status] [13524] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:57:57.802Z] [runtime-status] [13524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.805Z] [runtime-status] [13524] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.807Z] [runtime-status] [13524] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:57:57.807Z] [runtime-status] [13524] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:57:58.508Z] [runtime-status] [13524] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:57:58.512Z] [runtime-status] [13524] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:57:58.512Z] [runtime-status] [13524] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:57:58.528Z] [runtime-status] [13524] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13524 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13524"}}
[debug] [2021-03-13T14:57:58.539Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:57:58.583Z] [runtime-status] [13524] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T14:57:58.630Z] [runtime-status] [13524] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13524] Ephemeral server survived."}}
[info] >  (node:13524) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:13524) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13524) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:13524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13524) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13524) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T14:58:58.570Z] [worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: exited"}}
[debug] [2021-03-13T14:58:58.570Z] [worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5c64bedd-09ef-45ac-9c5c-4647ccf8c7bb]: FINISHED"}}
[debug] [2021-03-13T14:58:58.571Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T14:59:49.532Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T14:59:49.533Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T14:59:49.533Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=59700 --> api
[debug] [2021-03-13T14:59:49.533Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T14:59:49.544Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T14:59:49.544Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T14:59:49.545Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T14:59:49.545Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11664 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11664"}}
[debug] [2021-03-13T14:59:49.545Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: BUSY"}}
[debug] [2021-03-13T14:59:50.857Z] [runtime-status] [11664] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T14:59:50.860Z] [runtime-status] [11664] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Disabled runtime features: undefined"}}
[debug] [2021-03-13T14:59:50.868Z] [runtime-status] [11664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.874Z] [runtime-status] [11664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.876Z] [runtime-status] [11664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.879Z] [runtime-status] [11664] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T14:59:50.880Z] [runtime-status] [11664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.959Z] [runtime-status] [11664] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T14:59:50.959Z] [runtime-status] [11664] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:59:50.960Z] [runtime-status] [11664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.962Z] [runtime-status] [11664] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.964Z] [runtime-status] [11664] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T14:59:50.964Z] [runtime-status] [11664] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T14:59:51.263Z] [runtime-status] [11664] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T14:59:51.265Z] [runtime-status] [11664] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T14:59:51.266Z] [runtime-status] [11664] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Running api in mode HTTPS"}}
[debug] [2021-03-13T14:59:51.273Z] [runtime-status] [11664] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11664 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11664"}}
[debug] [2021-03-13T14:59:51.279Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T14:59:51.303Z] [runtime-status] [11664] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 59700 {"user":"Payment request received BOOOOOOM!!! 59700","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 59700"}}
[debug] [2021-03-13T14:59:51.333Z] [runtime-status] [11664] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUYwTLJT82lIrq7tNx4STbe_secret_UsTyBXhDlK8mmym32R9CYu1ZU {"user":"BACKEND client secret is pi_1IUYwTLJT82lIrq7tNx4STbe_secret_UsTyBXhDlK8mmym32R9CYu1ZU","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUYwTLJT82lIrq7tNx4STbe_secret_UsTyBXhDlK8mmym32R9CYu1ZU"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T14:59:52.160Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: IDLE"}}
[debug] [2021-03-13T14:59:52.161Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:00:12.360Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:00:12.360Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:00:12.360Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T15:00:12.360Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:00:12.360Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11664 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11664"}}
[debug] [2021-03-13T15:00:12.360Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: BUSY"}}
[debug] [2021-03-13T15:00:12.361Z] [runtime-status] [11664] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:00:12.364Z] [runtime-status] [11664] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:00:12.364Z] [runtime-status] [11664] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:00:12.365Z] [runtime-status] [11664] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11664 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11664"}}
[debug] [2021-03-13T15:00:12.368Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:00:12.374Z] [runtime-status] [11664] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T15:00:12.378Z] [runtime-status] [11664] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11664] Ephemeral server survived."}}
[info] >  (node:11664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:11664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11664) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:11664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11664) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11664) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T15:01:12.441Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: exited"}}
[debug] [2021-03-13T15:01:12.441Z] [worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-2bb7e7ee-aefc-4475-a119-fe3035a86a77]: FINISHED"}}
[debug] [2021-03-13T15:01:12.441Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:04:12.456Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T15:04:13.468Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T15:04:13.468Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: FINISHING"}}
[debug] [2021-03-13T15:04:13.470Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T15:04:13.478Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T15:04:13.478Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T15:04:13.478Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T15:04:13.479Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11456 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11456"}}
[debug] [2021-03-13T15:04:13.479Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: BUSY"}}
[debug] [2021-03-13T15:04:13.481Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: exited"}}
[debug] [2021-03-13T15:04:13.481Z] [worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-bd7d502b-8d46-4d23-9751-abbbd938f93c]: FINISHED"}}
[debug] [2021-03-13T15:04:14.514Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T15:04:14.627Z] [runtime-status] [11456] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:04:14.635Z] [runtime-status] [11456] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:04:14.644Z] [runtime-status] [11456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.650Z] [runtime-status] [11456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.652Z] [runtime-status] [11456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.654Z] [runtime-status] [11456] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:04:14.655Z] [runtime-status] [11456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.747Z] [runtime-status] [11456] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:04:14.748Z] [runtime-status] [11456] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:04:14.749Z] [runtime-status] [11456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.751Z] [runtime-status] [11456] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.752Z] [runtime-status] [11456] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:14.752Z] [runtime-status] [11456] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11456] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:04:15.218Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: IDLE"}}
[debug] [2021-03-13T15:04:15.525Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T15:04:15.525Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: FINISHING"}}
[debug] [2021-03-13T15:04:15.526Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T15:04:15.533Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T15:04:15.534Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T15:04:15.534Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T15:04:15.536Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14180"}}
[debug] [2021-03-13T15:04:15.536Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: BUSY"}}
[debug] [2021-03-13T15:04:15.564Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: exited"}}
[debug] [2021-03-13T15:04:15.564Z] [worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-957b4fd4-c39a-4ea6-a808-c86515c0d09c]: FINISHED"}}
[debug] [2021-03-13T15:04:16.608Z] [runtime-status] [14180] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:04:16.617Z] [runtime-status] [14180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:04:16.631Z] [runtime-status] [14180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.639Z] [runtime-status] [14180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.641Z] [runtime-status] [14180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.650Z] [runtime-status] [14180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:04:16.654Z] [runtime-status] [14180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.757Z] [runtime-status] [14180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:04:16.758Z] [runtime-status] [14180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:04:16.759Z] [runtime-status] [14180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.762Z] [runtime-status] [14180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.763Z] [runtime-status] [14180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:04:16.764Z] [runtime-status] [14180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:04:17.144Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: IDLE"}}
[debug] [2021-03-13T15:05:11.879Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:05:11.880Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:05:11.880Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=138800 --> api
[debug] [2021-03-13T15:05:11.880Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T15:05:11.894Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T15:05:11.894Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T15:05:11.894Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:05:11.895Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7592 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7592"}}
[debug] [2021-03-13T15:05:11.895Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: BUSY"}}
[debug] [2021-03-13T15:05:13.061Z] [runtime-status] [7592] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:05:13.071Z] [runtime-status] [7592] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:05:13.078Z] [runtime-status] [7592] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.085Z] [runtime-status] [7592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.087Z] [runtime-status] [7592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.089Z] [runtime-status] [7592] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:05:13.092Z] [runtime-status] [7592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.209Z] [runtime-status] [7592] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:05:13.209Z] [runtime-status] [7592] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:05:13.210Z] [runtime-status] [7592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.213Z] [runtime-status] [7592] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.214Z] [runtime-status] [7592] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:05:13.214Z] [runtime-status] [7592] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:05:13.552Z] [runtime-status] [7592] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:05:13.554Z] [runtime-status] [7592] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:05:13.555Z] [runtime-status] [7592] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:05:13.562Z] [runtime-status] [7592] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7592 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7592"}}
[debug] [2021-03-13T15:05:13.572Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:05:13.602Z] [runtime-status] [7592] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 138800 {"user":"Payment request received BOOOOOOM!!! 138800","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 138800"}}
[debug] [2021-03-13T15:05:13.639Z] [runtime-status] [7592] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZ1fLJT82lIrq7mhy471O8_secret_8ZsZL4ilyd8vCqsefFQw5iV7F {"user":"BACKEND client secret is pi_1IUZ1fLJT82lIrq7mhy471O8_secret_8ZsZL4ilyd8vCqsefFQw5iV7F","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZ1fLJT82lIrq7mhy471O8_secret_8ZsZL4ilyd8vCqsefFQw5iV7F"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:05:14.595Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: IDLE"}}
[debug] [2021-03-13T15:05:14.595Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:05:47.966Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:05:47.966Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:05:47.966Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T15:05:47.967Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:05:47.967Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7592 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7592"}}
[debug] [2021-03-13T15:05:47.967Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: BUSY"}}
[debug] [2021-03-13T15:05:47.968Z] [runtime-status] [7592] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:05:47.969Z] [runtime-status] [7592] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:05:47.970Z] [runtime-status] [7592] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:05:47.970Z] [runtime-status] [7592] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7592 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7592"}}
[debug] [2021-03-13T15:05:47.977Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:05:47.982Z] [runtime-status] [7592] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T15:05:47.986Z] [runtime-status] [7592] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7592] Ephemeral server survived."}}
[info] >  (node:7592) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7592) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7592) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7592) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7592) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7592) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7592) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7592) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7592) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T15:06:48.050Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: exited"}}
[debug] [2021-03-13T15:06:48.051Z] [worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3d3231e4-6b8a-44f2-aa9e-f2649fcf0169]: FINISHED"}}
[debug] [2021-03-13T15:06:48.051Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:12:41.291Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T15:12:41.353Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T15:12:42.357Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T15:12:42.358Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: FINISHING"}}
[debug] [2021-03-13T15:12:42.358Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T15:12:42.370Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T15:12:42.371Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T15:12:42.371Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T15:12:42.371Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1236 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1236"}}
[debug] [2021-03-13T15:12:42.372Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: BUSY"}}
[debug] [2021-03-13T15:12:42.374Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: exited"}}
[debug] [2021-03-13T15:12:42.374Z] [worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-df5efac2-0116-4d60-8cc9-e64f6ec104cd]: FINISHED"}}
[debug] [2021-03-13T15:12:44.105Z] [runtime-status] [1236] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:12:44.115Z] [runtime-status] [1236] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:12:44.121Z] [runtime-status] [1236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.139Z] [runtime-status] [1236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.141Z] [runtime-status] [1236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.143Z] [runtime-status] [1236] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:12:44.145Z] [runtime-status] [1236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.375Z] [runtime-status] [1236] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:12:44.375Z] [runtime-status] [1236] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:12:44.380Z] [runtime-status] [1236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.388Z] [runtime-status] [1236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.389Z] [runtime-status] [1236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:12:44.389Z] [runtime-status] [1236] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [1236] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:12:45.528Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: IDLE"}}
[debug] [2021-03-13T15:13:22.238Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:13:22.239Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:13:22.239Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=79300 --> api
[debug] [2021-03-13T15:13:22.239Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T15:13:22.254Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T15:13:22.254Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T15:13:22.254Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:13:22.255Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10820 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10820"}}
[debug] [2021-03-13T15:13:22.255Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: BUSY"}}
[debug] [2021-03-13T15:13:23.408Z] [runtime-status] [10820] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:13:23.412Z] [runtime-status] [10820] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:13:23.430Z] [runtime-status] [10820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.433Z] [runtime-status] [10820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.435Z] [runtime-status] [10820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.437Z] [runtime-status] [10820] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:13:23.438Z] [runtime-status] [10820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.564Z] [runtime-status] [10820] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:13:23.565Z] [runtime-status] [10820] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:13:23.566Z] [runtime-status] [10820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.569Z] [runtime-status] [10820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.571Z] [runtime-status] [10820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:13:23.571Z] [runtime-status] [10820] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:13:23.933Z] [runtime-status] [10820] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:13:23.941Z] [runtime-status] [10820] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:13:23.941Z] [runtime-status] [10820] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:13:23.949Z] [runtime-status] [10820] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10820 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10820"}}
[debug] [2021-03-13T15:13:23.962Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:13:23.992Z] [runtime-status] [10820] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 79300 {"user":"Payment request received BOOOOOOM!!! 79300","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 79300"}}
[debug] [2021-03-13T15:13:24.018Z] [runtime-status] [10820] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZ9ZLJT82lIrq77PPvzDzt_secret_x4C57HFxLnh5UT10knW69BCsN {"user":"BACKEND client secret is pi_1IUZ9ZLJT82lIrq77PPvzDzt_secret_x4C57HFxLnh5UT10knW69BCsN","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZ9ZLJT82lIrq77PPvzDzt_secret_x4C57HFxLnh5UT10knW69BCsN"}}
[info] >  (node:10820) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client {"user":"(node:10820) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10820) UnhandledPromiseRejectionWarning: Error [ERR_HTTP_HEADERS_SENT]: Cannot set headers after they are sent to the client"}}
[info] >      at ServerResponse.setHeader (_http_outgoing.js:518:11) {"user":"    at ServerResponse.setHeader (_http_outgoing.js:518:11)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ServerResponse.setHeader (_http_outgoing.js:518:11)"}}
[info] >      at ServerResponse.header (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\express\lib\response.js:771:10) {"user":"    at ServerResponse.header (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\express\\lib\\response.js:771:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ServerResponse.header (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\express\\lib\\response.js:771:10)"}}
[info] >      at ServerResponse.send (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\express\lib\response.js:170:12) {"user":"    at ServerResponse.send (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\express\\lib\\response.js:170:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at ServerResponse.send (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\express\\lib\\response.js:170:12)"}}
[info] >      at C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js:39:24 {"user":"    at C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js:39:24","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js:39:24"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:97:5) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:97:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:97:5)"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:13:24.964Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: IDLE"}}
[debug] [2021-03-13T15:13:24.964Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[info] >  (node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-13T15:13:51.289Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:13:51.289Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:13:51.289Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-13T15:13:51.289Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:13:51.289Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10820 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10820"}}
[debug] [2021-03-13T15:13:51.290Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: BUSY"}}
[debug] [2021-03-13T15:13:51.292Z] [runtime-status] [10820] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:13:51.295Z] [runtime-status] [10820] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:13:51.296Z] [runtime-status] [10820] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:13:51.296Z] [runtime-status] [10820] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10820 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10820"}}
[debug] [2021-03-13T15:13:51.297Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:13:51.303Z] [runtime-status] [10820] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-13T15:13:51.309Z] [runtime-status] [10820] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10820] Ephemeral server survived."}}
[info] >  (node:10820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2) {"user":"(node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 2)"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-13T15:14:51.357Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: exited"}}
[debug] [2021-03-13T15:14:51.357Z] [worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-007d24e2-8f2e-4566-bb9e-394feff21a48]: FINISHED"}}
[debug] [2021-03-13T15:14:51.357Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:15:06.509Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-13T15:15:07.537Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-13T15:15:07.538Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: FINISHING"}}
[debug] [2021-03-13T15:15:07.538Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-13T15:15:07.548Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-13T15:15:07.549Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-13T15:15:07.549Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-13T15:15:07.550Z] [worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5852 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5852"}}
[debug] [2021-03-13T15:15:07.550Z] [worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: BUSY"}}
[debug] [2021-03-13T15:15:07.576Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: exited"}}
[debug] [2021-03-13T15:15:07.576Z] [worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-c3ebcad6-e350-44d9-b210-c8f73d678db9]: FINISHED"}}
[debug] [2021-03-13T15:15:08.913Z] [runtime-status] [5852] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:15:08.918Z] [runtime-status] [5852] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:15:08.931Z] [runtime-status] [5852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:08.934Z] [runtime-status] [5852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:08.936Z] [runtime-status] [5852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:08.940Z] [runtime-status] [5852] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:15:08.941Z] [runtime-status] [5852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:09.069Z] [runtime-status] [5852] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:15:09.069Z] [runtime-status] [5852] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:15:09.070Z] [runtime-status] [5852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:09.072Z] [runtime-status] [5852] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:09.073Z] [runtime-status] [5852] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:15:09.074Z] [runtime-status] [5852] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5852] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:15:09.421Z] [worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: IDLE"}}
[debug] [2021-03-13T15:27:31.701Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:27:31.714Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:27:31.714Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39600 --> api
[debug] [2021-03-13T15:27:31.716Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-13T15:27:31.744Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-13T15:27:31.744Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-13T15:27:31.744Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:27:31.745Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:27:31.746Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY"}}
[debug] [2021-03-13T15:27:33.351Z] [runtime-status] [8768] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-13T15:27:33.353Z] [runtime-status] [8768] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Disabled runtime features: undefined"}}
[debug] [2021-03-13T15:27:33.368Z] [runtime-status] [8768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.373Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.375Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.378Z] [runtime-status] [8768] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-13T15:27:33.379Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.484Z] [runtime-status] [8768] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-13T15:27:33.484Z] [runtime-status] [8768] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:27:33.485Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.487Z] [runtime-status] [8768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.488Z] [runtime-status] [8768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-13T15:27:33.489Z] [runtime-status] [8768] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-13T15:27:33.873Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:27:33.884Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:27:33.884Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:27:33.885Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:27:33.910Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:27:33.951Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 39600 {"user":"Payment request received BOOOOOOM!!! 39600","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 39600"}}
[debug] [2021-03-13T15:27:33.986Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZNHLJT82lIrq7Phbc2ONd_secret_ObksNGzI39jWsTuCL9IGYWjoo {"user":"BACKEND client secret is pi_1IUZNHLJT82lIrq7Phbc2ONd_secret_ObksNGzI39jWsTuCL9IGYWjoo","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZNHLJT82lIrq7Phbc2ONd_secret_ObksNGzI39jWsTuCL9IGYWjoo"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:27:34.871Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE"}}
[debug] [2021-03-13T15:27:34.872Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:34:26.073Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:34:26.073Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:34:26.073Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=69400 --> api
[debug] [2021-03-13T15:34:26.073Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:34:26.074Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:34:26.074Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY"}}
[debug] [2021-03-13T15:34:26.077Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:34:26.083Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:34:26.083Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:34:26.084Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:34:26.088Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:34:26.095Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 69400 {"user":"Payment request received BOOOOOOM!!! 69400","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 69400"}}
[debug] [2021-03-13T15:34:26.109Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZTvLJT82lIrq7wXAwBhfX_secret_hRjTsEtFS6wHJbOdKFANV2gln {"user":"BACKEND client secret is pi_1IUZTvLJT82lIrq7wXAwBhfX_secret_hRjTsEtFS6wHJbOdKFANV2gln","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZTvLJT82lIrq7wXAwBhfX_secret_hRjTsEtFS6wHJbOdKFANV2gln"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:34:26.771Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE"}}
[debug] [2021-03-13T15:34:26.772Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:38:44.568Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:38:44.569Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:38:44.569Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=69400 --> api
[debug] [2021-03-13T15:38:44.569Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:38:44.569Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:38:44.570Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY"}}
[debug] [2021-03-13T15:38:44.571Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:38:44.576Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:38:44.576Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:38:44.577Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:38:44.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:38:44.631Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 69400 {"user":"Payment request received BOOOOOOM!!! 69400","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 69400"}}
[debug] [2021-03-13T15:38:44.636Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZY6LJT82lIrq7klGtFkT4_secret_3nhyVrqjCcMwJDp5T6uHreDj1 {"user":"BACKEND client secret is pi_1IUZY6LJT82lIrq7klGtFkT4_secret_3nhyVrqjCcMwJDp5T6uHreDj1","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZY6LJT82lIrq7klGtFkT4_secret_3nhyVrqjCcMwJDp5T6uHreDj1"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:38:45.192Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE"}}
[debug] [2021-03-13T15:38:45.193Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T15:46:16.921Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T15:46:16.922Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T15:46:16.922Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=69400 --> api
[debug] [2021-03-13T15:46:16.922Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T15:46:16.922Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:46:16.923Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY"}}
[debug] [2021-03-13T15:46:16.924Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T15:46:16.927Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T15:46:16.927Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T15:46:16.928Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T15:46:16.929Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T15:46:16.934Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 69400 {"user":"Payment request received BOOOOOOM!!! 69400","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 69400"}}
[debug] [2021-03-13T15:46:16.939Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUZfOLJT82lIrq7DDT2yyfN_secret_ckiPJuAsJlNjn8OK6DXdm7Hmv {"user":"BACKEND client secret is pi_1IUZfOLJT82lIrq7DDT2yyfN_secret_ckiPJuAsJlNjn8OK6DXdm7Hmv","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUZfOLJT82lIrq7DDT2yyfN_secret_ckiPJuAsJlNjn8OK6DXdm7Hmv"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T15:46:17.654Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE"}}
[debug] [2021-03-13T15:46:17.654Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T16:26:31.452Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-13T16:26:31.485Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-13T16:26:31.489Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=89500 --> api
[debug] [2021-03-13T16:26:31.498Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-13T16:26:31.506Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T16:26:31.511Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: BUSY"}}
[debug] [2021-03-13T16:26:31.531Z] [runtime-status] [8768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-13T16:26:31.565Z] [runtime-status] [8768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-13T16:26:31.565Z] [runtime-status] [8768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Running api in mode HTTPS"}}
[debug] [2021-03-13T16:26:31.567Z] [runtime-status] [8768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8768"}}
[debug] [2021-03-13T16:26:31.616Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-13T16:26:31.668Z] [runtime-status] [8768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 89500 {"user":"Payment request received BOOOOOOM!!! 89500","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 89500"}}
[debug] [2021-03-13T16:26:31.686Z] [runtime-status] [8768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8768] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IUaIOLJT82lIrq7TnPYdaFT_secret_ZpNt7ZUvgazXsxIqbRJnnXh9R {"user":"BACKEND client secret is pi_1IUaIOLJT82lIrq7TnPYdaFT_secret_ZpNt7ZUvgazXsxIqbRJnnXh9R","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IUaIOLJT82lIrq7TnPYdaFT_secret_ZpNt7ZUvgazXsxIqbRJnnXh9R"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-13T16:26:32.342Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: IDLE"}}
[debug] [2021-03-13T16:26:32.342Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-13T16:39:35.914Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: exited"}}
[debug] [2021-03-13T16:39:35.915Z] [worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd21ff9e-7616-4576-b14a-9abb85f8825b]: FINISHED"}}
[debug] [2021-03-13T16:39:36.051Z] [worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: exited"}}
[debug] [2021-03-13T16:39:36.052Z] [worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-1ab720f8-f8a9-43a7-b048-28be7bb76219]: FINISHED"}}
[debug] [2021-03-13T16:39:36.192Z] Received signal SIGHUP 1
[debug] [2021-03-15T17:30:19.009Z] ----------------------------------------------------------------------
[debug] [2021-03-15T17:30:19.013Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-03-15T17:30:19.014Z] CLI Version:   8.6.0
[debug] [2021-03-15T17:30:19.014Z] Platform:      win32
[debug] [2021-03-15T17:30:19.014Z] Node Version:  v12.18.4
[debug] [2021-03-15T17:30:19.034Z] Time:          Mon Mar 15 2021 18:30:19 GMT+0100 (GMT+01:00)
[debug] [2021-03-15T17:30:19.034Z] ----------------------------------------------------------------------
[debug] [2021-03-15T17:30:19.035Z] 
[debug] [2021-03-15T17:30:19.073Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-15T17:30:19.076Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project poduchy-anuchy. This may result in unexpected behavior. 
[debug] [2021-03-15T17:30:21.266Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-03-15T17:30:23.347Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-03-15T17:30:23.350Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[warn] !  ui: Emulator UI unable to start on port 4000, starting on 4001 instead. {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI unable to start on port 4000, starting on 4001 instead."}}
[debug] [2021-03-15T17:30:25.521Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-15T17:30:25.521Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-15T17:30:25.521Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-15T17:30:25.780Z] Web / API server started at http://localhost:4001
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4001\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-03-15T17:30:26.082Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T17:30:26.083Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-15T17:30:26.083Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T17:30:26.084Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15912 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15912"}}
[debug] [2021-03-15T17:30:26.085Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: BUSY"}}
[debug] [2021-03-15T17:30:26.972Z] [runtime-status] [15912] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-15T17:30:26.979Z] [runtime-status] [15912] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Disabled runtime features: undefined"}}
[debug] [2021-03-15T17:30:26.992Z] [runtime-status] [15912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:26.997Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:26.998Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:27.003Z] [runtime-status] [15912] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T17:30:27.005Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:27.243Z] [runtime-status] [15912] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T17:30:27.244Z] [runtime-status] [15912] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T17:30:27.245Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:27.248Z] [runtime-status] [15912] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:27.250Z] [runtime-status] [15912] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:27.251Z] [runtime-status] [15912] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15912] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4001 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4001/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-15T17:30:28.146Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: IDLE"}}
[debug] [2021-03-15T17:30:52.625Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T17:30:52.627Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T17:30:52.630Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=19800 --> api
[debug] [2021-03-15T17:30:52.662Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T17:30:52.663Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T17:30:52.663Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T17:30:52.663Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15228 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15228"}}
[debug] [2021-03-15T17:30:52.664Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: BUSY"}}
[debug] [2021-03-15T17:30:54.380Z] [runtime-status] [15228] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-15T17:30:54.389Z] [runtime-status] [15228] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Disabled runtime features: undefined"}}
[debug] [2021-03-15T17:30:54.413Z] [runtime-status] [15228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.417Z] [runtime-status] [15228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.418Z] [runtime-status] [15228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.422Z] [runtime-status] [15228] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T17:30:54.423Z] [runtime-status] [15228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.549Z] [runtime-status] [15228] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T17:30:54.550Z] [runtime-status] [15228] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T17:30:54.551Z] [runtime-status] [15228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.553Z] [runtime-status] [15228] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.554Z] [runtime-status] [15228] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:30:54.555Z] [runtime-status] [15228] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T17:30:55.021Z] [runtime-status] [15228] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T17:30:55.023Z] [runtime-status] [15228] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T17:30:55.024Z] [runtime-status] [15228] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Running api in mode HTTPS"}}
[debug] [2021-03-15T17:30:55.029Z] [runtime-status] [15228] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15228 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15228"}}
[debug] [2021-03-15T17:30:55.044Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T17:30:55.065Z] [runtime-status] [15228] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 19800 {"user":"Payment request received BOOOOOOM!!! 19800","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 19800"}}
[debug] [2021-03-15T17:30:55.103Z] [runtime-status] [15228] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15228] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IVKFnLJT82lIrq7DnB9cpD8_secret_lYQ6DQ4msG3KtAN5xQbjBgN33 {"user":"BACKEND client secret is pi_1IVKFnLJT82lIrq7DnB9cpD8_secret_lYQ6DQ4msG3KtAN5xQbjBgN33","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IVKFnLJT82lIrq7DnB9cpD8_secret_lYQ6DQ4msG3KtAN5xQbjBgN33"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T17:30:56.210Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: IDLE"}}
[debug] [2021-03-15T17:30:56.210Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T17:34:09.316Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-03-15T17:34:10.317Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-03-15T17:34:10.317Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: FINISHING"}}
[debug] [2021-03-15T17:34:10.318Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-03-15T17:34:10.319Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: FINISHING"}}
[debug] [2021-03-15T17:34:10.339Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-15T17:34:10.340Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-03-15T17:34:10.340Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-15T17:34:10.340Z] [worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14216 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14216"}}
[debug] [2021-03-15T17:34:10.340Z] [worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: BUSY"}}
[debug] [2021-03-15T17:34:10.355Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: exited"}}
[debug] [2021-03-15T17:34:10.355Z] [worker-api-e4e657b5-9008-4955-a801-934975137414]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4e657b5-9008-4955-a801-934975137414]: FINISHED"}}
[debug] [2021-03-15T17:34:10.380Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: exited"}}
[debug] [2021-03-15T17:34:10.381Z] [worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-e756e59e-99ff-46c0-97b6-20e666ae77cb]: FINISHED"}}
[debug] [2021-03-15T17:34:12.308Z] [runtime-status] [14216] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-15T17:34:12.311Z] [runtime-status] [14216] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Disabled runtime features: undefined"}}
[debug] [2021-03-15T17:34:12.331Z] [runtime-status] [14216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.337Z] [runtime-status] [14216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.339Z] [runtime-status] [14216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.346Z] [runtime-status] [14216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T17:34:12.348Z] [runtime-status] [14216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.525Z] [runtime-status] [14216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T17:34:12.527Z] [runtime-status] [14216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T17:34:12.529Z] [runtime-status] [14216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.531Z] [runtime-status] [14216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.532Z] [runtime-status] [14216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T17:34:12.532Z] [runtime-status] [14216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [14216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T17:34:13.087Z] [worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-b7505a81-d4f1-4dd2-9827-933146741134]: IDLE"}}
[debug] [2021-03-15T18:17:20.189Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T18:17:20.214Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T18:17:20.214Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29700 --> api
[debug] [2021-03-15T18:17:20.223Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-03-15T18:17:20.225Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-15T18:17:20.321Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-15T18:17:20.322Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-15T18:17:20.322Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T18:17:20.323Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:17:20.324Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY"}}
[debug] [2021-03-15T18:17:21.782Z] [runtime-status] [796] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-15T18:17:21.790Z] [runtime-status] [796] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Disabled runtime features: undefined"}}
[debug] [2021-03-15T18:17:21.803Z] [runtime-status] [796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.808Z] [runtime-status] [796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.810Z] [runtime-status] [796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.814Z] [runtime-status] [796] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-15T18:17:21.814Z] [runtime-status] [796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.935Z] [runtime-status] [796] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-15T18:17:21.985Z] [runtime-status] [796] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T18:17:21.985Z] [runtime-status] [796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.985Z] [runtime-status] [796] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.986Z] [runtime-status] [796] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-15T18:17:21.987Z] [runtime-status] [796] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-15T18:17:22.449Z] [runtime-status] [796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T18:17:22.467Z] [runtime-status] [796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T18:17:22.468Z] [runtime-status] [796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Running api in mode HTTPS"}}
[debug] [2021-03-15T18:17:22.469Z] [runtime-status] [796] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:17:22.492Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T18:17:22.531Z] [runtime-status] [796] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 29700 {"user":"Payment request received BOOOOOOM!!! 29700","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 29700"}}
[debug] [2021-03-15T18:17:22.560Z] [runtime-status] [796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IVKykLJT82lIrq7WF3X4Q1r_secret_4ekWlqqqQbHb5s6cpQpTGmpcb {"user":"BACKEND client secret is pi_1IVKykLJT82lIrq7WF3X4Q1r_secret_4ekWlqqqQbHb5s6cpQpTGmpcb","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IVKykLJT82lIrq7WF3X4Q1r_secret_4ekWlqqqQbHb5s6cpQpTGmpcb"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T18:17:23.549Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE"}}
[debug] [2021-03-15T18:17:23.550Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T18:18:04.834Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T18:18:04.835Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T18:18:04.835Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=29700 --> api
[debug] [2021-03-15T18:18:04.836Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T18:18:04.836Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:18:04.837Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY"}}
[debug] [2021-03-15T18:18:04.838Z] [runtime-status] [796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T18:18:04.857Z] [runtime-status] [796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T18:18:04.858Z] [runtime-status] [796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Running api in mode HTTPS"}}
[debug] [2021-03-15T18:18:04.859Z] [runtime-status] [796] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:18:04.862Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T18:18:04.879Z] [runtime-status] [796] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 29700 {"user":"Payment request received BOOOOOOM!!! 29700","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 29700"}}
[debug] [2021-03-15T18:18:04.889Z] [runtime-status] [796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IVKzQLJT82lIrq7XFarDemu_secret_EyuB8iJtuFaJhuc7HibQjZy02 {"user":"BACKEND client secret is pi_1IVKzQLJT82lIrq7XFarDemu_secret_EyuB8iJtuFaJhuc7HibQjZy02","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IVKzQLJT82lIrq7XFarDemu_secret_EyuB8iJtuFaJhuc7HibQjZy02"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T18:18:05.261Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE"}}
[debug] [2021-03-15T18:18:05.261Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-15T18:46:01.419Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-15T18:46:01.440Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-15T18:46:01.440Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=39600 --> api
[debug] [2021-03-15T18:46:01.448Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-15T18:46:01.450Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:46:01.451Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY"}}
[debug] [2021-03-15T18:46:01.503Z] [runtime-status] [796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-15T18:46:01.632Z] [runtime-status] [796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-15T18:46:01.633Z] [runtime-status] [796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Running api in mode HTTPS"}}
[debug] [2021-03-15T18:46:01.633Z] [runtime-status] [796] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-15T18:46:01.693Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-15T18:46:01.754Z] [runtime-status] [796] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 39600 {"user":"Payment request received BOOOOOOM!!! 39600","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 39600"}}
[debug] [2021-03-15T18:46:01.811Z] [runtime-status] [796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IVLQTLJT82lIrq7C4hK9R0E_secret_PLnWqjpsG2SSonzhI7ohwFEwn {"user":"BACKEND client secret is pi_1IVLQTLJT82lIrq7C4hK9R0E_secret_PLnWqjpsG2SSonzhI7ohwFEwn","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IVLQTLJT82lIrq7C4hK9R0E_secret_PLnWqjpsG2SSonzhI7ohwFEwn"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-15T18:46:02.592Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: IDLE"}}
[debug] [2021-03-15T18:46:02.592Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-16T18:02:12.678Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-16T18:02:12.692Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-16T18:02:12.692Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-16T18:02:12.698Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-16T18:02:12.700Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-16T18:02:12.700Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: BUSY"}}
[debug] [2021-03-16T18:02:12.765Z] [runtime-status] [796] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-16T18:02:12.785Z] [runtime-status] [796] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-16T18:02:12.785Z] [runtime-status] [796] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Running api in mode HTTPS"}}
[debug] [2021-03-16T18:02:12.790Z] [runtime-status] [796] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\796 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\796"}}
[debug] [2021-03-16T18:02:12.828Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-16T18:02:12.867Z] [runtime-status] [796] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-16T18:02:12.904Z] [runtime-status] [796] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [796] Ephemeral server survived."}}
[info] >  (node:796) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:796) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:796) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:796) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:796) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-03-16T18:02:16.898Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-16T18:02:16.898Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-16T18:02:16.899Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-16T18:02:16.956Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-16T18:02:16.956Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-16T18:02:16.957Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-16T18:02:16.958Z] [worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17728 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17728"}}
[debug] [2021-03-16T18:02:16.958Z] [worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: BUSY"}}
[debug] [2021-03-16T18:02:18.941Z] [runtime-status] [17728] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-16T18:02:18.949Z] [runtime-status] [17728] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Disabled runtime features: undefined"}}
[debug] [2021-03-16T18:02:18.962Z] [runtime-status] [17728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:18.972Z] [runtime-status] [17728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:18.975Z] [runtime-status] [17728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:18.979Z] [runtime-status] [17728] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-16T18:02:18.981Z] [runtime-status] [17728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:19.137Z] [runtime-status] [17728] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-16T18:02:19.138Z] [runtime-status] [17728] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-16T18:02:19.139Z] [runtime-status] [17728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:19.141Z] [runtime-status] [17728] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:19.142Z] [runtime-status] [17728] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-16T18:02:19.142Z] [runtime-status] [17728] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-16T18:02:19.738Z] [runtime-status] [17728] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-16T18:02:19.741Z] [runtime-status] [17728] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-16T18:02:19.741Z] [runtime-status] [17728] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Running api in mode HTTPS"}}
[debug] [2021-03-16T18:02:19.748Z] [runtime-status] [17728] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\17728 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\17728"}}
[debug] [2021-03-16T18:02:19.759Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-16T18:02:19.792Z] [runtime-status] [17728] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-03-16T18:02:19.837Z] [runtime-status] [17728] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [17728] Ephemeral server survived."}}
[info] >  (node:17728) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:17728) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17728) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:17728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:17728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17728) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:17728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:17728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:17728) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-16T18:03:12.924Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: exited"}}
[debug] [2021-03-16T18:03:12.925Z] [worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4b41b1ae-c346-4c52-a06f-e085e7854972]: FINISHED"}}
[debug] [2021-03-16T18:03:12.926Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-03-16T18:03:19.795Z] [worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: exited"}}
[debug] [2021-03-16T18:03:19.795Z] [worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-48a0d4bb-bb0b-489a-ae48-684bfd861ec1]: FINISHED"}}
[debug] [2021-03-16T18:03:19.796Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-29T17:57:45.212Z] ----------------------------------------------------------------------
[debug] [2021-03-29T17:57:45.220Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-03-29T17:57:45.221Z] CLI Version:   8.6.0
[debug] [2021-03-29T17:57:45.222Z] Platform:      win32
[debug] [2021-03-29T17:57:45.222Z] Node Version:  v12.18.4
[debug] [2021-03-29T17:57:45.248Z] Time:          Mon Mar 29 2021 19:57:45 GMT+0200 (GMT+02:00)
[debug] [2021-03-29T17:57:45.249Z] ----------------------------------------------------------------------
[debug] [2021-03-29T17:57:45.249Z] 
[debug] [2021-03-29T17:57:45.312Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-29T17:57:45.315Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2021-03-29T17:57:47.709Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-03-29T17:57:49.801Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-03-29T17:57:49.805Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-03-29T17:57:53.991Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-29T17:57:53.992Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-29T17:57:53.992Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-29T17:57:54.836Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-03-29T17:57:55.105Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-29T17:57:55.106Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-29T17:57:55.107Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-29T17:57:55.109Z] [worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15564 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15564"}}
[debug] [2021-03-29T17:57:55.111Z] [worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: BUSY"}}
[debug] [2021-03-29T17:57:57.280Z] [runtime-status] [15564] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-29T17:57:57.297Z] [runtime-status] [15564] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Disabled runtime features: undefined"}}
[debug] [2021-03-29T17:57:57.328Z] [runtime-status] [15564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.339Z] [runtime-status] [15564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.344Z] [runtime-status] [15564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.350Z] [runtime-status] [15564] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-29T17:57:57.353Z] [runtime-status] [15564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.630Z] [runtime-status] [15564] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-29T17:57:57.631Z] [runtime-status] [15564] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-29T17:57:57.634Z] [runtime-status] [15564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.639Z] [runtime-status] [15564] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.642Z] [runtime-status] [15564] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T17:57:57.643Z] [runtime-status] [15564] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15564] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-29T17:57:58.641Z] [worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-308067c9-cfab-458f-875f-357e7a5ecfe1]: IDLE"}}
[debug] [2021-03-29T18:02:24.227Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-29T18:02:24.230Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-29T18:02:24.231Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-03-29T18:02:24.249Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-29T18:02:24.252Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-29T18:02:24.253Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-29T18:02:24.253Z] [worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4656 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4656"}}
[debug] [2021-03-29T18:02:24.255Z] [worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: BUSY"}}
[debug] [2021-03-29T18:02:26.751Z] [runtime-status] [4656] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-03-29T18:02:26.767Z] [runtime-status] [4656] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Disabled runtime features: undefined"}}
[debug] [2021-03-29T18:02:26.781Z] [runtime-status] [4656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:26.796Z] [runtime-status] [4656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:26.801Z] [runtime-status] [4656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:26.810Z] [runtime-status] [4656] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-29T18:02:26.813Z] [runtime-status] [4656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:26.996Z] [runtime-status] [4656] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-29T18:02:26.997Z] [runtime-status] [4656] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-29T18:02:27.000Z] [runtime-status] [4656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:27.004Z] [runtime-status] [4656] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:27.006Z] [runtime-status] [4656] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-03-29T18:02:27.007Z] [runtime-status] [4656] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-03-29T18:02:27.632Z] [runtime-status] [4656] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-29T18:02:27.636Z] [runtime-status] [4656] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-29T18:02:27.637Z] [runtime-status] [4656] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Running api in mode HTTPS"}}
[debug] [2021-03-29T18:02:27.651Z] [runtime-status] [4656] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4656 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4656"}}
[debug] [2021-03-29T18:02:27.661Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-29T18:02:27.694Z] [runtime-status] [4656] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-03-29T18:02:27.751Z] [runtime-status] [4656] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4656] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IaPQ0LJT82lIrq7pt2U1XTW_secret_4Au3LaUharwp4jiqpEQEmX3Ci {"user":"BACKEND client secret is pi_1IaPQ0LJT82lIrq7pt2U1XTW_secret_4Au3LaUharwp4jiqpEQEmX3Ci","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IaPQ0LJT82lIrq7pt2U1XTW_secret_4Au3LaUharwp4jiqpEQEmX3Ci"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-29T18:02:28.998Z] [worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4610274b-736a-4a27-8343-e1c5fa036847]: IDLE"}}
[debug] [2021-03-29T18:02:28.999Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T09:29:19.097Z] ----------------------------------------------------------------------
[debug] [2021-04-13T09:29:19.105Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-04-13T09:29:19.106Z] CLI Version:   8.6.0
[debug] [2021-04-13T09:29:19.107Z] Platform:      win32
[debug] [2021-04-13T09:29:19.107Z] Node Version:  v12.18.4
[debug] [2021-04-13T09:29:19.128Z] Time:          Tue Apr 13 2021 11:29:19 GMT+0200 (GMT+02:00)
[debug] [2021-04-13T09:29:19.128Z] ----------------------------------------------------------------------
[debug] [2021-04-13T09:29:19.129Z] 
[debug] [2021-04-13T09:29:19.201Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-13T09:29:19.203Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[debug] [2021-04-13T09:29:21.390Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-04-13T09:29:23.469Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-04-13T09:29:23.473Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-04-13T09:29:27.645Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-04-13T09:29:27.646Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-04-13T09:29:27.646Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-04-13T09:29:28.251Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-13T09:29:28.253Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-04-13T09:29:28.255Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-13T09:29:28.259Z] [worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13096 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13096"}}
[debug] [2021-04-13T09:29:28.261Z] [worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: BUSY"}}
[debug] [2021-04-13T09:29:28.268Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[debug] [2021-04-13T09:29:30.723Z] [runtime-status] [13096] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T09:29:30.742Z] [runtime-status] [13096] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Disabled runtime features: undefined"}}
[debug] [2021-04-13T09:29:30.769Z] [runtime-status] [13096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:30.777Z] [runtime-status] [13096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:30.784Z] [runtime-status] [13096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:30.792Z] [runtime-status] [13096] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T09:29:30.795Z] [runtime-status] [13096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:31.072Z] [runtime-status] [13096] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T09:29:31.073Z] [runtime-status] [13096] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T09:29:31.076Z] [runtime-status] [13096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:31.083Z] [runtime-status] [13096] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:31.087Z] [runtime-status] [13096] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:29:31.089Z] [runtime-status] [13096] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [13096] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-04-13T09:29:32.091Z] [worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-d9ed7cd7-3502-46c4-a544-53871ad8a66e]: IDLE"}}
[debug] [2021-04-13T09:30:53.703Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T09:30:53.705Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T09:30:53.707Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T09:30:53.758Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T09:30:53.759Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T09:30:53.760Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T09:30:53.761Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:30:53.781Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY"}}
[debug] [2021-04-13T09:30:56.044Z] [runtime-status] [1400] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T09:30:56.051Z] [runtime-status] [1400] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Disabled runtime features: undefined"}}
[debug] [2021-04-13T09:30:56.082Z] [runtime-status] [1400] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.089Z] [runtime-status] [1400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.093Z] [runtime-status] [1400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.101Z] [runtime-status] [1400] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T09:30:56.103Z] [runtime-status] [1400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.289Z] [runtime-status] [1400] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T09:30:56.290Z] [runtime-status] [1400] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T09:30:56.292Z] [runtime-status] [1400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.297Z] [runtime-status] [1400] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.299Z] [runtime-status] [1400] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:30:56.300Z] [runtime-status] [1400] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T09:30:56.945Z] [runtime-status] [1400] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T09:30:56.950Z] [runtime-status] [1400] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T09:30:56.951Z] [runtime-status] [1400] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Running api in mode HTTPS"}}
[debug] [2021-04-13T09:30:56.967Z] [runtime-status] [1400] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:30:56.982Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T09:30:57.025Z] [runtime-status] [1400] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T09:30:57.089Z] [runtime-status] [1400] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfiaDLJT82lIrq7Boi3oOA9_secret_G3CWHQj6mqnzb2K573pmGA9Sy {"user":"BACKEND client secret is pi_1IfiaDLJT82lIrq7Boi3oOA9_secret_G3CWHQj6mqnzb2K573pmGA9Sy","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfiaDLJT82lIrq7Boi3oOA9_secret_G3CWHQj6mqnzb2K573pmGA9Sy"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T09:30:58.282Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: IDLE"}}
[debug] [2021-04-13T09:30:58.283Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T09:35:10.503Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T09:35:10.504Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T09:35:10.505Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T09:35:10.506Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T09:35:10.506Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:35:10.507Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY"}}
[debug] [2021-04-13T09:35:10.512Z] [runtime-status] [1400] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T09:35:10.522Z] [runtime-status] [1400] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T09:35:10.523Z] [runtime-status] [1400] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Running api in mode HTTPS"}}
[debug] [2021-04-13T09:35:10.525Z] [runtime-status] [1400] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:35:10.530Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T09:35:10.546Z] [runtime-status] [1400] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T09:35:10.560Z] [runtime-status] [1400] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfieILJT82lIrq7fW2Yxhnc_secret_wdkQoPp1T67PxJ8ksLfup1y80 {"user":"BACKEND client secret is pi_1IfieILJT82lIrq7fW2Yxhnc_secret_wdkQoPp1T67PxJ8ksLfup1y80","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfieILJT82lIrq7fW2Yxhnc_secret_wdkQoPp1T67PxJ8ksLfup1y80"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T09:35:11.166Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: IDLE"}}
[debug] [2021-04-13T09:35:11.167Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T09:36:24.837Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T09:36:24.838Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T09:36:24.838Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T09:36:24.839Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T09:36:24.840Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:36:24.840Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: BUSY"}}
[debug] [2021-04-13T09:36:24.843Z] [runtime-status] [1400] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T09:36:24.847Z] [runtime-status] [1400] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T09:36:24.847Z] [runtime-status] [1400] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Running api in mode HTTPS"}}
[debug] [2021-04-13T09:36:24.848Z] [runtime-status] [1400] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1400 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1400"}}
[debug] [2021-04-13T09:36:24.853Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T09:36:24.862Z] [runtime-status] [1400] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T09:36:24.869Z] [runtime-status] [1400] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1400] Ephemeral server survived."}}
[info] >  (node:1400) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1400) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1400) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1400) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1400) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1400) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1400) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1400) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1400) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T09:37:25.031Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: exited"}}
[debug] [2021-04-13T09:37:25.032Z] [worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09393214-b2cf-4ced-8ff9-585a74ec6443]: FINISHED"}}
[debug] [2021-04-13T09:37:25.033Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T09:41:24.623Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T09:41:24.624Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T09:41:24.625Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T09:41:24.625Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T09:41:24.666Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T09:41:24.667Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T09:41:24.667Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T09:41:24.670Z] [worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7724 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7724"}}
[debug] [2021-04-13T09:41:24.675Z] [worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: BUSY"}}
[debug] [2021-04-13T09:41:27.844Z] [runtime-status] [7724] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T09:41:27.854Z] [runtime-status] [7724] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Disabled runtime features: undefined"}}
[debug] [2021-04-13T09:41:27.888Z] [runtime-status] [7724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:27.895Z] [runtime-status] [7724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:27.901Z] [runtime-status] [7724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:27.908Z] [runtime-status] [7724] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T09:41:27.911Z] [runtime-status] [7724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:28.207Z] [runtime-status] [7724] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T09:41:28.208Z] [runtime-status] [7724] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T09:41:28.211Z] [runtime-status] [7724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:28.215Z] [runtime-status] [7724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:28.217Z] [runtime-status] [7724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T09:41:28.218Z] [runtime-status] [7724] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T09:41:29.038Z] [runtime-status] [7724] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T09:41:29.041Z] [runtime-status] [7724] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T09:41:29.042Z] [runtime-status] [7724] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Running api in mode HTTPS"}}
[debug] [2021-04-13T09:41:29.067Z] [runtime-status] [7724] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7724 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7724"}}
[debug] [2021-04-13T09:41:29.085Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T09:41:29.117Z] [runtime-status] [7724] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T09:41:29.184Z] [runtime-status] [7724] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7724] Ephemeral server survived."}}
[info] >  (node:7724) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7724) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7724) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7724) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7724) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7724) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7724) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7724) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7724) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T09:42:29.121Z] [worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: exited"}}
[debug] [2021-04-13T09:42:29.122Z] [worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f990055d-386c-4a1e-ad6d-528a745e0487]: FINISHED"}}
[debug] [2021-04-13T09:42:29.123Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:12:03.418Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:12:03.419Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:12:03.419Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:12:03.420Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T10:12:03.460Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:12:03.461Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T10:12:03.461Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:12:03.464Z] [worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2708 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2708"}}
[debug] [2021-04-13T10:12:03.465Z] [worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: BUSY"}}
[debug] [2021-04-13T10:12:05.829Z] [runtime-status] [2708] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:12:05.836Z] [runtime-status] [2708] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:12:05.866Z] [runtime-status] [2708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:05.887Z] [runtime-status] [2708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:05.894Z] [runtime-status] [2708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:05.908Z] [runtime-status] [2708] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:12:05.916Z] [runtime-status] [2708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:06.140Z] [runtime-status] [2708] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:12:06.141Z] [runtime-status] [2708] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:12:06.144Z] [runtime-status] [2708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:06.150Z] [runtime-status] [2708] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:06.154Z] [runtime-status] [2708] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:12:06.155Z] [runtime-status] [2708] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:12:06.969Z] [runtime-status] [2708] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:12:06.972Z] [runtime-status] [2708] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:12:06.973Z] [runtime-status] [2708] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:12:06.989Z] [runtime-status] [2708] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2708 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2708"}}
[debug] [2021-04-13T10:12:07.001Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:12:07.039Z] [runtime-status] [2708] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:12:07.098Z] [runtime-status] [2708] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2708] Ephemeral server survived."}}
[info] >  (node:2708) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2708) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2708) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2708) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2708) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2708) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2708) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2708) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2708) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:13:07.075Z] [worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: exited"}}
[debug] [2021-04-13T10:13:07.076Z] [worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5212727e-2567-4c5f-ba08-366df7b72cdf]: FINISHED"}}
[debug] [2021-04-13T10:13:07.076Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:15:55.301Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:15:55.302Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:15:55.302Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:15:55.303Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T10:15:55.340Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:15:55.341Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T10:15:55.341Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:15:55.343Z] [worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8216 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8216"}}
[debug] [2021-04-13T10:15:55.344Z] [worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: BUSY"}}
[debug] [2021-04-13T10:15:59.306Z] [runtime-status] [8216] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:15:59.325Z] [runtime-status] [8216] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:15:59.348Z] [runtime-status] [8216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.354Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.357Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.362Z] [runtime-status] [8216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:15:59.364Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.562Z] [runtime-status] [8216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:15:59.563Z] [runtime-status] [8216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:15:59.565Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.569Z] [runtime-status] [8216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.572Z] [runtime-status] [8216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:15:59.573Z] [runtime-status] [8216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:16:00.391Z] [runtime-status] [8216] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:16:00.395Z] [runtime-status] [8216] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:16:00.395Z] [runtime-status] [8216] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:16:00.418Z] [runtime-status] [8216] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8216 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8216"}}
[debug] [2021-04-13T10:16:00.435Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:16:00.472Z] [runtime-status] [8216] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:16:00.552Z] [runtime-status] [8216] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8216] Ephemeral server survived."}}
[info] >  (node:8216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:17:00.493Z] [worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: exited"}}
[debug] [2021-04-13T10:17:00.493Z] [worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-eebb235f-6fb2-4793-aee7-4aaf770f70f2]: FINISHED"}}
[debug] [2021-04-13T10:17:00.494Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:21:16.418Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:21:16.419Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:21:16.419Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:21:16.420Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T10:21:16.444Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:21:16.445Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T10:21:16.445Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:21:16.446Z] [worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4140 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4140"}}
[debug] [2021-04-13T10:21:16.446Z] [worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: BUSY"}}
[debug] [2021-04-13T10:21:21.286Z] [runtime-status] [4140] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:21:21.319Z] [runtime-status] [4140] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:21:21.367Z] [runtime-status] [4140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.374Z] [runtime-status] [4140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.384Z] [runtime-status] [4140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.394Z] [runtime-status] [4140] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:21:21.397Z] [runtime-status] [4140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.689Z] [runtime-status] [4140] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:21:21.690Z] [runtime-status] [4140] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:21:21.693Z] [runtime-status] [4140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.706Z] [runtime-status] [4140] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.715Z] [runtime-status] [4140] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:21:21.721Z] [runtime-status] [4140] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:21:22.802Z] [runtime-status] [4140] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:21:22.807Z] [runtime-status] [4140] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:21:22.808Z] [runtime-status] [4140] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:21:22.841Z] [runtime-status] [4140] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4140 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4140"}}
[debug] [2021-04-13T10:21:22.852Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:21:22.890Z] [runtime-status] [4140] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:21:22.954Z] [runtime-status] [4140] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4140] Ephemeral server survived."}}
[info] >  (node:4140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:4140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4140) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:4140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4140) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4140) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:22:22.861Z] [worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: exited"}}
[debug] [2021-04-13T10:22:22.862Z] [worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-346461e1-6d4f-4de9-8ce8-8b99ed478ab0]: FINISHED"}}
[debug] [2021-04-13T10:22:22.862Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:22:55.824Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:22:55.825Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:22:55.825Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:22:55.826Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T10:22:55.850Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:22:55.850Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T10:22:55.851Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:22:55.852Z] [worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5172 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5172"}}
[debug] [2021-04-13T10:22:55.853Z] [worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: BUSY"}}
[debug] [2021-04-13T10:22:58.785Z] [runtime-status] [5172] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:22:58.803Z] [runtime-status] [5172] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:22:58.833Z] [runtime-status] [5172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:58.841Z] [runtime-status] [5172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:58.845Z] [runtime-status] [5172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:58.853Z] [runtime-status] [5172] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:22:58.855Z] [runtime-status] [5172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:59.047Z] [runtime-status] [5172] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:22:59.048Z] [runtime-status] [5172] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:22:59.052Z] [runtime-status] [5172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:59.058Z] [runtime-status] [5172] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:59.061Z] [runtime-status] [5172] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:22:59.061Z] [runtime-status] [5172] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:22:59.804Z] [runtime-status] [5172] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:22:59.808Z] [runtime-status] [5172] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:22:59.809Z] [runtime-status] [5172] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:22:59.826Z] [runtime-status] [5172] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5172 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5172"}}
[debug] [2021-04-13T10:22:59.837Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:22:59.873Z] [runtime-status] [5172] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:22:59.944Z] [runtime-status] [5172] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5172] Ephemeral server survived."}}
[info] >  (node:5172) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5172) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5172) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5172) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5172) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5172) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5172) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5172) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5172) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:23:59.875Z] [worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: exited"}}
[debug] [2021-04-13T10:23:59.876Z] [worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-17ff5e89-bad1-4631-94f8-ecb1338f3538]: FINISHED"}}
[debug] [2021-04-13T10:23:59.876Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:24:49.416Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:24:49.417Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:24:49.417Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:24:49.418Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T10:24:49.441Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:24:49.442Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T10:24:49.442Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:24:49.443Z] [worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7068 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7068"}}
[debug] [2021-04-13T10:24:49.443Z] [worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: BUSY"}}
[debug] [2021-04-13T10:24:52.361Z] [runtime-status] [7068] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:24:52.376Z] [runtime-status] [7068] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:24:52.390Z] [runtime-status] [7068] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.403Z] [runtime-status] [7068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.406Z] [runtime-status] [7068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.414Z] [runtime-status] [7068] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:24:52.416Z] [runtime-status] [7068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.584Z] [runtime-status] [7068] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:24:52.585Z] [runtime-status] [7068] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:24:52.588Z] [runtime-status] [7068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.594Z] [runtime-status] [7068] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.596Z] [runtime-status] [7068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:24:52.597Z] [runtime-status] [7068] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:24:53.214Z] [runtime-status] [7068] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:24:53.217Z] [runtime-status] [7068] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:24:53.218Z] [runtime-status] [7068] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:24:53.235Z] [runtime-status] [7068] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7068 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7068"}}
[debug] [2021-04-13T10:24:53.246Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:24:53.271Z] [runtime-status] [7068] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:24:53.322Z] [runtime-status] [7068] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7068] Ephemeral server survived."}}
[info] >  (node:7068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-13T10:25:12.736Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-13T10:25:12.736Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-13T10:25:12.737Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-13T10:25:12.762Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:25:12.763Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-13T10:25:12.763Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:25:12.764Z] [worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11572 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11572"}}
[debug] [2021-04-13T10:25:12.765Z] [worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: BUSY"}}
[debug] [2021-04-13T10:25:15.370Z] [runtime-status] [11572] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:25:15.391Z] [runtime-status] [11572] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:25:15.417Z] [runtime-status] [11572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.423Z] [runtime-status] [11572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.426Z] [runtime-status] [11572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.435Z] [runtime-status] [11572] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:25:15.437Z] [runtime-status] [11572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.636Z] [runtime-status] [11572] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:25:15.637Z] [runtime-status] [11572] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:25:15.639Z] [runtime-status] [11572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.643Z] [runtime-status] [11572] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.646Z] [runtime-status] [11572] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:15.646Z] [runtime-status] [11572] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:25:16.263Z] [runtime-status] [11572] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:25:16.267Z] [runtime-status] [11572] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:25:16.268Z] [runtime-status] [11572] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:25:16.287Z] [runtime-status] [11572] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11572 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11572"}}
[debug] [2021-04-13T10:25:16.295Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:25:16.324Z] [runtime-status] [11572] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-13T10:25:16.378Z] [runtime-status] [11572] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11572] Ephemeral server survived."}}
[info] >  (node:11572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:11572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11572) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:11572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11572) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11572) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-13T10:25:47.279Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-13T10:25:47.280Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-13T10:25:47.280Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T10:25:47.299Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T10:25:47.300Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-13T10:25:47.300Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:25:47.307Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T10:25:47.308Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T10:25:49.393Z] [runtime-status] [12548] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T10:25:49.408Z] [runtime-status] [12548] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Disabled runtime features: undefined"}}
[debug] [2021-04-13T10:25:49.420Z] [runtime-status] [12548] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.434Z] [runtime-status] [12548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.437Z] [runtime-status] [12548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.442Z] [runtime-status] [12548] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T10:25:49.444Z] [runtime-status] [12548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.600Z] [runtime-status] [12548] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T10:25:49.600Z] [runtime-status] [12548] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:25:49.603Z] [runtime-status] [12548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.607Z] [runtime-status] [12548] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.610Z] [runtime-status] [12548] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T10:25:49.611Z] [runtime-status] [12548] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T10:25:50.188Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:25:50.191Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:25:50.192Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:25:50.208Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T10:25:50.216Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:25:50.246Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T10:25:50.291Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:25:53.297Z] [worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: exited"}}
[debug] [2021-04-13T10:25:53.297Z] [worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c37d1173-dff4-4279-91fb-7ed2c063151b]: FINISHED"}}
[debug] [2021-04-13T10:25:53.298Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[info] >  BACKEND client secret is pi_1IfjRRLJT82lIrq7AMU0MDr9_secret_t5f4hjKp1eJ0OcFCFkxjrrnUD {"user":"BACKEND client secret is pi_1IfjRRLJT82lIrq7AMU0MDr9_secret_t5f4hjKp1eJ0OcFCFkxjrrnUD","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfjRRLJT82lIrq7AMU0MDr9_secret_t5f4hjKp1eJ0OcFCFkxjrrnUD"}}
[info] i  functions: Finished "api" in ~8s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~8s"}}
[debug] [2021-04-13T10:25:58.300Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T10:25:58.301Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-13T10:26:16.344Z] [worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: exited"}}
[debug] [2021-04-13T10:26:16.344Z] [worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c9317f61-ea3a-44d9-a7fa-8c8bdfdf30a4]: FINISHED"}}
[debug] [2021-04-13T10:26:16.345Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T10:52:11.872Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T10:52:11.895Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T10:52:11.895Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T10:52:11.901Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-04-13T10:52:11.905Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T10:52:11.907Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T10:52:11.909Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T10:52:12.118Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T10:52:12.173Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T10:52:12.174Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T10:52:12.204Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T10:52:12.268Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T10:52:12.337Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T10:52:12.411Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfjqqLJT82lIrq7s1lvBbXA_secret_jLppXvx9ea3cwAyhfU72Zozfd {"user":"BACKEND client secret is pi_1IfjqqLJT82lIrq7s1lvBbXA_secret_jLppXvx9ea3cwAyhfU72Zozfd","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfjqqLJT82lIrq7s1lvBbXA_secret_jLppXvx9ea3cwAyhfU72Zozfd"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T10:52:13.272Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T10:52:13.273Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T12:48:34.121Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T12:48:34.179Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T12:48:34.180Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T12:48:34.196Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T12:48:34.207Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:48:34.212Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T12:48:34.307Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T12:48:34.377Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T12:48:34.378Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T12:48:34.379Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:48:34.479Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T12:48:34.555Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T12:48:34.589Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IflfSLJT82lIrq7Pe48CD8f_secret_1jhlivqYfibmJyV5o32LnP8n8 {"user":"BACKEND client secret is pi_1IflfSLJT82lIrq7Pe48CD8f_secret_1jhlivqYfibmJyV5o32LnP8n8","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IflfSLJT82lIrq7Pe48CD8f_secret_1jhlivqYfibmJyV5o32LnP8n8"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T12:48:35.292Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T12:48:35.293Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T12:51:15.525Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T12:51:15.526Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T12:51:15.527Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T12:51:15.528Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T12:51:15.528Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:51:15.529Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T12:51:15.531Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T12:51:15.537Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T12:51:15.537Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T12:51:15.537Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:51:15.540Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T12:51:15.549Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T12:51:15.557Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ifli3LJT82lIrq7dDRYU3cb_secret_fbTrNnKyI7SvNnAp8s48LxJke {"user":"BACKEND client secret is pi_1Ifli3LJT82lIrq7dDRYU3cb_secret_fbTrNnKyI7SvNnAp8s48LxJke","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ifli3LJT82lIrq7dDRYU3cb_secret_fbTrNnKyI7SvNnAp8s48LxJke"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T12:51:16.221Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T12:51:16.221Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T12:54:10.530Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T12:54:10.531Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T12:54:10.531Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T12:54:10.531Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T12:54:10.531Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:54:10.532Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T12:54:10.541Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T12:54:10.547Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T12:54:10.559Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T12:54:10.560Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:54:10.567Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T12:54:10.580Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T12:54:10.588Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IflksLJT82lIrq7LXT8zCbt_secret_40yboTn0kRqCQ4AsPEVwKsG7q {"user":"BACKEND client secret is pi_1IflksLJT82lIrq7LXT8zCbt_secret_40yboTn0kRqCQ4AsPEVwKsG7q","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IflksLJT82lIrq7LXT8zCbt_secret_40yboTn0kRqCQ4AsPEVwKsG7q"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T12:54:11.326Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T12:54:11.326Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T12:58:55.971Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T12:58:56.006Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T12:58:56.007Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T12:58:56.017Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T12:58:56.022Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:58:56.023Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T12:58:56.074Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T12:58:56.103Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T12:58:56.103Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T12:58:56.104Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T12:58:56.151Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T12:58:56.195Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T12:58:56.212Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IflpULJT82lIrq7aDX0XzkZ_secret_X6yIAReeVO9hBaJIKl1Hs5tDA {"user":"BACKEND client secret is pi_1IflpULJT82lIrq7aDX0XzkZ_secret_X6yIAReeVO9hBaJIKl1Hs5tDA","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IflpULJT82lIrq7aDX0XzkZ_secret_X6yIAReeVO9hBaJIKl1Hs5tDA"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T12:58:56.826Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T12:58:56.826Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T13:12:11.951Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T13:12:11.983Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T13:12:11.984Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-13T13:12:11.990Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T13:12:11.995Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T13:12:11.997Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T13:12:12.049Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T13:12:12.078Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T13:12:12.078Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T13:12:12.079Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T13:12:12.118Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T13:12:12.171Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-13T13:12:12.187Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ifm2KLJT82lIrq7ZlbpyDlc_secret_pnAgi6flcIehvUu0Nj24u4Gpf {"user":"BACKEND client secret is pi_1Ifm2KLJT82lIrq7ZlbpyDlc_secret_pnAgi6flcIehvUu0Nj24u4Gpf","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ifm2KLJT82lIrq7ZlbpyDlc_secret_pnAgi6flcIehvUu0Nj24u4Gpf"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T13:12:12.930Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T13:12:12.931Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T13:14:12.033Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T13:14:12.033Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T13:14:12.034Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=36000 --> api
[debug] [2021-04-13T13:14:12.034Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T13:14:12.034Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T13:14:12.034Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: BUSY"}}
[debug] [2021-04-13T13:14:12.037Z] [runtime-status] [12548] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T13:14:12.043Z] [runtime-status] [12548] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T13:14:12.044Z] [runtime-status] [12548] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Running api in mode HTTPS"}}
[debug] [2021-04-13T13:14:12.045Z] [runtime-status] [12548] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12548 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12548"}}
[debug] [2021-04-13T13:14:12.048Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T13:14:12.059Z] [runtime-status] [12548] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 36000 {"user":"Payment request received BOOOOOOM!!! 36000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 36000"}}
[debug] [2021-04-13T13:14:12.066Z] [runtime-status] [12548] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12548] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ifm4GLJT82lIrq7DDZY6RpJ_secret_MrgTWtaTJQptyQjqcbWXtqQIK {"user":"BACKEND client secret is pi_1Ifm4GLJT82lIrq7DDZY6RpJ_secret_MrgTWtaTJQptyQjqcbWXtqQIK","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ifm4GLJT82lIrq7DDZY6RpJ_secret_MrgTWtaTJQptyQjqcbWXtqQIK"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T13:14:12.665Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: IDLE"}}
[debug] [2021-04-13T13:14:12.666Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T15:19:06.037Z] [worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-131855a0-2ca6-40b4-8257-27991b96aa51]: exited"}}
[debug] [2021-04-13T15:27:28.638Z] ----------------------------------------------------------------------
[debug] [2021-04-13T15:27:28.642Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-04-13T15:27:28.642Z] CLI Version:   8.6.0
[debug] [2021-04-13T15:27:28.642Z] Platform:      win32
[debug] [2021-04-13T15:27:28.643Z] Node Version:  v12.18.4
[debug] [2021-04-13T15:27:28.655Z] Time:          Tue Apr 13 2021 17:27:28 GMT+0200 (GMT+02:00)
[debug] [2021-04-13T15:27:28.655Z] ----------------------------------------------------------------------
[debug] [2021-04-13T15:27:28.655Z] 
[debug] [2021-04-13T15:27:28.670Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-13T15:27:28.671Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project poduchy-anuchy. This may result in unexpected behavior. 
[debug] [2021-04-13T15:27:30.747Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-04-13T15:27:32.826Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-04-13T15:27:32.829Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-04-13T15:27:36.959Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-04-13T15:27:36.959Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-04-13T15:27:36.959Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-04-13T15:27:37.157Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-04-13T15:27:37.515Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-13T15:27:37.516Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-04-13T15:27:37.516Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-13T15:27:37.517Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5152 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5152"}}
[debug] [2021-04-13T15:27:37.518Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: BUSY"}}
[debug] [2021-04-13T15:27:39.317Z] [runtime-status] [5152] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T15:27:39.319Z] [runtime-status] [5152] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Disabled runtime features: undefined"}}
[debug] [2021-04-13T15:27:39.355Z] [runtime-status] [5152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.367Z] [runtime-status] [5152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.369Z] [runtime-status] [5152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.374Z] [runtime-status] [5152] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T15:27:39.377Z] [runtime-status] [5152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.696Z] [runtime-status] [5152] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T15:27:39.698Z] [runtime-status] [5152] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T15:27:39.700Z] [runtime-status] [5152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.710Z] [runtime-status] [5152] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.714Z] [runtime-status] [5152] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:27:39.714Z] [runtime-status] [5152] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5152] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-04-13T15:27:40.436Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: IDLE"}}
[debug] [2021-04-13T15:38:55.456Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T15:38:55.457Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T15:38:55.458Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=48600 --> api
[debug] [2021-04-13T15:38:55.468Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T15:38:55.469Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T15:38:55.470Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T15:38:55.471Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:38:55.472Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T15:38:56.792Z] [runtime-status] [6700] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T15:38:56.796Z] [runtime-status] [6700] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Disabled runtime features: undefined"}}
[debug] [2021-04-13T15:38:56.813Z] [runtime-status] [6700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.816Z] [runtime-status] [6700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.817Z] [runtime-status] [6700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.820Z] [runtime-status] [6700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T15:38:56.821Z] [runtime-status] [6700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.917Z] [runtime-status] [6700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T15:38:56.918Z] [runtime-status] [6700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T15:38:56.920Z] [runtime-status] [6700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.923Z] [runtime-status] [6700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.925Z] [runtime-status] [6700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T15:38:56.926Z] [runtime-status] [6700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T15:38:57.295Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T15:38:57.297Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T15:38:57.297Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T15:38:57.304Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:38:57.309Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T15:38:57.322Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 48600 {"user":"Payment request received BOOOOOOM!!! 48600","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 48600"}}
[debug] [2021-04-13T15:38:57.340Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfoKLLJT82lIrq7eRPeOXVm_secret_nYZgv9tOVCzRjKq9CU9SMq8TA {"user":"BACKEND client secret is pi_1IfoKLLJT82lIrq7eRPeOXVm_secret_nYZgv9tOVCzRjKq9CU9SMq8TA","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfoKLLJT82lIrq7eRPeOXVm_secret_nYZgv9tOVCzRjKq9CU9SMq8TA"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T15:38:58.350Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T15:38:58.351Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T15:45:02.611Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T15:45:02.613Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T15:45:02.613Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=80000 --> api
[debug] [2021-04-13T15:45:02.619Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T15:45:02.619Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:45:02.620Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T15:45:02.622Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T15:45:02.625Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T15:45:02.665Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T15:45:02.665Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:45:02.681Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T15:45:02.704Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 80000 {"user":"Payment request received BOOOOOOM!!! 80000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 80000"}}
[debug] [2021-04-13T15:45:02.709Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfoQELJT82lIrq7mZO51NtB_secret_37AyhIb4q191Fd0NFakHy2UvH {"user":"BACKEND client secret is pi_1IfoQELJT82lIrq7mZO51NtB_secret_37AyhIb4q191Fd0NFakHy2UvH","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfoQELJT82lIrq7mZO51NtB_secret_37AyhIb4q191Fd0NFakHy2UvH"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T15:45:03.548Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T15:45:03.549Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T15:47:02.284Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T15:47:02.285Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T15:47:02.285Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T15:47:02.285Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T15:47:02.286Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:47:02.286Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T15:47:02.289Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T15:47:02.298Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T15:47:02.299Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T15:47:02.299Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:47:02.305Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T15:47:02.310Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T15:47:02.323Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfoSALJT82lIrq7Bkdssqxe_secret_T3FOzjdSCP3t0qIHwTkbDOfHc {"user":"BACKEND client secret is pi_1IfoSALJT82lIrq7Bkdssqxe_secret_T3FOzjdSCP3t0qIHwTkbDOfHc","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfoSALJT82lIrq7Bkdssqxe_secret_T3FOzjdSCP3t0qIHwTkbDOfHc"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T15:47:02.907Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T15:47:02.907Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T15:51:08.902Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T15:51:08.904Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T15:51:08.905Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T15:51:08.906Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T15:51:08.906Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:51:08.907Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T15:51:08.923Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T15:51:08.925Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T15:51:08.926Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T15:51:08.926Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T15:51:08.931Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T15:51:08.938Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T15:51:08.948Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfoW9LJT82lIrq75WODh58o_secret_IAxiKoRbRLespbSJJt2ZHrkhB {"user":"BACKEND client secret is pi_1IfoW9LJT82lIrq75WODh58o_secret_IAxiKoRbRLespbSJJt2ZHrkhB","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfoW9LJT82lIrq75WODh58o_secret_IAxiKoRbRLespbSJJt2ZHrkhB"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T15:51:09.710Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T15:51:09.710Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T16:14:20.424Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T16:14:20.431Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T16:14:20.432Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=60000 --> api
[debug] [2021-04-13T16:14:20.439Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T16:14:20.440Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:14:20.441Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T16:14:20.497Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T16:14:20.506Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T16:14:20.507Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T16:14:20.507Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:14:20.529Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T16:14:20.575Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 60000 {"user":"Payment request received BOOOOOOM!!! 60000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 60000"}}
[debug] [2021-04-13T16:14:20.657Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfosbLJT82lIrq7euF9DNZe_secret_cbPBlxvfAbaDYHpiTpWxm8uje {"user":"BACKEND client secret is pi_1IfosbLJT82lIrq7euF9DNZe_secret_cbPBlxvfAbaDYHpiTpWxm8uje","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfosbLJT82lIrq7euF9DNZe_secret_cbPBlxvfAbaDYHpiTpWxm8uje"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T16:14:21.580Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T16:14:21.580Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T16:15:46.308Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T16:15:46.309Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T16:15:46.311Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T16:15:46.311Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T16:15:46.312Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:15:46.312Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T16:15:46.371Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T16:15:46.373Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T16:15:46.373Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T16:15:46.374Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:15:46.377Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T16:15:46.384Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T16:15:46.392Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfotyLJT82lIrq7iDsZzcoc_secret_zf984S5PTWG8CVDW0HcMHrw7V {"user":"BACKEND client secret is pi_1IfotyLJT82lIrq7iDsZzcoc_secret_zf984S5PTWG8CVDW0HcMHrw7V","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfotyLJT82lIrq7iDsZzcoc_secret_zf984S5PTWG8CVDW0HcMHrw7V"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T16:15:47.121Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T16:15:47.122Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T16:18:29.108Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T16:18:29.110Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T16:18:29.113Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=36000 --> api
[debug] [2021-04-13T16:18:29.113Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T16:18:29.113Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:18:29.113Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T16:18:29.115Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T16:18:29.117Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T16:18:29.118Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T16:18:29.118Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T16:18:29.121Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T16:18:29.135Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 36000 {"user":"Payment request received BOOOOOOM!!! 36000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 36000"}}
[debug] [2021-04-13T16:18:29.139Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfowbLJT82lIrq7vHX1qPXu_secret_n4BO2WVsxlDpn7VLMcR4eLULz {"user":"BACKEND client secret is pi_1IfowbLJT82lIrq7vHX1qPXu_secret_n4BO2WVsxlDpn7VLMcR4eLULz","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfowbLJT82lIrq7vHX1qPXu_secret_n4BO2WVsxlDpn7VLMcR4eLULz"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T16:18:29.785Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T16:18:29.785Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T17:11:19.871Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T17:11:19.879Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T17:11:19.880Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T17:11:19.883Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T17:11:19.885Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T17:11:19.885Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: BUSY"}}
[debug] [2021-04-13T17:11:19.944Z] [runtime-status] [6700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T17:11:19.960Z] [runtime-status] [6700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T17:11:19.961Z] [runtime-status] [6700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Running api in mode HTTPS"}}
[debug] [2021-04-13T17:11:19.964Z] [runtime-status] [6700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6700"}}
[debug] [2021-04-13T17:11:19.993Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T17:11:20.028Z] [runtime-status] [6700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T17:11:20.042Z] [runtime-status] [6700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6700] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfplkLJT82lIrq759ngaSZa_secret_Md9a31tTqRqBnAjydZiz6Sbb7 {"user":"BACKEND client secret is pi_1IfplkLJT82lIrq759ngaSZa_secret_Md9a31tTqRqBnAjydZiz6Sbb7","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfplkLJT82lIrq759ngaSZa_secret_Md9a31tTqRqBnAjydZiz6Sbb7"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T17:11:20.771Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: IDLE"}}
[debug] [2021-04-13T17:11:20.771Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-13T17:21:46.123Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-04-13T17:21:46.147Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-04-13T17:21:47.151Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-13T17:21:47.152Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: FINISHING"}}
[debug] [2021-04-13T17:21:47.168Z] [worker-pool] Shutting down IDLE worker (api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (api)"}}
[debug] [2021-04-13T17:21:47.168Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: FINISHING"}}
[debug] [2021-04-13T17:21:47.236Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-13T17:21:47.237Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-13T17:21:47.237Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-13T17:21:47.238Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11800 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11800"}}
[debug] [2021-04-13T17:21:47.240Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: BUSY"}}
[debug] [2021-04-13T17:21:47.267Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: exited"}}
[debug] [2021-04-13T17:21:47.267Z] [worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-4111a9a8-cf37-4ba0-be39-13348186ca9e]: FINISHED"}}
[debug] [2021-04-13T17:21:47.269Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: exited"}}
[debug] [2021-04-13T17:21:47.269Z] [worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e07c71e8-cf9c-4dc9-9e5a-ec4ae8d974c5]: FINISHED"}}
[debug] [2021-04-13T17:21:48.788Z] [runtime-status] [11800] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T17:21:48.795Z] [runtime-status] [11800] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Disabled runtime features: undefined"}}
[debug] [2021-04-13T17:21:48.807Z] [runtime-status] [11800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:48.815Z] [runtime-status] [11800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:48.815Z] [runtime-status] [11800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:48.818Z] [runtime-status] [11800] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T17:21:48.819Z] [runtime-status] [11800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:49.062Z] [runtime-status] [11800] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T17:21:49.063Z] [runtime-status] [11800] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:21:49.064Z] [runtime-status] [11800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:49.071Z] [runtime-status] [11800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:49.074Z] [runtime-status] [11800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:21:49.075Z] [runtime-status] [11800] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11800] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:21:49.642Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: IDLE"}}
[debug] [2021-04-13T17:23:39.621Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-04-13T17:23:40.647Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-13T17:23:40.647Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: FINISHING"}}
[debug] [2021-04-13T17:23:40.649Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-13T17:23:40.649Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-13T17:23:40.669Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-13T17:23:40.670Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-13T17:23:40.670Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-13T17:23:40.671Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15156 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15156"}}
[debug] [2021-04-13T17:23:40.672Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: BUSY"}}
[debug] [2021-04-13T17:23:40.673Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: exited"}}
[debug] [2021-04-13T17:23:40.674Z] [worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-f1d741d4-5f91-418b-a79a-11c69e0a6139]: FINISHED"}}
[debug] [2021-04-13T17:23:41.481Z] [runtime-status] [15156] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T17:23:41.490Z] [runtime-status] [15156] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Disabled runtime features: undefined"}}
[debug] [2021-04-13T17:23:41.495Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.502Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.503Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.506Z] [runtime-status] [15156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T17:23:41.507Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.589Z] [runtime-status] [15156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T17:23:41.589Z] [runtime-status] [15156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:23:41.590Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.592Z] [runtime-status] [15156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.593Z] [runtime-status] [15156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:41.593Z] [runtime-status] [15156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [15156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:23:41.877Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: IDLE"}}
[debug] [2021-04-13T17:23:47.774Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\index.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\index.js changed, reloading triggers"}}
[debug] [2021-04-13T17:23:48.797Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-13T17:23:48.797Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: FINISHING"}}
[debug] [2021-04-13T17:23:48.798Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-13T17:23:48.804Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-13T17:23:48.805Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-13T17:23:48.805Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-13T17:23:48.805Z] [worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9880 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9880"}}
[debug] [2021-04-13T17:23:48.805Z] [worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: BUSY"}}
[debug] [2021-04-13T17:23:48.809Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: exited"}}
[debug] [2021-04-13T17:23:48.809Z] [worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-12a48e45-ced8-4925-a4e3-7e38bb3eb71a]: FINISHED"}}
[debug] [2021-04-13T17:23:49.677Z] [runtime-status] [9880] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T17:23:49.684Z] [runtime-status] [9880] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Disabled runtime features: undefined"}}
[debug] [2021-04-13T17:23:49.694Z] [runtime-status] [9880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.697Z] [runtime-status] [9880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.698Z] [runtime-status] [9880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.700Z] [runtime-status] [9880] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T17:23:49.702Z] [runtime-status] [9880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.782Z] [runtime-status] [9880] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T17:23:49.783Z] [runtime-status] [9880] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:23:49.783Z] [runtime-status] [9880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.786Z] [runtime-status] [9880] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.787Z] [runtime-status] [9880] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:23:49.788Z] [runtime-status] [9880] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [9880] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:23:50.151Z] [worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-43769715-1842-456a-9bf6-81ee2673d699]: IDLE"}}
[debug] [2021-04-13T17:24:46.768Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-13T17:24:46.771Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-13T17:24:46.771Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=24000 --> api
[debug] [2021-04-13T17:24:46.772Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-13T17:24:46.796Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-13T17:24:46.796Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-13T17:24:46.796Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-13T17:24:46.798Z] [worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2312 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2312"}}
[debug] [2021-04-13T17:24:46.799Z] [worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: BUSY"}}
[debug] [2021-04-13T17:24:48.512Z] [runtime-status] [2312] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-13T17:24:48.524Z] [runtime-status] [2312] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Disabled runtime features: undefined"}}
[debug] [2021-04-13T17:24:48.543Z] [runtime-status] [2312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.547Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.548Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.553Z] [runtime-status] [2312] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-13T17:24:48.555Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.708Z] [runtime-status] [2312] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-13T17:24:48.709Z] [runtime-status] [2312] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:24:48.710Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.713Z] [runtime-status] [2312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.714Z] [runtime-status] [2312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-13T17:24:48.715Z] [runtime-status] [2312] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-13T17:24:49.128Z] [runtime-status] [2312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-13T17:24:49.153Z] [runtime-status] [2312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-13T17:24:49.153Z] [runtime-status] [2312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Running api in mode HTTPS"}}
[debug] [2021-04-13T17:24:49.166Z] [runtime-status] [2312] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2312 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2312"}}
[debug] [2021-04-13T17:24:49.195Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-13T17:24:49.254Z] [runtime-status] [2312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 24000 {"user":"Payment request received BOOOOOOM!!! 24000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 24000"}}
[debug] [2021-04-13T17:24:49.285Z] [runtime-status] [2312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2312] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1IfpyoLJT82lIrq7C9Wk8zKb_secret_dKG5dGNL2W10JRYNGo6nWeA2y {"user":"BACKEND client secret is pi_1IfpyoLJT82lIrq7C9Wk8zKb_secret_dKG5dGNL2W10JRYNGo6nWeA2y","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1IfpyoLJT82lIrq7C9Wk8zKb_secret_dKG5dGNL2W10JRYNGo6nWeA2y"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-13T17:24:50.885Z] [worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b47b66bf-804d-4d28-8a94-be32ceaa90fa]: IDLE"}}
[debug] [2021-04-13T17:24:50.885Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T16:49:47.222Z] ----------------------------------------------------------------------
[debug] [2021-04-19T16:49:47.227Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js emulators:start
[debug] [2021-04-19T16:49:47.227Z] CLI Version:   8.6.0
[debug] [2021-04-19T16:49:47.227Z] Platform:      win32
[debug] [2021-04-19T16:49:47.228Z] Node Version:  v12.18.4
[debug] [2021-04-19T16:49:47.240Z] Time:          Mon Apr 19 2021 18:49:47 GMT+0200 (GMT+02:00)
[debug] [2021-04-19T16:49:47.240Z] ----------------------------------------------------------------------
[debug] [2021-04-19T16:49:47.240Z] 
[debug] [2021-04-19T16:49:47.266Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-04-19T16:49:47.267Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] !  emulators: It seems that you are running multiple instances of the emulator suite for project poduchy-anuchy. This may result in unexpected behavior. 
[debug] [2021-04-19T16:49:49.348Z] [hub] writing locator at C:\Users\kacper\AppData\Local\Temp\hub-poduchy-anuchy.json
[debug] [2021-04-19T16:49:51.394Z] defaultcredentials: writing to file C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json
[debug] [2021-04-19T16:49:51.397Z] Setting GAC to C:\Users\kacper\AppData\Roaming\firebase\kahernbambo_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to C:\\Users\\kacper\\AppData\\Roaming\\firebase\\kahernbambo_gmail_com_application_default_credentials.json"}}
[warn] !  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: firestore, database, hosting, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mfirestore, database, hosting, pubsub\u001b[22m"}}
[warn] !  Your requested "node" version "10" doesn't match your global version "12" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"10\" doesn't match your global version \"12\""}}
[debug] [2021-04-19T16:49:55.490Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-04-19T16:49:55.491Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-04-19T16:49:55.492Z] Starting Emulator UI with command {"binary":"node","args":["C:\\Users\\kacper\\.cache\\firebase\\emulators\\ui-v1.1.1\\server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"C:\\\\Users\\\\kacper\\\\.cache\\\\firebase\\\\emulators\\\\ui-v1.1.1\\\\server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-04-19T16:49:55.728Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\" for Cloud Functions..."}}
[debug] [2021-04-19T16:49:56.087Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-19T16:49:56.088Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-04-19T16:49:56.088Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-19T16:49:56.089Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11764 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11764"}}
[debug] [2021-04-19T16:49:56.089Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: BUSY"}}
[debug] [2021-04-19T16:49:57.028Z] [runtime-status] [11764] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T16:49:57.037Z] [runtime-status] [11764] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Disabled runtime features: undefined"}}
[debug] [2021-04-19T16:49:57.048Z] [runtime-status] [11764] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.059Z] [runtime-status] [11764] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.061Z] [runtime-status] [11764] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.064Z] [runtime-status] [11764] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T16:49:57.066Z] [runtime-status] [11764] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.278Z] [runtime-status] [11764] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T16:49:57.279Z] [runtime-status] [11764] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T16:49:57.281Z] [runtime-status] [11764] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.285Z] [runtime-status] [11764] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.286Z] [runtime-status] [11764] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:49:57.287Z] [runtime-status] [11764] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [11764] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[info] +  functions[api]: http function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/poduchy-anuchy/us-central1/api)."}}
[info] 
┌───────────────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! View status and logs at http://localhost:4000 │
└───────────────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Other reserved ports: 4400, 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-04-19T16:49:57.839Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: IDLE"}}
[debug] [2021-04-19T16:50:05.744Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T16:50:05.745Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T16:50:05.747Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T16:50:05.761Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T16:50:05.762Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T16:50:05.762Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T16:50:05.763Z] [worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16068 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16068"}}
[debug] [2021-04-19T16:50:05.763Z] [worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: BUSY"}}
[debug] [2021-04-19T16:50:07.815Z] [runtime-status] [16068] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T16:50:07.830Z] [runtime-status] [16068] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Disabled runtime features: undefined"}}
[debug] [2021-04-19T16:50:07.847Z] [runtime-status] [16068] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:07.853Z] [runtime-status] [16068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:07.857Z] [runtime-status] [16068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:07.862Z] [runtime-status] [16068] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T16:50:07.880Z] [runtime-status] [16068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:08.139Z] [runtime-status] [16068] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T16:50:08.141Z] [runtime-status] [16068] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T16:50:08.142Z] [runtime-status] [16068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:08.147Z] [runtime-status] [16068] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:08.149Z] [runtime-status] [16068] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T16:50:08.150Z] [runtime-status] [16068] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T16:50:08.812Z] [runtime-status] [16068] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T16:50:08.815Z] [runtime-status] [16068] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T16:50:08.816Z] [runtime-status] [16068] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Running api in mode HTTPS"}}
[debug] [2021-04-19T16:50:08.845Z] [runtime-status] [16068] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16068 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16068"}}
[debug] [2021-04-19T16:50:08.857Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T16:50:08.886Z] [runtime-status] [16068] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T16:50:08.915Z] [runtime-status] [16068] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16068] Ephemeral server survived."}}
[info] >  (node:16068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16068) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16068) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16068) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T16:51:08.884Z] [worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: exited"}}
[debug] [2021-04-19T16:51:08.885Z] [worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f758738b-1da8-4f67-a9b9-f4fe5ff74a5a]: FINISHED"}}
[debug] [2021-04-19T16:51:08.885Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:19:14.430Z] File C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\package.json changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\package.json changed, reloading triggers"}}
[debug] [2021-04-19T17:19:15.468Z] [worker-pool] Shutting down IDLE worker (~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (~diagnostic~)"}}
[debug] [2021-04-19T17:19:15.469Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: FINISHING {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: FINISHING"}}
[debug] [2021-04-19T17:19:15.472Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T17:19:15.487Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-04-19T17:19:15.488Z] [worker-pool] Adding worker with key ~diagnostic~, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=2"}}
[debug] [2021-04-19T17:19:15.488Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-04-19T17:19:15.489Z] [worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5864 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5864"}}
[debug] [2021-04-19T17:19:15.489Z] [worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: BUSY"}}
[debug] [2021-04-19T17:19:15.559Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: exited"}}
[debug] [2021-04-19T17:19:15.560Z] [worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-23e83a51-b9f5-47db-ac54-fa11ce36c550]: FINISHED"}}
[debug] [2021-04-19T17:19:17.623Z] [runtime-status] [5864] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:19:17.637Z] [runtime-status] [5864] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:19:17.647Z] [runtime-status] [5864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.658Z] [runtime-status] [5864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.659Z] [runtime-status] [5864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.664Z] [runtime-status] [5864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:19:17.665Z] [runtime-status] [5864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.802Z] [runtime-status] [5864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:19:17.803Z] [runtime-status] [5864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:19:17.805Z] [runtime-status] [5864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.807Z] [runtime-status] [5864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.809Z] [runtime-status] [5864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:17.809Z] [runtime-status] [5864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [5864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:19:18.301Z] [worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7f7899a8-71bf-44c8-94df-133ea89cab70]: IDLE"}}
[debug] [2021-04-19T17:19:36.947Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:19:36.948Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:19:36.948Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T17:19:36.949Z] [worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for ~diagnostic~: 2 --> 1"}}
[debug] [2021-04-19T17:19:36.961Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:19:36.962Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T17:19:36.962Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:19:36.962Z] [worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12512 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12512"}}
[debug] [2021-04-19T17:19:36.963Z] [worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: BUSY"}}
[debug] [2021-04-19T17:19:40.068Z] [runtime-status] [12512] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:19:40.074Z] [runtime-status] [12512] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:19:40.110Z] [runtime-status] [12512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.117Z] [runtime-status] [12512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.120Z] [runtime-status] [12512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.126Z] [runtime-status] [12512] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:19:40.132Z] [runtime-status] [12512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.300Z] [runtime-status] [12512] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:19:40.301Z] [runtime-status] [12512] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:19:40.302Z] [runtime-status] [12512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.306Z] [runtime-status] [12512] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.308Z] [runtime-status] [12512] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:19:40.309Z] [runtime-status] [12512] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:19:41.013Z] [runtime-status] [12512] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:19:41.020Z] [runtime-status] [12512] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:19:41.021Z] [runtime-status] [12512] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:19:41.032Z] [runtime-status] [12512] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12512 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12512"}}
[debug] [2021-04-19T17:19:41.085Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:19:41.112Z] [runtime-status] [12512] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T17:19:41.156Z] [runtime-status] [12512] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12512] Ephemeral server survived."}}
[info] >  (node:12512) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:12512) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12512) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:12512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12512) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12512) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T17:20:41.060Z] [worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: exited"}}
[debug] [2021-04-19T17:20:41.060Z] [worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-157edecb-dd4a-4e19-8c8a-215d58012abd]: FINISHED"}}
[debug] [2021-04-19T17:20:41.061Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:21:06.000Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:21:06.000Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:21:06.000Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T17:21:06.001Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T17:21:06.012Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:21:06.013Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T17:21:06.013Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:21:06.013Z] [worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6156 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6156"}}
[debug] [2021-04-19T17:21:06.014Z] [worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: BUSY"}}
[debug] [2021-04-19T17:21:08.633Z] [runtime-status] [6156] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:21:08.641Z] [runtime-status] [6156] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:21:08.678Z] [runtime-status] [6156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.689Z] [runtime-status] [6156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.693Z] [runtime-status] [6156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.699Z] [runtime-status] [6156] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:21:08.704Z] [runtime-status] [6156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.921Z] [runtime-status] [6156] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:21:08.923Z] [runtime-status] [6156] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:21:08.925Z] [runtime-status] [6156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.931Z] [runtime-status] [6156] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.933Z] [runtime-status] [6156] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:08.934Z] [runtime-status] [6156] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:21:10.014Z] [runtime-status] [6156] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:21:10.017Z] [runtime-status] [6156] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:21:10.017Z] [runtime-status] [6156] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:21:10.047Z] [runtime-status] [6156] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6156 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6156"}}
[debug] [2021-04-19T17:21:10.067Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:21:10.105Z] [runtime-status] [6156] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T17:21:10.160Z] [runtime-status] [6156] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6156] Ephemeral server survived."}}
[info] >  (node:6156) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:6156) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6156) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:6156) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6156) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6156) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6156) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6156) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6156) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T17:21:25.015Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T17:21:25.015Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T17:21:25.016Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=14000 --> api
[debug] [2021-04-19T17:21:25.030Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:21:25.031Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T17:21:25.031Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:21:25.031Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10600 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10600"}}
[debug] [2021-04-19T17:21:25.032Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: BUSY"}}
[debug] [2021-04-19T17:21:26.192Z] [runtime-status] [10600] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:21:26.196Z] [runtime-status] [10600] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:21:26.213Z] [runtime-status] [10600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.217Z] [runtime-status] [10600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.218Z] [runtime-status] [10600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.221Z] [runtime-status] [10600] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:21:26.222Z] [runtime-status] [10600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.336Z] [runtime-status] [10600] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:21:26.336Z] [runtime-status] [10600] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:21:26.337Z] [runtime-status] [10600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.340Z] [runtime-status] [10600] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.341Z] [runtime-status] [10600] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:21:26.341Z] [runtime-status] [10600] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:21:26.713Z] [runtime-status] [10600] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:21:26.715Z] [runtime-status] [10600] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:21:26.716Z] [runtime-status] [10600] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:21:26.722Z] [runtime-status] [10600] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10600 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10600"}}
[debug] [2021-04-19T17:21:26.728Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:21:26.748Z] [runtime-status] [10600] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 14000 {"user":"Payment request received BOOOOOOM!!! 14000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 14000"}}
[debug] [2021-04-19T17:21:26.778Z] [runtime-status] [10600] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii0mpLJT82lIrq771XYuDZJ_secret_h1y7wulT9Lh8MrYPLUpc8ud2Y {"user":"BACKEND client secret is pi_1Ii0mpLJT82lIrq771XYuDZJ_secret_h1y7wulT9Lh8MrYPLUpc8ud2Y","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii0mpLJT82lIrq771XYuDZJ_secret_h1y7wulT9Lh8MrYPLUpc8ud2Y"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T17:21:27.545Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: IDLE"}}
[debug] [2021-04-19T17:21:27.549Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T17:22:10.098Z] [worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: exited"}}
[debug] [2021-04-19T17:22:10.099Z] [worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d8c5b44e-a843-448f-a973-c1374ac0cd44]: FINISHED"}}
[debug] [2021-04-19T17:22:10.099Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:26:16.492Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:26:16.494Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:26:16.494Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T17:26:16.496Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T17:26:16.496Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:26:16.496Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10600 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10600"}}
[debug] [2021-04-19T17:26:16.497Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: BUSY"}}
[debug] [2021-04-19T17:26:16.499Z] [runtime-status] [10600] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:26:16.503Z] [runtime-status] [10600] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:26:16.504Z] [runtime-status] [10600] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:26:16.504Z] [runtime-status] [10600] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10600 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10600"}}
[debug] [2021-04-19T17:26:16.507Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:26:16.516Z] [runtime-status] [10600] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T17:26:16.523Z] [runtime-status] [10600] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10600] Ephemeral server survived."}}
[info] >  (node:10600) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10600) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10600) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10600) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10600) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10600) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10600) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10600) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10600) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T17:26:31.929Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T17:26:31.930Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T17:26:31.930Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=80000 --> api
[debug] [2021-04-19T17:26:31.944Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:26:31.945Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T17:26:31.946Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:26:31.946Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:26:31.947Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY"}}
[debug] [2021-04-19T17:26:33.515Z] [runtime-status] [372] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:26:33.524Z] [runtime-status] [372] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:26:33.541Z] [runtime-status] [372] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.546Z] [runtime-status] [372] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.547Z] [runtime-status] [372] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.550Z] [runtime-status] [372] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:26:33.551Z] [runtime-status] [372] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.674Z] [runtime-status] [372] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:26:33.674Z] [runtime-status] [372] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:26:33.675Z] [runtime-status] [372] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.697Z] [runtime-status] [372] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.698Z] [runtime-status] [372] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:26:33.698Z] [runtime-status] [372] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:26:34.087Z] [runtime-status] [372] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:26:34.088Z] [runtime-status] [372] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:26:34.089Z] [runtime-status] [372] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:26:34.096Z] [runtime-status] [372] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:26:34.100Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:26:34.123Z] [runtime-status] [372] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 80000 {"user":"Payment request received BOOOOOOM!!! 80000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 80000"}}
[debug] [2021-04-19T17:26:34.152Z] [runtime-status] [372] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii0rmLJT82lIrq70qmJnsO7_secret_rtiX1sqHKbP8XSqxj4r95OHtv {"user":"BACKEND client secret is pi_1Ii0rmLJT82lIrq70qmJnsO7_secret_rtiX1sqHKbP8XSqxj4r95OHtv","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii0rmLJT82lIrq70qmJnsO7_secret_rtiX1sqHKbP8XSqxj4r95OHtv"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T17:26:34.970Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE"}}
[debug] [2021-04-19T17:26:34.971Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T17:27:16.609Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: exited"}}
[debug] [2021-04-19T17:27:16.610Z] [worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-894db131-e849-4fc5-a69e-dd0e350f5e61]: FINISHED"}}
[debug] [2021-04-19T17:27:16.610Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:34:46.951Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:34:46.967Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:34:46.968Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=14000 --> api
[debug] [2021-04-19T17:34:46.970Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T17:34:46.970Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:34:46.971Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:34:46.972Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY"}}
[debug] [2021-04-19T17:34:47.057Z] [runtime-status] [372] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:34:47.072Z] [runtime-status] [372] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:34:47.073Z] [runtime-status] [372] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:34:47.102Z] [runtime-status] [372] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:34:47.152Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:34:47.218Z] [runtime-status] [372] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 14000 {"user":"Payment request received BOOOOOOM!!! 14000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 14000"}}
[debug] [2021-04-19T17:34:47.258Z] [runtime-status] [372] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii0zjLJT82lIrq7TCuVJgXu_secret_r7EFCTk7lXGtkXA3rw2gDXPZs {"user":"BACKEND client secret is pi_1Ii0zjLJT82lIrq7TCuVJgXu_secret_r7EFCTk7lXGtkXA3rw2gDXPZs","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii0zjLJT82lIrq7TCuVJgXu_secret_r7EFCTk7lXGtkXA3rw2gDXPZs"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T17:34:47.976Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE"}}
[debug] [2021-04-19T17:34:47.976Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:37:52.018Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:37:52.018Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:37:52.018Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=80000 --> api
[debug] [2021-04-19T17:37:52.018Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:37:52.019Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:37:52.019Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY"}}
[debug] [2021-04-19T17:37:52.021Z] [runtime-status] [372] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:37:52.023Z] [runtime-status] [372] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:37:52.023Z] [runtime-status] [372] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:37:52.024Z] [runtime-status] [372] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:37:52.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:37:52.036Z] [runtime-status] [372] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 80000 {"user":"Payment request received BOOOOOOM!!! 80000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 80000"}}
[debug] [2021-04-19T17:37:52.045Z] [runtime-status] [372] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii12iLJT82lIrq7t1N38a0D_secret_bPLD0fFHYL949yBzP8eYhtRW1 {"user":"BACKEND client secret is pi_1Ii12iLJT82lIrq7t1N38a0D_secret_bPLD0fFHYL949yBzP8eYhtRW1","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii12iLJT82lIrq7t1N38a0D_secret_bPLD0fFHYL949yBzP8eYhtRW1"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T17:37:52.614Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: IDLE"}}
[debug] [2021-04-19T17:37:52.628Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:51:27.338Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:51:27.376Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:51:27.377Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T17:51:27.387Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:51:27.393Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:51:27.393Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: BUSY"}}
[debug] [2021-04-19T17:51:27.430Z] [runtime-status] [372] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:51:27.456Z] [runtime-status] [372] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:51:27.458Z] [runtime-status] [372] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:51:27.459Z] [runtime-status] [372] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\372 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\372"}}
[debug] [2021-04-19T17:51:27.503Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:51:27.558Z] [runtime-status] [372] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T17:51:27.576Z] [runtime-status] [372] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [372] Ephemeral server survived."}}
[info] >  (node:372) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:372) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:372) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:372) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:372) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:372) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:372) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:372) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:372) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T17:52:27.601Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: exited"}}
[debug] [2021-04-19T17:52:27.601Z] [worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5505b26a-4a18-465b-9a10-d972209ec3cb]: FINISHED"}}
[debug] [2021-04-19T17:52:27.602Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:56:04.790Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:56:04.791Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:56:04.791Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T17:56:04.793Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T17:56:04.847Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:56:04.848Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T17:56:04.848Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:56:04.852Z] [worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8844 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8844"}}
[debug] [2021-04-19T17:56:04.852Z] [worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: BUSY"}}
[debug] [2021-04-19T17:56:07.999Z] [runtime-status] [8844] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:56:08.010Z] [runtime-status] [8844] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:56:08.035Z] [runtime-status] [8844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.044Z] [runtime-status] [8844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.047Z] [runtime-status] [8844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.055Z] [runtime-status] [8844] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:56:08.063Z] [runtime-status] [8844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.266Z] [runtime-status] [8844] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:56:08.281Z] [runtime-status] [8844] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:56:08.282Z] [runtime-status] [8844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.282Z] [runtime-status] [8844] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.283Z] [runtime-status] [8844] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:56:08.283Z] [runtime-status] [8844] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:56:08.881Z] [runtime-status] [8844] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:56:08.883Z] [runtime-status] [8844] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:56:08.884Z] [runtime-status] [8844] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:56:08.893Z] [runtime-status] [8844] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8844 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8844"}}
[debug] [2021-04-19T17:56:08.899Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:56:08.926Z] [runtime-status] [8844] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T17:56:08.974Z] [runtime-status] [8844] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8844] Ephemeral server survived."}}
[info] >  (node:8844) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8844) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8844) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8844) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8844) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8844) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8844) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8844) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8844) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T17:57:08.982Z] [worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: exited"}}
[debug] [2021-04-19T17:57:08.982Z] [worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-65c41327-7d47-41b4-bd85-77290a1d8dbc]: FINISHED"}}
[debug] [2021-04-19T17:57:08.983Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T17:58:04.236Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T17:58:04.238Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T17:58:04.238Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T17:58:04.238Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T17:58:04.254Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T17:58:04.255Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T17:58:04.255Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T17:58:04.256Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16320"}}
[debug] [2021-04-19T17:58:04.256Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: BUSY"}}
[debug] [2021-04-19T17:58:05.742Z] [runtime-status] [16320] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T17:58:05.751Z] [runtime-status] [16320] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Disabled runtime features: undefined"}}
[debug] [2021-04-19T17:58:05.765Z] [runtime-status] [16320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.769Z] [runtime-status] [16320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.771Z] [runtime-status] [16320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.775Z] [runtime-status] [16320] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T17:58:05.777Z] [runtime-status] [16320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.898Z] [runtime-status] [16320] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T17:58:05.899Z] [runtime-status] [16320] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:58:05.900Z] [runtime-status] [16320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.902Z] [runtime-status] [16320] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.904Z] [runtime-status] [16320] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T17:58:05.904Z] [runtime-status] [16320] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T17:58:06.326Z] [runtime-status] [16320] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T17:58:06.328Z] [runtime-status] [16320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T17:58:06.328Z] [runtime-status] [16320] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Running api in mode HTTPS"}}
[debug] [2021-04-19T17:58:06.337Z] [runtime-status] [16320] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16320"}}
[debug] [2021-04-19T17:58:06.344Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T17:58:06.369Z] [runtime-status] [16320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T17:58:06.393Z] [runtime-status] [16320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii1MJLJT82lIrq70UDKyRu5_secret_ja71jzc9omRhDJaGYixxy2gO3 {"user":"BACKEND client secret is pi_1Ii1MJLJT82lIrq70UDKyRu5_secret_ja71jzc9omRhDJaGYixxy2gO3","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii1MJLJT82lIrq70UDKyRu5_secret_ja71jzc9omRhDJaGYixxy2gO3"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T17:58:07.329Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: IDLE"}}
[debug] [2021-04-19T17:58:07.329Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:24:08.110Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:24:08.119Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:24:08.119Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:24:08.122Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:24:08.123Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16320 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16320"}}
[debug] [2021-04-19T18:24:08.123Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: BUSY"}}
[debug] [2021-04-19T18:24:08.195Z] [runtime-status] [16320] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:24:08.207Z] [runtime-status] [16320] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:24:08.208Z] [runtime-status] [16320] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:24:08.215Z] [runtime-status] [16320] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16320 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16320"}}
[debug] [2021-04-19T18:24:08.237Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:24:08.267Z] [runtime-status] [16320] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:24:08.316Z] [runtime-status] [16320] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16320] Ephemeral server survived."}}
[info] >  (node:16320) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16320) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16320) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16320) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16320) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T18:24:16.645Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:24:16.646Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:24:16.646Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:24:16.663Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:24:16.663Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:24:16.663Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:24:16.665Z] [worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6084 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6084"}}
[debug] [2021-04-19T18:24:16.665Z] [worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: BUSY"}}
[debug] [2021-04-19T18:24:18.759Z] [runtime-status] [6084] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:24:18.763Z] [runtime-status] [6084] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:24:18.792Z] [runtime-status] [6084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.797Z] [runtime-status] [6084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.801Z] [runtime-status] [6084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.805Z] [runtime-status] [6084] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:24:18.807Z] [runtime-status] [6084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.962Z] [runtime-status] [6084] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:24:18.963Z] [runtime-status] [6084] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:24:18.964Z] [runtime-status] [6084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.967Z] [runtime-status] [6084] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.969Z] [runtime-status] [6084] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:24:18.971Z] [runtime-status] [6084] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:24:19.746Z] [runtime-status] [6084] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:24:19.755Z] [runtime-status] [6084] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:24:19.756Z] [runtime-status] [6084] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:24:19.761Z] [runtime-status] [6084] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6084 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6084"}}
[debug] [2021-04-19T18:24:19.769Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:24:19.790Z] [runtime-status] [6084] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:24:19.826Z] [runtime-status] [6084] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6084] Ephemeral server survived."}}
[info] >  (node:6084) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:6084) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6084) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:6084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6084) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6084) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:25:08.280Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: exited"}}
[debug] [2021-04-19T18:25:08.280Z] [worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebedd79f-4ca6-4732-a672-ffb4060b040e]: FINISHED"}}
[debug] [2021-04-19T18:25:08.280Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:25:19.803Z] [worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: exited"}}
[debug] [2021-04-19T18:25:19.804Z] [worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-84fb8692-ec46-49e6-a797-4b7a8d1b5ff3]: FINISHED"}}
[debug] [2021-04-19T18:25:19.804Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:26:51.834Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:26:51.834Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:26:51.835Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:26:51.835Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T18:26:51.850Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:26:51.850Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T18:26:51.851Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:26:51.851Z] [worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13820 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13820"}}
[debug] [2021-04-19T18:26:51.852Z] [worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: BUSY"}}
[debug] [2021-04-19T18:26:53.428Z] [runtime-status] [13820] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:26:53.447Z] [runtime-status] [13820] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:26:53.471Z] [runtime-status] [13820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.476Z] [runtime-status] [13820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.479Z] [runtime-status] [13820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.487Z] [runtime-status] [13820] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:26:53.489Z] [runtime-status] [13820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.663Z] [runtime-status] [13820] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:26:53.666Z] [runtime-status] [13820] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:26:53.670Z] [runtime-status] [13820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.675Z] [runtime-status] [13820] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.678Z] [runtime-status] [13820] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:26:53.679Z] [runtime-status] [13820] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:26:54.235Z] [runtime-status] [13820] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:26:54.237Z] [runtime-status] [13820] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:26:54.238Z] [runtime-status] [13820] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:26:54.250Z] [runtime-status] [13820] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\13820 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\13820"}}
[debug] [2021-04-19T18:26:54.261Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:26:54.287Z] [runtime-status] [13820] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:26:54.322Z] [runtime-status] [13820] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [13820] Ephemeral server survived."}}
[info] >  (node:13820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:13820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13820) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:13820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:13820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13820) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:13820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:13820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:13820) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:27:54.356Z] [worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: exited"}}
[debug] [2021-04-19T18:27:54.356Z] [worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fbe4fc6c-584d-42c5-9e3d-9c241084dd35]: FINISHED"}}
[debug] [2021-04-19T18:27:54.357Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:29:59.946Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:29:59.947Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:29:59.947Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:29:59.948Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T18:29:59.964Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:29:59.964Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T18:29:59.964Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:29:59.966Z] [worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14752 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14752"}}
[debug] [2021-04-19T18:29:59.966Z] [worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: BUSY"}}
[debug] [2021-04-19T18:30:02.484Z] [runtime-status] [14752] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:30:02.489Z] [runtime-status] [14752] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:30:02.502Z] [runtime-status] [14752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.528Z] [runtime-status] [14752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.532Z] [runtime-status] [14752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.537Z] [runtime-status] [14752] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:30:02.540Z] [runtime-status] [14752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.668Z] [runtime-status] [14752] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:30:02.668Z] [runtime-status] [14752] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:30:02.670Z] [runtime-status] [14752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.672Z] [runtime-status] [14752] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.674Z] [runtime-status] [14752] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:02.674Z] [runtime-status] [14752] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:30:03.083Z] [runtime-status] [14752] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:30:03.085Z] [runtime-status] [14752] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:30:03.085Z] [runtime-status] [14752] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:30:03.095Z] [runtime-status] [14752] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14752 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14752"}}
[debug] [2021-04-19T18:30:03.101Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:30:03.117Z] [runtime-status] [14752] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:30:03.139Z] [runtime-status] [14752] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14752] Ephemeral server survived."}}
[info] >  (node:14752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14752) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:14752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14752) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14752) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T18:30:31.330Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:30:31.331Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:30:31.331Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:30:31.343Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:30:31.343Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:30:31.343Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:30:31.344Z] [worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8268 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8268"}}
[debug] [2021-04-19T18:30:31.345Z] [worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: BUSY"}}
[debug] [2021-04-19T18:30:32.897Z] [runtime-status] [8268] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:30:32.909Z] [runtime-status] [8268] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:30:32.923Z] [runtime-status] [8268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:32.927Z] [runtime-status] [8268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:32.929Z] [runtime-status] [8268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:32.934Z] [runtime-status] [8268] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:30:32.950Z] [runtime-status] [8268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:33.060Z] [runtime-status] [8268] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:30:33.060Z] [runtime-status] [8268] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:30:33.062Z] [runtime-status] [8268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:33.066Z] [runtime-status] [8268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:33.069Z] [runtime-status] [8268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:30:33.070Z] [runtime-status] [8268] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:30:33.499Z] [runtime-status] [8268] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:30:33.503Z] [runtime-status] [8268] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:30:33.503Z] [runtime-status] [8268] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:30:33.515Z] [runtime-status] [8268] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8268 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8268"}}
[debug] [2021-04-19T18:30:33.521Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:30:33.538Z] [runtime-status] [8268] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:30:33.561Z] [runtime-status] [8268] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8268] Ephemeral server survived."}}
[info] >  (node:8268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8268) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8268) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8268) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T18:31:02.528Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T18:31:02.528Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T18:31:02.529Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:31:02.541Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:31:02.542Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T18:31:02.542Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:31:02.543Z] [worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15800 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15800"}}
[debug] [2021-04-19T18:31:02.543Z] [worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:31:03.130Z] [worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: exited"}}
[debug] [2021-04-19T18:31:03.131Z] [worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0bcf632-c9fc-4368-a3d6-284da640668d]: FINISHED"}}
[debug] [2021-04-19T18:31:03.131Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:31:03.593Z] [runtime-status] [15800] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:31:03.600Z] [runtime-status] [15800] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:31:03.607Z] [runtime-status] [15800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.618Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.620Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.623Z] [runtime-status] [15800] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:31:03.624Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.706Z] [runtime-status] [15800] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:31:03.707Z] [runtime-status] [15800] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:31:03.708Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.713Z] [runtime-status] [15800] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.713Z] [runtime-status] [15800] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:31:03.714Z] [runtime-status] [15800] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:31:04.017Z] [runtime-status] [15800] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:31:04.018Z] [runtime-status] [15800] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:31:04.019Z] [runtime-status] [15800] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:31:04.026Z] [runtime-status] [15800] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15800 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15800"}}
[debug] [2021-04-19T18:31:04.030Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:31:04.044Z] [runtime-status] [15800] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:31:04.064Z] [runtime-status] [15800] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15800] Ephemeral server survived."}}
[info] >  (node:15800) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15800) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15800) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:31:33.542Z] [worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: exited"}}
[debug] [2021-04-19T18:31:33.542Z] [worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9330bf43-cad1-4a05-b37d-3b67c459a2db]: FINISHED"}}
[debug] [2021-04-19T18:31:33.542Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:32:04.070Z] [worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: exited"}}
[debug] [2021-04-19T18:32:04.070Z] [worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4537cdb6-0d55-4421-906a-b23c9d1d9ce2]: FINISHED"}}
[debug] [2021-04-19T18:32:04.071Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:32:09.149Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:32:09.150Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:32:09.150Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:32:09.150Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-04-19T18:32:09.161Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:32:09.161Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T18:32:09.161Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:32:09.164Z] [worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16004 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16004"}}
[debug] [2021-04-19T18:32:09.164Z] [worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: BUSY"}}
[debug] [2021-04-19T18:32:11.697Z] [runtime-status] [16004] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:32:11.710Z] [runtime-status] [16004] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:32:11.721Z] [runtime-status] [16004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.738Z] [runtime-status] [16004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.741Z] [runtime-status] [16004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.747Z] [runtime-status] [16004] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:32:11.750Z] [runtime-status] [16004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.896Z] [runtime-status] [16004] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:32:11.897Z] [runtime-status] [16004] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:32:11.898Z] [runtime-status] [16004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.901Z] [runtime-status] [16004] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.902Z] [runtime-status] [16004] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:11.902Z] [runtime-status] [16004] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:32:12.320Z] [runtime-status] [16004] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:32:12.322Z] [runtime-status] [16004] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:32:12.339Z] [runtime-status] [16004] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:32:12.340Z] [runtime-status] [16004] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16004 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16004"}}
[debug] [2021-04-19T18:32:12.346Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:32:12.367Z] [runtime-status] [16004] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:32:12.408Z] [runtime-status] [16004] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16004] Ephemeral server survived."}}
[info] >  (node:16004) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16004) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16004) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16004) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16004) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T18:32:49.573Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:32:49.573Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:32:49.574Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:32:49.589Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:32:49.590Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:32:49.590Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:32:49.591Z] [worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9632 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9632"}}
[debug] [2021-04-19T18:32:49.591Z] [worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: BUSY"}}
[debug] [2021-04-19T18:32:52.013Z] [runtime-status] [9632] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:32:52.025Z] [runtime-status] [9632] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:32:52.078Z] [runtime-status] [9632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.089Z] [runtime-status] [9632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.095Z] [runtime-status] [9632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.102Z] [runtime-status] [9632] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:32:52.104Z] [runtime-status] [9632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.258Z] [runtime-status] [9632] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:32:52.258Z] [runtime-status] [9632] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:32:52.260Z] [runtime-status] [9632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.263Z] [runtime-status] [9632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.265Z] [runtime-status] [9632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:32:52.265Z] [runtime-status] [9632] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:32:52.841Z] [runtime-status] [9632] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:32:52.843Z] [runtime-status] [9632] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:32:52.843Z] [runtime-status] [9632] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:32:52.854Z] [runtime-status] [9632] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9632 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9632"}}
[debug] [2021-04-19T18:32:52.868Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:32:52.904Z] [runtime-status] [9632] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:32:52.943Z] [runtime-status] [9632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9632] Ephemeral server survived."}}
[info] >  (node:9632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:33:12.377Z] [worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: exited"}}
[debug] [2021-04-19T18:33:12.378Z] [worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-5786d855-83fc-4c69-bf13-bcbcef5acc88]: FINISHED"}}
[debug] [2021-04-19T18:33:12.378Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:33:50.028Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:33:50.028Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:33:50.028Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:33:50.028Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T18:33:50.037Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:33:50.037Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:33:50.037Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:33:50.038Z] [worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5236 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5236"}}
[debug] [2021-04-19T18:33:50.039Z] [worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: BUSY"}}
[debug] [2021-04-19T18:33:51.732Z] [runtime-status] [5236] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:33:51.804Z] [runtime-status] [5236] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:33:51.833Z] [runtime-status] [5236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:51.847Z] [runtime-status] [5236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:51.848Z] [runtime-status] [5236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:51.848Z] [runtime-status] [5236] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:33:51.849Z] [runtime-status] [5236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:51.994Z] [runtime-status] [5236] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:33:51.995Z] [runtime-status] [5236] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:33:51.997Z] [runtime-status] [5236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:52.000Z] [runtime-status] [5236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:52.003Z] [runtime-status] [5236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:33:52.004Z] [runtime-status] [5236] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:33:52.438Z] [runtime-status] [5236] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:33:52.465Z] [runtime-status] [5236] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:33:52.465Z] [runtime-status] [5236] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:33:52.466Z] [runtime-status] [5236] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5236 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5236"}}
[debug] [2021-04-19T18:33:52.468Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:33:52.494Z] [runtime-status] [5236] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:33:52.555Z] [runtime-status] [5236] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5236] Ephemeral server survived."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:33:52.944Z] [worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: exited"}}
[debug] [2021-04-19T18:33:52.944Z] [worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82f2179d-e085-4eae-b049-76820c1e5698]: FINISHED"}}
[debug] [2021-04-19T18:33:52.944Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  (node:5236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:34:52.493Z] [worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: exited"}}
[debug] [2021-04-19T18:34:52.493Z] [worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-67602aef-a752-4300-ba5b-0be25cd1cf41]: FINISHED"}}
[debug] [2021-04-19T18:34:52.493Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:39:49.134Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:39:49.137Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:39:49.137Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:39:49.138Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T18:39:49.161Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:39:49.161Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T18:39:49.162Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:39:49.163Z] [worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2236 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2236"}}
[debug] [2021-04-19T18:39:49.164Z] [worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: BUSY"}}
[debug] [2021-04-19T18:39:51.335Z] [runtime-status] [2236] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:39:51.340Z] [runtime-status] [2236] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:39:51.363Z] [runtime-status] [2236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.369Z] [runtime-status] [2236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.372Z] [runtime-status] [2236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.378Z] [runtime-status] [2236] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:39:51.379Z] [runtime-status] [2236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.801Z] [runtime-status] [2236] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:39:51.803Z] [runtime-status] [2236] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:39:51.807Z] [runtime-status] [2236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.814Z] [runtime-status] [2236] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.816Z] [runtime-status] [2236] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:39:51.817Z] [runtime-status] [2236] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:39:52.407Z] [runtime-status] [2236] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:39:52.413Z] [runtime-status] [2236] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:39:52.414Z] [runtime-status] [2236] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:39:52.419Z] [runtime-status] [2236] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2236 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2236"}}
[debug] [2021-04-19T18:39:52.426Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:39:52.457Z] [runtime-status] [2236] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:39:52.491Z] [runtime-status] [2236] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2236] Ephemeral server survived."}}
[info] >  (node:2236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2236) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2236) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2236) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T18:40:09.832Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:40:09.833Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:40:09.833Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T18:40:09.844Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:40:09.844Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:40:09.845Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:40:09.845Z] [worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15132 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15132"}}
[debug] [2021-04-19T18:40:09.845Z] [worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: BUSY"}}
[debug] [2021-04-19T18:40:11.554Z] [runtime-status] [15132] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:40:11.563Z] [runtime-status] [15132] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:40:11.575Z] [runtime-status] [15132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.578Z] [runtime-status] [15132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.580Z] [runtime-status] [15132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.584Z] [runtime-status] [15132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:40:11.585Z] [runtime-status] [15132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.681Z] [runtime-status] [15132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:40:11.682Z] [runtime-status] [15132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:40:11.683Z] [runtime-status] [15132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.685Z] [runtime-status] [15132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.688Z] [runtime-status] [15132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:40:11.689Z] [runtime-status] [15132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:40:12.121Z] [runtime-status] [15132] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:40:12.134Z] [runtime-status] [15132] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:40:12.134Z] [runtime-status] [15132] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:40:12.135Z] [runtime-status] [15132] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15132 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15132"}}
[debug] [2021-04-19T18:40:12.141Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:40:12.258Z] [runtime-status] [15132] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T18:40:12.321Z] [runtime-status] [15132] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15132] Ephemeral server survived."}}
[info] >  (node:15132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:40:52.479Z] [worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: exited"}}
[debug] [2021-04-19T18:40:52.479Z] [worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-737a181a-31a5-4c82-8738-f47ce44c75be]: FINISHED"}}
[debug] [2021-04-19T18:40:52.480Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:41:03.328Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T18:41:03.329Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T18:41:03.329Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T18:41:03.329Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T18:41:03.345Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T18:41:03.345Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T18:41:03.345Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:41:03.346Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T18:41:03.347Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY"}}
[debug] [2021-04-19T18:41:04.706Z] [runtime-status] [15604] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T18:41:04.713Z] [runtime-status] [15604] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Disabled runtime features: undefined"}}
[debug] [2021-04-19T18:41:04.741Z] [runtime-status] [15604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.747Z] [runtime-status] [15604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.750Z] [runtime-status] [15604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.754Z] [runtime-status] [15604] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T18:41:04.755Z] [runtime-status] [15604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.884Z] [runtime-status] [15604] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T18:41:04.885Z] [runtime-status] [15604] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:41:04.887Z] [runtime-status] [15604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.890Z] [runtime-status] [15604] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.892Z] [runtime-status] [15604] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T18:41:04.892Z] [runtime-status] [15604] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T18:41:05.318Z] [runtime-status] [15604] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:41:05.320Z] [runtime-status] [15604] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:41:05.320Z] [runtime-status] [15604] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:41:05.328Z] [runtime-status] [15604] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T18:41:05.333Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:41:05.349Z] [runtime-status] [15604] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T18:41:05.375Z] [runtime-status] [15604] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii21uLJT82lIrq7F9HUKocN_secret_zPGrbUaPsT5fVnj0c2cVWe0fW {"user":"BACKEND client secret is pi_1Ii21uLJT82lIrq7F9HUKocN_secret_zPGrbUaPsT5fVnj0c2cVWe0fW","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii21uLJT82lIrq7F9HUKocN_secret_zPGrbUaPsT5fVnj0c2cVWe0fW"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T18:41:06.217Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE"}}
[debug] [2021-04-19T18:41:06.218Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T18:41:12.187Z] [worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: exited"}}
[debug] [2021-04-19T18:41:12.188Z] [worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-19b462a5-9a50-46b5-b01d-85e72fd0e117]: FINISHED"}}
[debug] [2021-04-19T18:41:12.188Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T18:47:24.836Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T18:47:24.837Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T18:47:24.837Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T18:47:24.837Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T18:47:24.864Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T18:47:24.864Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T18:47:24.864Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY"}}
[debug] [2021-04-19T18:47:24.866Z] [runtime-status] [15604] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T18:47:24.867Z] [runtime-status] [15604] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T18:47:24.868Z] [runtime-status] [15604] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Running api in mode HTTPS"}}
[debug] [2021-04-19T18:47:24.869Z] [runtime-status] [15604] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T18:47:24.873Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T18:47:24.878Z] [runtime-status] [15604] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T18:47:24.887Z] [runtime-status] [15604] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii284LJT82lIrq76XixD8OQ_secret_mKkiWOaDMCfouVueafNpCvvS5 {"user":"BACKEND client secret is pi_1Ii284LJT82lIrq76XixD8OQ_secret_mKkiWOaDMCfouVueafNpCvvS5","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii284LJT82lIrq76XixD8OQ_secret_mKkiWOaDMCfouVueafNpCvvS5"}}
[info] i  functions: Finished "api" in ~3s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~3s"}}
[debug] [2021-04-19T18:47:28.872Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE"}}
[debug] [2021-04-19T18:47:28.872Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:14:09.469Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:14:09.475Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:14:09.475Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T19:14:09.477Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:14:09.479Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T19:14:09.480Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY"}}
[debug] [2021-04-19T19:14:09.544Z] [runtime-status] [15604] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:14:09.560Z] [runtime-status] [15604] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:14:09.560Z] [runtime-status] [15604] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:14:09.565Z] [runtime-status] [15604] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T19:14:09.607Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:14:09.681Z] [runtime-status] [15604] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T19:14:09.702Z] [runtime-status] [15604] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii2XuLJT82lIrq7Y0Tk9vOR_secret_bdNazGdVkS5mcELHul0K5Ay5H {"user":"BACKEND client secret is pi_1Ii2XuLJT82lIrq7Y0Tk9vOR_secret_bdNazGdVkS5mcELHul0K5Ay5H","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii2XuLJT82lIrq7Y0Tk9vOR_secret_bdNazGdVkS5mcELHul0K5Ay5H"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T19:14:10.333Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: IDLE"}}
[debug] [2021-04-19T19:14:10.333Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:16:13.021Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:16:13.022Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:16:13.022Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:16:13.023Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:16:13.023Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T19:16:13.023Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: BUSY"}}
[debug] [2021-04-19T19:16:13.025Z] [runtime-status] [15604] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:16:13.031Z] [runtime-status] [15604] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:16:13.032Z] [runtime-status] [15604] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:16:13.033Z] [runtime-status] [15604] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15604 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15604"}}
[debug] [2021-04-19T19:16:13.049Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:16:13.060Z] [runtime-status] [15604] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:16:13.070Z] [runtime-status] [15604] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15604] Ephemeral server survived."}}
[info] >  (node:15604) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15604) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15604) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15604) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15604) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15604) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15604) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15604) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15604) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T19:16:33.353Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T19:16:33.354Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T19:16:33.354Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:16:33.411Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:16:33.412Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T19:16:33.412Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:16:33.414Z] [worker-api-e0341587-026d-4e4b-b156-6147c250f462]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1632 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e0341587-026d-4e4b-b156-6147c250f462]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1632"}}
[debug] [2021-04-19T19:16:33.414Z] [worker-api-e0341587-026d-4e4b-b156-6147c250f462]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e0341587-026d-4e4b-b156-6147c250f462]: BUSY"}}
[debug] [2021-04-19T19:16:37.645Z] [runtime-status] [1632] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:16:37.658Z] [runtime-status] [1632] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:16:37.691Z] [runtime-status] [1632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:37.699Z] [runtime-status] [1632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:37.701Z] [runtime-status] [1632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:37.711Z] [runtime-status] [1632] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:16:37.712Z] [runtime-status] [1632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:37.996Z] [runtime-status] [1632] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:16:37.996Z] [runtime-status] [1632] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:16:37.998Z] [runtime-status] [1632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:38.002Z] [runtime-status] [1632] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:38.005Z] [runtime-status] [1632] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:16:38.007Z] [runtime-status] [1632] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:16:54.865Z] [runtime-status] [1632] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:16:54.899Z] [runtime-status] [1632] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:16:54.900Z] [runtime-status] [1632] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:16:54.900Z] [runtime-status] [1632] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1632 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1632"}}
[debug] [2021-04-19T19:16:54.925Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:16:54.977Z] [runtime-status] [1632] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:16:55.066Z] [runtime-status] [1632] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1632] Ephemeral server survived."}}
[info] >  (node:1632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1632) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1632) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1632) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:17:13.138Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: exited"}}
[debug] [2021-04-19T19:17:13.138Z] [worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd5aa451-6adf-487a-943b-45ff42d16112]: FINISHED"}}
[debug] [2021-04-19T19:17:13.138Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:17:54.907Z] [worker-api-e0341587-026d-4e4b-b156-6147c250f462]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e0341587-026d-4e4b-b156-6147c250f462]: exited"}}
[debug] [2021-04-19T19:17:54.907Z] [worker-api-e0341587-026d-4e4b-b156-6147c250f462]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e0341587-026d-4e4b-b156-6147c250f462]: FINISHED"}}
[debug] [2021-04-19T19:17:54.907Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:48:27.807Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:48:27.807Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:48:27.808Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:48:27.808Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T19:48:27.823Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:48:27.824Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:48:27.824Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:48:27.824Z] [worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16012 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16012"}}
[debug] [2021-04-19T19:48:27.824Z] [worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: BUSY"}}
[debug] [2021-04-19T19:48:29.946Z] [runtime-status] [16012] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:48:29.957Z] [runtime-status] [16012] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:48:29.976Z] [runtime-status] [16012] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:29.982Z] [runtime-status] [16012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:29.985Z] [runtime-status] [16012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:29.991Z] [runtime-status] [16012] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:48:29.993Z] [runtime-status] [16012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:30.170Z] [runtime-status] [16012] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:48:30.171Z] [runtime-status] [16012] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:48:30.173Z] [runtime-status] [16012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:30.175Z] [runtime-status] [16012] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:30.176Z] [runtime-status] [16012] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:48:30.177Z] [runtime-status] [16012] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:48:30.896Z] [runtime-status] [16012] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:48:30.899Z] [runtime-status] [16012] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:48:30.899Z] [runtime-status] [16012] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:48:30.917Z] [runtime-status] [16012] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16012 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16012"}}
[debug] [2021-04-19T19:48:30.928Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:48:30.964Z] [runtime-status] [16012] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:48:30.991Z] [runtime-status] [16012] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16012] Ephemeral server survived."}}
[info] >  (node:16012) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16012) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16012) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16012) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16012) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16012) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16012) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16012) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16012) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:49:30.959Z] [worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: exited"}}
[debug] [2021-04-19T19:49:30.960Z] [worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-970dab20-f806-4432-a6c4-d0307ed84423]: FINISHED"}}
[debug] [2021-04-19T19:49:30.960Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:49:52.432Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:49:52.433Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:49:52.434Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:49:52.434Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T19:49:52.445Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:49:52.446Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:49:52.446Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:49:52.448Z] [worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15532 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15532"}}
[debug] [2021-04-19T19:49:52.448Z] [worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: BUSY"}}
[debug] [2021-04-19T19:49:54.811Z] [runtime-status] [15532] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:49:54.822Z] [runtime-status] [15532] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:49:54.830Z] [runtime-status] [15532] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:54.838Z] [runtime-status] [15532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:54.841Z] [runtime-status] [15532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:54.847Z] [runtime-status] [15532] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:49:54.848Z] [runtime-status] [15532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:55.014Z] [runtime-status] [15532] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:49:55.015Z] [runtime-status] [15532] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:49:55.020Z] [runtime-status] [15532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:55.029Z] [runtime-status] [15532] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:55.035Z] [runtime-status] [15532] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:49:55.037Z] [runtime-status] [15532] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:49:55.600Z] [runtime-status] [15532] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:49:55.603Z] [runtime-status] [15532] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:49:55.604Z] [runtime-status] [15532] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:49:55.614Z] [runtime-status] [15532] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15532 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15532"}}
[debug] [2021-04-19T19:49:55.626Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:49:55.652Z] [runtime-status] [15532] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:49:55.679Z] [runtime-status] [15532] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15532] Ephemeral server survived."}}
[info] >  (node:15532) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15532) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15532) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15532) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15532) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15532) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15532) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15532) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15532) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:50:55.654Z] [worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: exited"}}
[debug] [2021-04-19T19:50:55.655Z] [worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-3ab128ca-1d9d-41ed-b931-44f6a4317436]: FINISHED"}}
[debug] [2021-04-19T19:50:55.655Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:51:08.628Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:51:08.628Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:51:08.629Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:51:08.629Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T19:51:08.640Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:51:08.641Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:51:08.641Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:51:08.643Z] [worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7668 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7668"}}
[debug] [2021-04-19T19:51:08.643Z] [worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: BUSY"}}
[debug] [2021-04-19T19:51:10.635Z] [runtime-status] [7668] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:51:10.651Z] [runtime-status] [7668] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:51:10.702Z] [runtime-status] [7668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:10.710Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:10.714Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:10.728Z] [runtime-status] [7668] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:51:10.731Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:11.001Z] [runtime-status] [7668] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:51:11.002Z] [runtime-status] [7668] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:51:11.004Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:11.008Z] [runtime-status] [7668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:11.010Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:11.010Z] [runtime-status] [7668] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:51:11.627Z] [runtime-status] [7668] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:51:11.629Z] [runtime-status] [7668] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:51:11.629Z] [runtime-status] [7668] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:51:11.642Z] [runtime-status] [7668] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7668 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7668"}}
[debug] [2021-04-19T19:51:11.651Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:51:11.687Z] [runtime-status] [7668] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:51:11.723Z] [runtime-status] [7668] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7668] Ephemeral server survived."}}
[info] >  (node:7668) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7668) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7668) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7668) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7668) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7668) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7668) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7668) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7668) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T19:51:17.750Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T19:51:17.751Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T19:51:17.751Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:51:17.762Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:51:17.762Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T19:51:17.762Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:51:17.764Z] [worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8200 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8200"}}
[debug] [2021-04-19T19:51:17.765Z] [worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: BUSY"}}
[debug] [2021-04-19T19:51:19.213Z] [runtime-status] [8200] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:51:19.225Z] [runtime-status] [8200] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:51:19.239Z] [runtime-status] [8200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.244Z] [runtime-status] [8200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.246Z] [runtime-status] [8200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.250Z] [runtime-status] [8200] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:51:19.251Z] [runtime-status] [8200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.360Z] [runtime-status] [8200] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:51:19.361Z] [runtime-status] [8200] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:51:19.363Z] [runtime-status] [8200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.367Z] [runtime-status] [8200] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.369Z] [runtime-status] [8200] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:51:19.370Z] [runtime-status] [8200] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:51:19.845Z] [runtime-status] [8200] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:51:19.847Z] [runtime-status] [8200] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:51:19.847Z] [runtime-status] [8200] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:51:19.858Z] [runtime-status] [8200] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8200 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8200"}}
[debug] [2021-04-19T19:51:19.865Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:51:19.883Z] [runtime-status] [8200] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:51:19.916Z] [runtime-status] [8200] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8200] Ephemeral server survived."}}
[info] >  (node:8200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8200) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8200) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8200) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:52:11.679Z] [worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: exited"}}
[debug] [2021-04-19T19:52:11.679Z] [worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-80fcf57f-d524-44d5-859f-5c70147b0b1e]: FINISHED"}}
[debug] [2021-04-19T19:52:11.679Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:52:19.895Z] [worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: exited"}}
[debug] [2021-04-19T19:52:19.895Z] [worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ab01a721-1910-405f-8e64-d4fa38f39080]: FINISHED"}}
[debug] [2021-04-19T19:52:19.895Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:53:38.815Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:53:38.815Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:53:38.815Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:53:38.815Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T19:53:38.827Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:53:38.827Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:53:38.828Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:53:38.828Z] [worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15576 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15576"}}
[debug] [2021-04-19T19:53:38.828Z] [worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: BUSY"}}
[debug] [2021-04-19T19:53:41.032Z] [runtime-status] [15576] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:53:41.046Z] [runtime-status] [15576] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:53:41.065Z] [runtime-status] [15576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.073Z] [runtime-status] [15576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.076Z] [runtime-status] [15576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.083Z] [runtime-status] [15576] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:53:41.085Z] [runtime-status] [15576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.214Z] [runtime-status] [15576] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:53:41.214Z] [runtime-status] [15576] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:53:41.216Z] [runtime-status] [15576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.220Z] [runtime-status] [15576] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.222Z] [runtime-status] [15576] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:53:41.222Z] [runtime-status] [15576] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:53:41.702Z] [runtime-status] [15576] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:53:41.704Z] [runtime-status] [15576] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:53:41.704Z] [runtime-status] [15576] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:53:41.714Z] [runtime-status] [15576] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15576 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15576"}}
[debug] [2021-04-19T19:53:41.723Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:53:41.748Z] [runtime-status] [15576] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:53:41.775Z] [runtime-status] [15576] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15576] Ephemeral server survived."}}
[info] >  (node:15576) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15576) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15576) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15576) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15576) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:54:41.745Z] [worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: exited"}}
[debug] [2021-04-19T19:54:41.746Z] [worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-04fa05e1-f016-4994-bf1c-88b3c9783dbc]: FINISHED"}}
[debug] [2021-04-19T19:54:41.746Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:56:22.801Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:56:22.813Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:56:22.813Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:56:22.813Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T19:56:22.823Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:56:22.824Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:56:22.824Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:56:22.825Z] [worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12112 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12112"}}
[debug] [2021-04-19T19:56:22.826Z] [worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: BUSY"}}
[debug] [2021-04-19T19:56:24.581Z] [runtime-status] [12112] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:56:24.596Z] [runtime-status] [12112] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:56:24.612Z] [runtime-status] [12112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.615Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.618Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.622Z] [runtime-status] [12112] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:56:24.623Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.739Z] [runtime-status] [12112] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:56:24.740Z] [runtime-status] [12112] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:56:24.742Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.746Z] [runtime-status] [12112] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.747Z] [runtime-status] [12112] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:24.748Z] [runtime-status] [12112] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:56:25.386Z] [runtime-status] [12112] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:56:25.392Z] [runtime-status] [12112] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:56:25.392Z] [runtime-status] [12112] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:56:25.403Z] [runtime-status] [12112] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12112 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12112"}}
[debug] [2021-04-19T19:56:25.410Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:56:25.430Z] [runtime-status] [12112] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:56:25.477Z] [runtime-status] [12112] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12112] Ephemeral server survived."}}
[info] >  (node:12112) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:12112) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12112) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:12112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12112) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12112) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T19:56:42.884Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T19:56:42.885Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T19:56:42.885Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:56:42.909Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:56:42.910Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T19:56:42.910Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:56:42.910Z] [worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12772 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12772"}}
[debug] [2021-04-19T19:56:42.910Z] [worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: BUSY"}}
[debug] [2021-04-19T19:56:44.748Z] [runtime-status] [12772] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:56:44.767Z] [runtime-status] [12772] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:56:44.794Z] [runtime-status] [12772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:44.808Z] [runtime-status] [12772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:44.813Z] [runtime-status] [12772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:44.819Z] [runtime-status] [12772] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:56:44.821Z] [runtime-status] [12772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:44.982Z] [runtime-status] [12772] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:56:44.982Z] [runtime-status] [12772] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:56:44.996Z] [runtime-status] [12772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:45.001Z] [runtime-status] [12772] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:45.010Z] [runtime-status] [12772] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:56:45.010Z] [runtime-status] [12772] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:56:45.498Z] [runtime-status] [12772] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:56:45.500Z] [runtime-status] [12772] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:56:45.501Z] [runtime-status] [12772] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:56:45.512Z] [runtime-status] [12772] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12772 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12772"}}
[debug] [2021-04-19T19:56:45.519Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:56:45.539Z] [runtime-status] [12772] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:56:45.573Z] [runtime-status] [12772] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12772] Ephemeral server survived."}}
[info] >  (node:12772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:12772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12772) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:12772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12772) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12772) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T19:57:02.608Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T19:57:02.609Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T19:57:02.609Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:57:02.624Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:57:02.624Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T19:57:02.624Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:57:02.626Z] [worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12384 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12384"}}
[debug] [2021-04-19T19:57:02.626Z] [worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: BUSY"}}
[debug] [2021-04-19T19:57:05.079Z] [runtime-status] [12384] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:57:05.091Z] [runtime-status] [12384] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:57:05.107Z] [runtime-status] [12384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.113Z] [runtime-status] [12384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.115Z] [runtime-status] [12384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.119Z] [runtime-status] [12384] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:57:05.120Z] [runtime-status] [12384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.305Z] [runtime-status] [12384] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:57:05.305Z] [runtime-status] [12384] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:57:05.307Z] [runtime-status] [12384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.310Z] [runtime-status] [12384] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.311Z] [runtime-status] [12384] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:57:05.312Z] [runtime-status] [12384] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:57:05.831Z] [runtime-status] [12384] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:57:05.837Z] [runtime-status] [12384] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:57:05.845Z] [runtime-status] [12384] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:57:05.851Z] [runtime-status] [12384] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\12384 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\12384"}}
[debug] [2021-04-19T19:57:05.862Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:57:05.888Z] [runtime-status] [12384] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:57:05.925Z] [runtime-status] [12384] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [12384] Ephemeral server survived."}}
[info] >  (node:12384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:12384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12384) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:12384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:12384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12384) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:12384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:12384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:12384) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:57:25.431Z] [worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: exited"}}
[debug] [2021-04-19T19:57:25.432Z] [worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-11c543d2-1a38-465b-b550-87ec67a11d29]: FINISHED"}}
[debug] [2021-04-19T19:57:25.432Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:57:45.539Z] [worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: exited"}}
[debug] [2021-04-19T19:57:45.539Z] [worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-888706fe-ea2e-4cda-8412-247d0c804403]: FINISHED"}}
[debug] [2021-04-19T19:57:45.539Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:58:05.883Z] [worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: exited"}}
[debug] [2021-04-19T19:58:05.883Z] [worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4dc63cd7-99e5-4b81-80dd-09bbfbec7ff3]: FINISHED"}}
[debug] [2021-04-19T19:58:05.883Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T19:58:20.435Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T19:58:20.436Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T19:58:20.443Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:58:20.444Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-04-19T19:58:20.453Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:58:20.453Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T19:58:20.453Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:58:20.454Z] [worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11256 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11256"}}
[debug] [2021-04-19T19:58:20.454Z] [worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: BUSY"}}
[debug] [2021-04-19T19:58:22.293Z] [runtime-status] [11256] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:58:22.303Z] [runtime-status] [11256] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:58:22.318Z] [runtime-status] [11256] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.322Z] [runtime-status] [11256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.324Z] [runtime-status] [11256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.333Z] [runtime-status] [11256] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:58:22.334Z] [runtime-status] [11256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.526Z] [runtime-status] [11256] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:58:22.526Z] [runtime-status] [11256] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:58:22.527Z] [runtime-status] [11256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.530Z] [runtime-status] [11256] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.532Z] [runtime-status] [11256] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:58:22.533Z] [runtime-status] [11256] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:58:23.104Z] [runtime-status] [11256] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:58:23.106Z] [runtime-status] [11256] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:58:23.107Z] [runtime-status] [11256] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:58:23.118Z] [runtime-status] [11256] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\11256 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\11256"}}
[debug] [2021-04-19T19:58:23.123Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:58:23.140Z] [runtime-status] [11256] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:58:23.166Z] [runtime-status] [11256] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [11256] Ephemeral server survived."}}
[info] >  (node:11256) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:11256) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11256) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:11256) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:11256) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11256) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:11256) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:11256) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:11256) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T19:59:13.276Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T19:59:13.276Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T19:59:13.276Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T19:59:13.290Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T19:59:13.291Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T19:59:13.291Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T19:59:13.293Z] [worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16240 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16240"}}
[debug] [2021-04-19T19:59:13.294Z] [worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: BUSY"}}
[debug] [2021-04-19T19:59:15.385Z] [runtime-status] [16240] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T19:59:15.400Z] [runtime-status] [16240] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Disabled runtime features: undefined"}}
[debug] [2021-04-19T19:59:15.418Z] [runtime-status] [16240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.423Z] [runtime-status] [16240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.425Z] [runtime-status] [16240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.429Z] [runtime-status] [16240] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T19:59:15.431Z] [runtime-status] [16240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.529Z] [runtime-status] [16240] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T19:59:15.529Z] [runtime-status] [16240] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:59:15.530Z] [runtime-status] [16240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.533Z] [runtime-status] [16240] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.534Z] [runtime-status] [16240] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T19:59:15.535Z] [runtime-status] [16240] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T19:59:15.986Z] [runtime-status] [16240] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T19:59:15.989Z] [runtime-status] [16240] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T19:59:15.989Z] [runtime-status] [16240] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Running api in mode HTTPS"}}
[debug] [2021-04-19T19:59:15.997Z] [runtime-status] [16240] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16240 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16240"}}
[debug] [2021-04-19T19:59:16.003Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T19:59:16.016Z] [runtime-status] [16240] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T19:59:16.039Z] [runtime-status] [16240] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16240] Ephemeral server survived."}}
[info] >  (node:16240) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16240) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16240) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16240) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16240) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16240) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16240) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16240) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16240) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T19:59:23.139Z] [worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: exited"}}
[debug] [2021-04-19T19:59:23.139Z] [worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dde01cd7-7afd-4127-b071-b5dc8b9d0eb0]: FINISHED"}}
[debug] [2021-04-19T19:59:23.144Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:00:16.034Z] [worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: exited"}}
[debug] [2021-04-19T20:00:16.034Z] [worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f19a3406-26ad-4a6c-ba44-898cccdc6874]: FINISHED"}}
[debug] [2021-04-19T20:00:16.035Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:32:32.175Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:32:32.183Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:32:32.183Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T20:32:32.185Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T20:32:32.220Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:32:32.221Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T20:32:32.221Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:32:32.223Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7248 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7248"}}
[debug] [2021-04-19T20:32:32.223Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: BUSY"}}
[debug] [2021-04-19T20:32:33.780Z] [runtime-status] [7248] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:32:33.789Z] [runtime-status] [7248] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:32:33.800Z] [runtime-status] [7248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.810Z] [runtime-status] [7248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.812Z] [runtime-status] [7248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.818Z] [runtime-status] [7248] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:32:33.819Z] [runtime-status] [7248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.951Z] [runtime-status] [7248] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:32:33.952Z] [runtime-status] [7248] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:32:33.953Z] [runtime-status] [7248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.978Z] [runtime-status] [7248] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.978Z] [runtime-status] [7248] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:32:33.978Z] [runtime-status] [7248] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:32:34.523Z] [runtime-status] [7248] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:32:34.529Z] [runtime-status] [7248] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:32:34.529Z] [runtime-status] [7248] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:32:34.536Z] [runtime-status] [7248] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7248 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7248"}}
[debug] [2021-04-19T20:32:34.554Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:32:34.583Z] [runtime-status] [7248] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T20:32:34.608Z] [runtime-status] [7248] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii3lnLJT82lIrq7ig67Z2UN_secret_K3cpmIPeAajT4NIwHuopt3AJo {"user":"BACKEND client secret is pi_1Ii3lnLJT82lIrq7ig67Z2UN_secret_K3cpmIPeAajT4NIwHuopt3AJo","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii3lnLJT82lIrq7ig67Z2UN_secret_K3cpmIPeAajT4NIwHuopt3AJo"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T20:32:35.585Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: IDLE"}}
[debug] [2021-04-19T20:32:35.586Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:36:49.210Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:36:49.210Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:36:49.210Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:36:49.211Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:36:49.211Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7248 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7248"}}
[debug] [2021-04-19T20:36:49.211Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: BUSY"}}
[debug] [2021-04-19T20:36:49.214Z] [runtime-status] [7248] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:36:49.253Z] [runtime-status] [7248] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:36:49.254Z] [runtime-status] [7248] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:36:49.254Z] [runtime-status] [7248] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7248 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7248"}}
[debug] [2021-04-19T20:36:49.264Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:36:49.281Z] [runtime-status] [7248] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:36:49.395Z] [runtime-status] [7248] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7248] Ephemeral server survived."}}
[info] >  (node:7248) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7248) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7248) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7248) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7248) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:37:00.557Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:37:00.558Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:37:00.558Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:37:00.572Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:37:00.572Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:37:00.572Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:37:00.574Z] [worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14232 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14232"}}
[debug] [2021-04-19T20:37:00.574Z] [worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: BUSY"}}
[debug] [2021-04-19T20:37:02.750Z] [runtime-status] [14232] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:37:02.762Z] [runtime-status] [14232] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:37:02.777Z] [runtime-status] [14232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.781Z] [runtime-status] [14232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.783Z] [runtime-status] [14232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.787Z] [runtime-status] [14232] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:37:02.788Z] [runtime-status] [14232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.917Z] [runtime-status] [14232] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:37:02.918Z] [runtime-status] [14232] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:37:02.919Z] [runtime-status] [14232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.922Z] [runtime-status] [14232] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.923Z] [runtime-status] [14232] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:02.923Z] [runtime-status] [14232] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:37:03.540Z] [runtime-status] [14232] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:37:03.544Z] [runtime-status] [14232] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:37:03.545Z] [runtime-status] [14232] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:37:03.555Z] [runtime-status] [14232] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\14232 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\14232"}}
[debug] [2021-04-19T20:37:03.566Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:37:03.583Z] [runtime-status] [14232] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:37:03.611Z] [runtime-status] [14232] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [14232] Ephemeral server survived."}}
[info] >  (node:14232) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:14232) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14232) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:14232) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:14232) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14232) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:14232) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:14232) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:14232) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:37:10.085Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T20:37:10.085Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T20:37:10.085Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=3000 --> api
[debug] [2021-04-19T20:37:10.096Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:37:10.097Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T20:37:10.097Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:37:10.098Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:37:10.098Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY"}}
[debug] [2021-04-19T20:37:11.233Z] [runtime-status] [9988] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:37:11.243Z] [runtime-status] [9988] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:37:11.256Z] [runtime-status] [9988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.260Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.262Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.266Z] [runtime-status] [9988] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:37:11.267Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.368Z] [runtime-status] [9988] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:37:11.368Z] [runtime-status] [9988] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:37:11.370Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.372Z] [runtime-status] [9988] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.374Z] [runtime-status] [9988] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:37:11.374Z] [runtime-status] [9988] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:37:11.753Z] [runtime-status] [9988] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:37:11.755Z] [runtime-status] [9988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:37:11.755Z] [runtime-status] [9988] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:37:11.762Z] [runtime-status] [9988] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:37:11.775Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:37:11.788Z] [runtime-status] [9988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 3000 {"user":"Payment request received BOOOOOOM!!! 3000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 3000"}}
[debug] [2021-04-19T20:37:11.811Z] [runtime-status] [9988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii3qGLJT82lIrq7S0IoAYY5_secret_XgtjMwg34Fhb3JqaRxJs9zSLU {"user":"BACKEND client secret is pi_1Ii3qGLJT82lIrq7S0IoAYY5_secret_XgtjMwg34Fhb3JqaRxJs9zSLU","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii3qGLJT82lIrq7S0IoAYY5_secret_XgtjMwg34Fhb3JqaRxJs9zSLU"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T20:37:12.508Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: IDLE"}}
[debug] [2021-04-19T20:37:12.508Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:37:49.280Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: exited"}}
[debug] [2021-04-19T20:37:49.281Z] [worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f0170475-9ff3-4814-8b76-8d9650fd79ea]: FINISHED"}}
[debug] [2021-04-19T20:37:49.281Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:38:03.582Z] [worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: exited"}}
[debug] [2021-04-19T20:38:03.583Z] [worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7204d30f-4510-46bd-b383-ff7970333c76]: FINISHED"}}
[debug] [2021-04-19T20:38:03.583Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:39:43.705Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:39:43.706Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:39:43.706Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=3000 --> api
[debug] [2021-04-19T20:39:43.706Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-04-19T20:39:43.707Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:39:43.707Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:39:43.714Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY"}}
[debug] [2021-04-19T20:39:43.716Z] [runtime-status] [9988] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:39:43.718Z] [runtime-status] [9988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:39:43.719Z] [runtime-status] [9988] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:39:43.720Z] [runtime-status] [9988] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:39:43.723Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:39:43.731Z] [runtime-status] [9988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 3000 {"user":"Payment request received BOOOOOOM!!! 3000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 3000"}}
[debug] [2021-04-19T20:39:43.739Z] [runtime-status] [9988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii3siLJT82lIrq7ql1sn2Ku_secret_Ik8h5lNpNQiQvLzwfFbw8d2mk {"user":"BACKEND client secret is pi_1Ii3siLJT82lIrq7ql1sn2Ku_secret_Ik8h5lNpNQiQvLzwfFbw8d2mk","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii3siLJT82lIrq7ql1sn2Ku_secret_Ik8h5lNpNQiQvLzwfFbw8d2mk"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T20:39:44.304Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: IDLE"}}
[debug] [2021-04-19T20:39:44.304Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:43:04.027Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:43:04.028Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:43:04.028Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:43:04.028Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:43:04.029Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:43:04.029Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: BUSY"}}
[debug] [2021-04-19T20:43:04.030Z] [runtime-status] [9988] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:43:04.032Z] [runtime-status] [9988] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:43:04.033Z] [runtime-status] [9988] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:43:04.033Z] [runtime-status] [9988] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9988 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9988"}}
[debug] [2021-04-19T20:43:04.036Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:43:04.042Z] [runtime-status] [9988] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:43:04.047Z] [runtime-status] [9988] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9988] Ephemeral server survived."}}
[info] >  (node:9988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9988) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9988) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9988) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:43:48.296Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:43:48.296Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:43:48.297Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:43:48.307Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:43:48.307Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:43:48.307Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:43:48.309Z] [worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9612 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9612"}}
[debug] [2021-04-19T20:43:48.309Z] [worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: BUSY"}}
[debug] [2021-04-19T20:43:50.177Z] [runtime-status] [9612] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:43:50.182Z] [runtime-status] [9612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:43:50.199Z] [runtime-status] [9612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.204Z] [runtime-status] [9612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.206Z] [runtime-status] [9612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.210Z] [runtime-status] [9612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:43:50.214Z] [runtime-status] [9612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.344Z] [runtime-status] [9612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:43:50.345Z] [runtime-status] [9612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:43:50.346Z] [runtime-status] [9612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.348Z] [runtime-status] [9612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.350Z] [runtime-status] [9612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:43:50.350Z] [runtime-status] [9612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:43:50.966Z] [runtime-status] [9612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:43:50.968Z] [runtime-status] [9612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:43:50.969Z] [runtime-status] [9612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:43:50.977Z] [runtime-status] [9612] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9612 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9612"}}
[debug] [2021-04-19T20:43:50.982Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:43:50.997Z] [runtime-status] [9612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:43:51.020Z] [runtime-status] [9612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9612] Ephemeral server survived."}}
[info] >  (node:9612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9612) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9612) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9612) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:44:04.244Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: exited"}}
[debug] [2021-04-19T20:44:04.244Z] [worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f351b663-4a31-4a80-ae4a-08e7e71b4612]: FINISHED"}}
[debug] [2021-04-19T20:44:04.244Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:44:51.022Z] [worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: exited"}}
[debug] [2021-04-19T20:44:51.024Z] [worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9c4dec8f-272a-448f-969e-791e447497e4]: FINISHED"}}
[debug] [2021-04-19T20:44:51.024Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:51:35.199Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:51:35.199Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:51:35.199Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:51:35.200Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T20:51:35.218Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:51:35.219Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T20:51:35.219Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:51:35.220Z] [worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7076 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7076"}}
[debug] [2021-04-19T20:51:35.220Z] [worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: BUSY"}}
[debug] [2021-04-19T20:51:37.215Z] [runtime-status] [7076] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:51:37.229Z] [runtime-status] [7076] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:51:37.254Z] [runtime-status] [7076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.259Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.262Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.270Z] [runtime-status] [7076] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:51:37.272Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.458Z] [runtime-status] [7076] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:51:37.466Z] [runtime-status] [7076] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:51:37.467Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.467Z] [runtime-status] [7076] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.470Z] [runtime-status] [7076] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:37.471Z] [runtime-status] [7076] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:51:37.973Z] [runtime-status] [7076] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:51:37.975Z] [runtime-status] [7076] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:51:37.975Z] [runtime-status] [7076] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:51:37.987Z] [runtime-status] [7076] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7076 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7076"}}
[debug] [2021-04-19T20:51:37.994Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:51:38.022Z] [runtime-status] [7076] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:51:38.056Z] [runtime-status] [7076] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7076] Ephemeral server survived."}}
[info] >  (node:7076) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7076) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7076) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:51:45.902Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:51:45.902Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:51:45.903Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:51:45.916Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:51:45.916Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:51:45.916Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:51:45.917Z] [worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7732 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7732"}}
[debug] [2021-04-19T20:51:45.917Z] [worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: BUSY"}}
[debug] [2021-04-19T20:51:48.211Z] [runtime-status] [7732] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:51:48.225Z] [runtime-status] [7732] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:51:48.244Z] [runtime-status] [7732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.249Z] [runtime-status] [7732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.252Z] [runtime-status] [7732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.257Z] [runtime-status] [7732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:51:48.259Z] [runtime-status] [7732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.398Z] [runtime-status] [7732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:51:48.399Z] [runtime-status] [7732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:51:48.400Z] [runtime-status] [7732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.402Z] [runtime-status] [7732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.405Z] [runtime-status] [7732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:51:48.405Z] [runtime-status] [7732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:51:48.899Z] [runtime-status] [7732] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:51:48.902Z] [runtime-status] [7732] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:51:48.902Z] [runtime-status] [7732] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:51:48.916Z] [runtime-status] [7732] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7732 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7732"}}
[debug] [2021-04-19T20:51:48.922Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:51:48.940Z] [runtime-status] [7732] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:51:48.972Z] [runtime-status] [7732] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7732] Ephemeral server survived."}}
[info] >  (node:7732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7732) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7732) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7732) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:52:37.915Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T20:52:37.916Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T20:52:37.916Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:52:37.947Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:52:37.947Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T20:52:37.947Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:52:37.949Z] [worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4132 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4132"}}
[debug] [2021-04-19T20:52:37.949Z] [worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:52:38.092Z] [worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: exited"}}
[debug] [2021-04-19T20:52:38.092Z] [worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46094842-8442-49dc-b8f3-e2288713c81f]: FINISHED"}}
[debug] [2021-04-19T20:52:38.092Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:52:39.509Z] [runtime-status] [4132] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:52:39.519Z] [runtime-status] [4132] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:52:39.536Z] [runtime-status] [4132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.541Z] [runtime-status] [4132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.543Z] [runtime-status] [4132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.547Z] [runtime-status] [4132] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:52:39.549Z] [runtime-status] [4132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.711Z] [runtime-status] [4132] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:52:39.712Z] [runtime-status] [4132] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:52:39.712Z] [runtime-status] [4132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.713Z] [runtime-status] [4132] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.713Z] [runtime-status] [4132] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:52:39.713Z] [runtime-status] [4132] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:52:40.225Z] [runtime-status] [4132] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:52:40.229Z] [runtime-status] [4132] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:52:40.230Z] [runtime-status] [4132] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:52:40.243Z] [runtime-status] [4132] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4132 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4132"}}
[debug] [2021-04-19T20:52:40.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:52:40.268Z] [runtime-status] [4132] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:52:40.296Z] [runtime-status] [4132] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4132] Ephemeral server survived."}}
[info] >  (node:4132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:4132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4132) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:4132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4132) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4132) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:52:48.943Z] [worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: exited"}}
[debug] [2021-04-19T20:52:48.943Z] [worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-82fe3361-e0a2-49ea-9efa-6a11ff17a4ae]: FINISHED"}}
[debug] [2021-04-19T20:52:48.943Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:53:33.893Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:53:33.894Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:53:33.894Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:53:33.894Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-04-19T20:53:33.904Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:53:33.904Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:53:33.904Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:53:33.905Z] [worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2324 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2324"}}
[debug] [2021-04-19T20:53:33.905Z] [worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: BUSY"}}
[debug] [2021-04-19T20:53:35.469Z] [runtime-status] [2324] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:53:35.480Z] [runtime-status] [2324] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:53:35.494Z] [runtime-status] [2324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.499Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.502Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.507Z] [runtime-status] [2324] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:53:35.508Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.630Z] [runtime-status] [2324] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:53:35.631Z] [runtime-status] [2324] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:53:35.632Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.635Z] [runtime-status] [2324] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.637Z] [runtime-status] [2324] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:35.637Z] [runtime-status] [2324] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:53:36.004Z] [runtime-status] [2324] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:53:36.006Z] [runtime-status] [2324] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:53:36.006Z] [runtime-status] [2324] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:53:36.015Z] [runtime-status] [2324] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\2324 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\2324"}}
[debug] [2021-04-19T20:53:36.024Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:53:36.039Z] [runtime-status] [2324] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:53:36.061Z] [runtime-status] [2324] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2324] Ephemeral server survived."}}
[info] >  (node:2324) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:2324) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:2324) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:53:40.273Z] [worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: exited"}}
[debug] [2021-04-19T20:53:40.274Z] [worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9df061f0-0e79-4d71-8771-90206826d64a]: FINISHED"}}
[debug] [2021-04-19T20:53:40.274Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:53:50.822Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:53:50.822Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:53:50.823Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:53:50.823Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T20:53:50.833Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:53:50.833Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:53:50.833Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:53:50.834Z] [worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3008 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3008"}}
[debug] [2021-04-19T20:53:50.834Z] [worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: BUSY"}}
[debug] [2021-04-19T20:53:53.148Z] [runtime-status] [3008] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:53:53.168Z] [runtime-status] [3008] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:53:53.192Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.196Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.200Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.211Z] [runtime-status] [3008] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:53:53.213Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.340Z] [runtime-status] [3008] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:53:53.340Z] [runtime-status] [3008] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:53:53.348Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.349Z] [runtime-status] [3008] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.349Z] [runtime-status] [3008] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:53:53.350Z] [runtime-status] [3008] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:53:53.894Z] [runtime-status] [3008] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:53:53.935Z] [runtime-status] [3008] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:53:53.936Z] [runtime-status] [3008] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:53:53.937Z] [runtime-status] [3008] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\3008 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\3008"}}
[debug] [2021-04-19T20:53:53.939Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:53:54.170Z] [runtime-status] [3008] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:53:54.254Z] [runtime-status] [3008] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [3008] Ephemeral server survived."}}
[info] >  (node:3008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:3008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3008) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:3008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:3008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3008) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:3008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:3008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:3008) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:54:36.045Z] [worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: exited"}}
[debug] [2021-04-19T20:54:36.045Z] [worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-dd748f25-e036-4ecd-b9da-2e3f88030b78]: FINISHED"}}
[debug] [2021-04-19T20:54:36.045Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:54:53.947Z] [worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: exited"}}
[debug] [2021-04-19T20:54:53.947Z] [worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9ebe7266-6b34-4f85-b3c7-772610bcbf22]: FINISHED"}}
[debug] [2021-04-19T20:54:53.947Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:55:56.824Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:55:56.825Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:55:56.826Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:55:56.826Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T20:55:56.837Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:55:56.838Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T20:55:56.838Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:55:56.838Z] [worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8784 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8784"}}
[debug] [2021-04-19T20:55:56.839Z] [worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: BUSY"}}
[debug] [2021-04-19T20:55:59.202Z] [runtime-status] [8784] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:55:59.207Z] [runtime-status] [8784] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:55:59.253Z] [runtime-status] [8784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.260Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.263Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.270Z] [runtime-status] [8784] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:55:59.272Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.532Z] [runtime-status] [8784] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:55:59.536Z] [runtime-status] [8784] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:55:59.539Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.542Z] [runtime-status] [8784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.545Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:55:59.547Z] [runtime-status] [8784] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:56:00.217Z] [runtime-status] [8784] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:56:00.222Z] [runtime-status] [8784] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:56:00.223Z] [runtime-status] [8784] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:56:00.228Z] [runtime-status] [8784] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8784 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8784"}}
[debug] [2021-04-19T20:56:00.244Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:56:00.263Z] [runtime-status] [8784] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:56:00.295Z] [runtime-status] [8784] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8784] Ephemeral server survived."}}
[info] >  (node:8784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8784) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8784) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8784) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:56:25.342Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:56:25.343Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:56:25.343Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:56:25.355Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:56:25.356Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:56:25.356Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:56:25.357Z] [worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5976 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5976"}}
[debug] [2021-04-19T20:56:25.357Z] [worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: BUSY"}}
[debug] [2021-04-19T20:56:28.399Z] [runtime-status] [5976] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:56:28.404Z] [runtime-status] [5976] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:56:28.445Z] [runtime-status] [5976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.453Z] [runtime-status] [5976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.458Z] [runtime-status] [5976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.464Z] [runtime-status] [5976] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:56:28.466Z] [runtime-status] [5976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.781Z] [runtime-status] [5976] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:56:28.781Z] [runtime-status] [5976] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:56:28.784Z] [runtime-status] [5976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.788Z] [runtime-status] [5976] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.790Z] [runtime-status] [5976] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:28.790Z] [runtime-status] [5976] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:56:29.678Z] [runtime-status] [5976] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:56:29.716Z] [runtime-status] [5976] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:56:29.717Z] [runtime-status] [5976] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:56:29.717Z] [runtime-status] [5976] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\5976 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\5976"}}
[debug] [2021-04-19T20:56:29.721Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:56:29.758Z] [runtime-status] [5976] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:56:29.806Z] [runtime-status] [5976] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [5976] Ephemeral server survived."}}
[info] >  (node:5976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:5976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5976) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:5976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:5976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5976) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:5976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:5976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:5976) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:56:44.264Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T20:56:44.265Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T20:56:44.265Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:56:44.276Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:56:44.276Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T20:56:44.276Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:56:44.277Z] [worker-api-fc7444ad-2319-4513-831f-f4de533da351]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1700 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc7444ad-2319-4513-831f-f4de533da351]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1700"}}
[debug] [2021-04-19T20:56:44.277Z] [worker-api-fc7444ad-2319-4513-831f-f4de533da351]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc7444ad-2319-4513-831f-f4de533da351]: BUSY"}}
[debug] [2021-04-19T20:56:47.069Z] [runtime-status] [1700] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:56:47.096Z] [runtime-status] [1700] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:56:47.135Z] [runtime-status] [1700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.140Z] [runtime-status] [1700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.143Z] [runtime-status] [1700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.149Z] [runtime-status] [1700] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:56:47.151Z] [runtime-status] [1700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.398Z] [runtime-status] [1700] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:56:47.407Z] [runtime-status] [1700] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:56:47.410Z] [runtime-status] [1700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.416Z] [runtime-status] [1700] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.443Z] [runtime-status] [1700] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:56:47.444Z] [runtime-status] [1700] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:56:48.499Z] [runtime-status] [1700] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:56:48.505Z] [runtime-status] [1700] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:56:48.505Z] [runtime-status] [1700] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:56:48.526Z] [runtime-status] [1700] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\1700 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\1700"}}
[debug] [2021-04-19T20:56:49.120Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:56:50.488Z] [runtime-status] [1700] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:56:50.523Z] [runtime-status] [1700] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [1700] Ephemeral server survived."}}
[info] >  (node:1700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:1700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1700) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:1700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:1700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1700) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:1700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:1700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:1700) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:57:02.894Z] [worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: exited"}}
[debug] [2021-04-19T20:57:02.894Z] [worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-42cf7687-e5c1-4f39-95b2-dd75e69799df]: FINISHED"}}
[debug] [2021-04-19T20:57:02.894Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:57:29.710Z] [worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: exited"}}
[debug] [2021-04-19T20:57:29.711Z] [worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b527bbc-757f-4fdd-8d66-701392fecc11]: FINISHED"}}
[debug] [2021-04-19T20:57:29.711Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:57:41.310Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:57:41.312Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:57:41.312Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:57:41.312Z] [worker-pool] Cleaned up workers for api: 3 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 1"}}
[debug] [2021-04-19T20:57:41.325Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:57:41.325Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:57:41.325Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:57:41.327Z] [worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10832 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10832"}}
[debug] [2021-04-19T20:57:41.327Z] [worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: BUSY"}}
[debug] [2021-04-19T20:57:42.712Z] [runtime-status] [10832] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:57:42.717Z] [runtime-status] [10832] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:57:42.742Z] [runtime-status] [10832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.749Z] [runtime-status] [10832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.753Z] [runtime-status] [10832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.758Z] [runtime-status] [10832] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:57:42.759Z] [runtime-status] [10832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.915Z] [runtime-status] [10832] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:57:42.915Z] [runtime-status] [10832] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:57:42.917Z] [runtime-status] [10832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.920Z] [runtime-status] [10832] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.921Z] [runtime-status] [10832] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:42.921Z] [runtime-status] [10832] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:57:43.564Z] [runtime-status] [10832] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:57:43.566Z] [runtime-status] [10832] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:57:43.567Z] [runtime-status] [10832] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:57:43.581Z] [runtime-status] [10832] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10832 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10832"}}
[debug] [2021-04-19T20:57:43.590Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:57:43.616Z] [runtime-status] [10832] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:57:43.655Z] [runtime-status] [10832] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10832] Ephemeral server survived."}}
[info] >  (node:10832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10832) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10832) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10832) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:57:48.547Z] [worker-api-fc7444ad-2319-4513-831f-f4de533da351]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc7444ad-2319-4513-831f-f4de533da351]: exited"}}
[debug] [2021-04-19T20:57:48.547Z] [worker-api-fc7444ad-2319-4513-831f-f4de533da351]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-fc7444ad-2319-4513-831f-f4de533da351]: FINISHED"}}
[debug] [2021-04-19T20:57:48.548Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:57:55.171Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T20:57:55.172Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T20:57:55.172Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:57:55.172Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T20:57:55.183Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:57:55.183Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T20:57:55.183Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:57:55.184Z] [worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4768 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4768"}}
[debug] [2021-04-19T20:57:55.184Z] [worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: BUSY"}}
[debug] [2021-04-19T20:57:56.832Z] [runtime-status] [4768] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:57:56.849Z] [runtime-status] [4768] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:57:56.871Z] [runtime-status] [4768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:56.876Z] [runtime-status] [4768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:56.881Z] [runtime-status] [4768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:56.886Z] [runtime-status] [4768] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:57:56.889Z] [runtime-status] [4768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:57.062Z] [runtime-status] [4768] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:57:57.062Z] [runtime-status] [4768] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:57:57.064Z] [runtime-status] [4768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:57.066Z] [runtime-status] [4768] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:57.068Z] [runtime-status] [4768] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:57:57.068Z] [runtime-status] [4768] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:57:57.745Z] [runtime-status] [4768] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:57:57.748Z] [runtime-status] [4768] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:57:57.748Z] [runtime-status] [4768] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:57:57.762Z] [runtime-status] [4768] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\4768 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\4768"}}
[debug] [2021-04-19T20:57:57.768Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:57:57.792Z] [runtime-status] [4768] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:57:57.825Z] [runtime-status] [4768] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [4768] Ephemeral server survived."}}
[info] >  (node:4768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:4768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4768) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:4768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:4768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4768) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:4768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:4768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:4768) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T20:58:07.727Z] [work-queue] {"queueLength":1,"workRunningCount":2}
[debug] [2021-04-19T20:58:07.727Z] [work-queue] {"queueLength":0,"workRunningCount":3}
[debug] [2021-04-19T20:58:07.728Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:58:07.739Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:58:07.739Z] [worker-pool] Adding worker with key api, total=3 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=3"}}
[debug] [2021-04-19T20:58:07.739Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:58:07.740Z] [worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8640 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8640"}}
[debug] [2021-04-19T20:58:07.740Z] [worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: BUSY"}}
[debug] [2021-04-19T20:58:09.628Z] [runtime-status] [8640] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:58:09.634Z] [runtime-status] [8640] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:58:09.655Z] [runtime-status] [8640] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.662Z] [runtime-status] [8640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.666Z] [runtime-status] [8640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.670Z] [runtime-status] [8640] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:58:09.671Z] [runtime-status] [8640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.851Z] [runtime-status] [8640] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:58:09.852Z] [runtime-status] [8640] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:58:09.855Z] [runtime-status] [8640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.862Z] [runtime-status] [8640] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.862Z] [runtime-status] [8640] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:58:09.862Z] [runtime-status] [8640] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:58:10.394Z] [runtime-status] [8640] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:58:10.406Z] [runtime-status] [8640] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:58:10.407Z] [runtime-status] [8640] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:58:10.407Z] [runtime-status] [8640] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8640 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8640"}}
[debug] [2021-04-19T20:58:10.413Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:58:10.431Z] [runtime-status] [8640] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:58:10.463Z] [runtime-status] [8640] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8640] Ephemeral server survived."}}
[info] >  (node:8640) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8640) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8640) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8640) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8640) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8640) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8640) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8640) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8640) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:58:43.623Z] [worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: exited"}}
[debug] [2021-04-19T20:58:43.623Z] [worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-0b6bbe0a-5597-447f-920b-ca21a299aae6]: FINISHED"}}
[debug] [2021-04-19T20:58:43.623Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:58:57.794Z] [worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: exited"}}
[debug] [2021-04-19T20:58:57.794Z] [worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ebe00726-3cd1-454d-92d6-dd6f50419857]: FINISHED"}}
[debug] [2021-04-19T20:58:57.794Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T20:59:10.445Z] [worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: exited"}}
[debug] [2021-04-19T20:59:10.445Z] [worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e32f1270-c469-4497-adb2-064fbe5df004]: FINISHED"}}
[debug] [2021-04-19T20:59:10.445Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T20:59:24.240Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T20:59:24.241Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T20:59:24.241Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T20:59:24.241Z] [worker-pool] Cleaned up workers for api: 3 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 3 --> 0"}}
[debug] [2021-04-19T20:59:24.251Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T20:59:24.252Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T20:59:24.252Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T20:59:24.252Z] [worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8440 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8440"}}
[debug] [2021-04-19T20:59:24.252Z] [worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: BUSY"}}
[debug] [2021-04-19T20:59:26.154Z] [runtime-status] [8440] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T20:59:26.167Z] [runtime-status] [8440] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Disabled runtime features: undefined"}}
[debug] [2021-04-19T20:59:26.180Z] [runtime-status] [8440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.186Z] [runtime-status] [8440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.189Z] [runtime-status] [8440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.193Z] [runtime-status] [8440] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T20:59:26.195Z] [runtime-status] [8440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.287Z] [runtime-status] [8440] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T20:59:26.287Z] [runtime-status] [8440] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:59:26.289Z] [runtime-status] [8440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.293Z] [runtime-status] [8440] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.295Z] [runtime-status] [8440] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T20:59:26.296Z] [runtime-status] [8440] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T20:59:26.740Z] [runtime-status] [8440] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T20:59:26.742Z] [runtime-status] [8440] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T20:59:26.742Z] [runtime-status] [8440] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Running api in mode HTTPS"}}
[debug] [2021-04-19T20:59:26.751Z] [runtime-status] [8440] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\8440 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\8440"}}
[debug] [2021-04-19T20:59:26.757Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T20:59:26.777Z] [runtime-status] [8440] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T20:59:26.807Z] [runtime-status] [8440] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [8440] Ephemeral server survived."}}
[info] >  (node:8440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:8440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8440) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:8440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:8440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8440) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:8440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:8440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:8440) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T21:00:00.810Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T21:00:00.810Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T21:00:00.810Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:00:00.820Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:00:00.820Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T21:00:00.820Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:00:00.821Z] [worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16216 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16216"}}
[debug] [2021-04-19T21:00:00.821Z] [worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: BUSY"}}
[debug] [2021-04-19T21:00:02.848Z] [runtime-status] [16216] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:00:02.861Z] [runtime-status] [16216] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:00:02.873Z] [runtime-status] [16216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.877Z] [runtime-status] [16216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.880Z] [runtime-status] [16216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.883Z] [runtime-status] [16216] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:00:02.885Z] [runtime-status] [16216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.988Z] [runtime-status] [16216] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:00:02.989Z] [runtime-status] [16216] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:00:02.991Z] [runtime-status] [16216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.999Z] [runtime-status] [16216] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:02.999Z] [runtime-status] [16216] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:00:03.000Z] [runtime-status] [16216] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:00:03.415Z] [runtime-status] [16216] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:00:03.418Z] [runtime-status] [16216] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:00:03.419Z] [runtime-status] [16216] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:00:03.429Z] [runtime-status] [16216] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16216 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16216"}}
[debug] [2021-04-19T21:00:03.436Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:00:03.455Z] [runtime-status] [16216] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:00:03.482Z] [runtime-status] [16216] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16216] Ephemeral server survived."}}
[info] >  (node:16216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16216) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16216) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16216) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:00:26.780Z] [worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: exited"}}
[debug] [2021-04-19T21:00:26.781Z] [worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e35f94ae-0133-44f8-915a-14d02d482669]: FINISHED"}}
[debug] [2021-04-19T21:00:26.781Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:01:03.152Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T21:01:03.154Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T21:01:03.154Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:01:03.154Z] [worker-pool] Cleaned up workers for api: 2 --> 1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 1"}}
[debug] [2021-04-19T21:01:03.166Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:01:03.166Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T21:01:03.166Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:01:03.167Z] [worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16052 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16052"}}
[debug] [2021-04-19T21:01:03.167Z] [worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: BUSY"}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:01:03.482Z] [worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: exited"}}
[debug] [2021-04-19T21:01:03.482Z] [worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-46d744ee-27ce-41dd-a4fc-55b665743ec4]: FINISHED"}}
[debug] [2021-04-19T21:01:03.482Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:01:04.361Z] [runtime-status] [16052] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:01:04.373Z] [runtime-status] [16052] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:01:04.397Z] [runtime-status] [16052] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.398Z] [runtime-status] [16052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.398Z] [runtime-status] [16052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.401Z] [runtime-status] [16052] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:01:04.402Z] [runtime-status] [16052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.501Z] [runtime-status] [16052] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:01:04.502Z] [runtime-status] [16052] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:01:04.503Z] [runtime-status] [16052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.505Z] [runtime-status] [16052] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.507Z] [runtime-status] [16052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:01:04.508Z] [runtime-status] [16052] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:01:04.840Z] [runtime-status] [16052] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:01:04.842Z] [runtime-status] [16052] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:01:04.842Z] [runtime-status] [16052] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:01:04.849Z] [runtime-status] [16052] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\16052 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\16052"}}
[debug] [2021-04-19T21:01:04.853Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:01:04.867Z] [runtime-status] [16052] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:01:04.892Z] [runtime-status] [16052] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [16052] Ephemeral server survived."}}
[info] >  (node:16052) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:16052) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16052) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:16052) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:16052) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16052) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:16052) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:16052) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:16052) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:02:04.899Z] [worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: exited"}}
[debug] [2021-04-19T21:02:04.899Z] [worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-c4620311-7f9d-42c3-8a06-de18addb4657]: FINISHED"}}
[debug] [2021-04-19T21:02:04.900Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:02:49.710Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:02:49.710Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:02:49.711Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=14000 --> api
[debug] [2021-04-19T21:02:49.711Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T21:02:49.751Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:02:49.752Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T21:02:49.752Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:02:49.755Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10432 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10432"}}
[debug] [2021-04-19T21:02:49.755Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: BUSY"}}
[debug] [2021-04-19T21:02:52.337Z] [runtime-status] [10432] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:02:52.362Z] [runtime-status] [10432] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:02:52.388Z] [runtime-status] [10432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.399Z] [runtime-status] [10432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.403Z] [runtime-status] [10432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.430Z] [runtime-status] [10432] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:02:52.431Z] [runtime-status] [10432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.661Z] [runtime-status] [10432] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:02:52.661Z] [runtime-status] [10432] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:02:52.663Z] [runtime-status] [10432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.665Z] [runtime-status] [10432] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.666Z] [runtime-status] [10432] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:02:52.673Z] [runtime-status] [10432] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:02:53.844Z] [runtime-status] [10432] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:02:53.846Z] [runtime-status] [10432] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:02:53.846Z] [runtime-status] [10432] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:02:53.889Z] [runtime-status] [10432] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10432 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10432"}}
[debug] [2021-04-19T21:02:53.941Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:02:54.073Z] [runtime-status] [10432] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 14000 {"user":"Payment request received BOOOOOOM!!! 14000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 14000"}}
[debug] [2021-04-19T21:02:54.130Z] [runtime-status] [10432] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4F9LJT82lIrq7zshEsNwz_secret_qGShUv4yY8qLhujiNd7UvtOYi {"user":"BACKEND client secret is pi_1Ii4F9LJT82lIrq7zshEsNwz_secret_qGShUv4yY8qLhujiNd7UvtOYi","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4F9LJT82lIrq7zshEsNwz_secret_qGShUv4yY8qLhujiNd7UvtOYi"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:02:55.442Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: IDLE"}}
[debug] [2021-04-19T21:02:55.443Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:05:28.805Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:05:28.805Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:05:28.806Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:05:28.806Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:05:28.806Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10432 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10432"}}
[debug] [2021-04-19T21:05:28.806Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: BUSY"}}
[debug] [2021-04-19T21:05:28.808Z] [runtime-status] [10432] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:05:28.810Z] [runtime-status] [10432] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:05:28.810Z] [runtime-status] [10432] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:05:28.810Z] [runtime-status] [10432] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\10432 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\10432"}}
[debug] [2021-04-19T21:05:28.812Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:05:28.819Z] [runtime-status] [10432] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:05:28.825Z] [runtime-status] [10432] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [10432] Ephemeral server survived."}}
[info] >  (node:10432) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:10432) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10432) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:10432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:10432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10432) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:10432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:10432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:10432) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T21:05:50.870Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T21:05:50.870Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T21:05:50.871Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:05:50.883Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:05:50.883Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T21:05:50.883Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:05:50.885Z] [worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6180 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6180"}}
[debug] [2021-04-19T21:05:50.885Z] [worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: BUSY"}}
[debug] [2021-04-19T21:05:52.418Z] [runtime-status] [6180] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:05:52.440Z] [runtime-status] [6180] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:05:52.466Z] [runtime-status] [6180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.482Z] [runtime-status] [6180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.488Z] [runtime-status] [6180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.500Z] [runtime-status] [6180] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:05:52.502Z] [runtime-status] [6180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.641Z] [runtime-status] [6180] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:05:52.641Z] [runtime-status] [6180] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:05:52.646Z] [runtime-status] [6180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.647Z] [runtime-status] [6180] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.648Z] [runtime-status] [6180] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:05:52.648Z] [runtime-status] [6180] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:05:53.140Z] [runtime-status] [6180] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:05:53.142Z] [runtime-status] [6180] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:05:53.142Z] [runtime-status] [6180] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:05:53.152Z] [runtime-status] [6180] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\6180 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\6180"}}
[debug] [2021-04-19T21:05:53.158Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:05:53.179Z] [runtime-status] [6180] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:05:53.204Z] [runtime-status] [6180] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [6180] Ephemeral server survived."}}
[info] >  (node:6180) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:6180) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6180) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:6180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:6180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6180) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:6180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:6180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:6180) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:06:28.868Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: exited"}}
[debug] [2021-04-19T21:06:28.869Z] [worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d2de07bf-ef4b-4b60-b911-46b0291d6da3]: FINISHED"}}
[debug] [2021-04-19T21:06:28.869Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:06:53.198Z] [worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: exited"}}
[debug] [2021-04-19T21:06:53.198Z] [worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-b6bbff1a-dacf-40f0-9e7c-e43785447911]: FINISHED"}}
[debug] [2021-04-19T21:06:53.199Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:09:00.635Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:09:00.636Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:09:00.636Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=3000 --> api
[debug] [2021-04-19T21:09:00.636Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-04-19T21:09:00.646Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:09:00.646Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T21:09:00.646Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:09:00.647Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:09:00.647Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY"}}
[debug] [2021-04-19T21:09:01.749Z] [runtime-status] [7312] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:09:01.750Z] [runtime-status] [7312] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:09:01.753Z] [runtime-status] [7312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.766Z] [runtime-status] [7312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.769Z] [runtime-status] [7312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.772Z] [runtime-status] [7312] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:09:01.773Z] [runtime-status] [7312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.864Z] [runtime-status] [7312] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:09:01.864Z] [runtime-status] [7312] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:09:01.866Z] [runtime-status] [7312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.868Z] [runtime-status] [7312] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.869Z] [runtime-status] [7312] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:09:01.869Z] [runtime-status] [7312] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:09:02.228Z] [runtime-status] [7312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:09:02.230Z] [runtime-status] [7312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:09:02.230Z] [runtime-status] [7312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:09:02.235Z] [runtime-status] [7312] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:09:02.240Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:09:02.251Z] [runtime-status] [7312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 3000 {"user":"Payment request received BOOOOOOM!!! 3000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 3000"}}
[debug] [2021-04-19T21:09:02.274Z] [runtime-status] [7312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4L5LJT82lIrq7ZQ2znzrK_secret_pff0qaf7rjFJrm5DdL1EwQc5N {"user":"BACKEND client secret is pi_1Ii4L5LJT82lIrq7ZQ2znzrK_secret_pff0qaf7rjFJrm5DdL1EwQc5N","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4L5LJT82lIrq7ZQ2znzrK_secret_pff0qaf7rjFJrm5DdL1EwQc5N"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:09:03.073Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: IDLE"}}
[debug] [2021-04-19T21:09:03.074Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:10:03.097Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:10:03.097Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:10:03.097Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=12000 --> api
[debug] [2021-04-19T21:10:03.098Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:10:03.098Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:10:03.098Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY"}}
[debug] [2021-04-19T21:10:03.100Z] [runtime-status] [7312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:10:03.104Z] [runtime-status] [7312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:10:03.104Z] [runtime-status] [7312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:10:03.105Z] [runtime-status] [7312] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:10:03.108Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:10:03.115Z] [runtime-status] [7312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 12000 {"user":"Payment request received BOOOOOOM!!! 12000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 12000"}}
[debug] [2021-04-19T21:10:03.119Z] [runtime-status] [7312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4M3LJT82lIrq7yE8ea6ts_secret_WH6X62hGkJm7MUqd92KuU7Vm3 {"user":"BACKEND client secret is pi_1Ii4M3LJT82lIrq7yE8ea6ts_secret_WH6X62hGkJm7MUqd92KuU7Vm3","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4M3LJT82lIrq7yE8ea6ts_secret_WH6X62hGkJm7MUqd92KuU7Vm3"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:10:03.531Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: IDLE"}}
[debug] [2021-04-19T21:10:03.532Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:14:32.900Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:14:32.901Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:14:32.901Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:14:32.901Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:14:32.901Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:14:32.901Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: BUSY"}}
[debug] [2021-04-19T21:14:32.903Z] [runtime-status] [7312] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:14:32.905Z] [runtime-status] [7312] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:14:32.905Z] [runtime-status] [7312] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:14:32.905Z] [runtime-status] [7312] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\7312 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\7312"}}
[debug] [2021-04-19T21:14:32.908Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:14:32.919Z] [runtime-status] [7312] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:14:32.924Z] [runtime-status] [7312] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [7312] Ephemeral server survived."}}
[info] >  (node:7312) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:7312) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7312) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:7312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:7312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7312) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:7312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:7312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:7312) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:15:32.971Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: exited"}}
[debug] [2021-04-19T21:15:32.971Z] [worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-9a693768-8da4-4eb7-b23c-5f7a0d48796d]: FINISHED"}}
[debug] [2021-04-19T21:15:32.971Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:20:26.374Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:20:26.374Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:20:26.375Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:20:26.375Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T21:20:26.391Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:20:26.391Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T21:20:26.391Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:20:26.392Z] [worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9620 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9620"}}
[debug] [2021-04-19T21:20:26.392Z] [worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: BUSY"}}
[debug] [2021-04-19T21:20:28.314Z] [runtime-status] [9620] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:20:28.326Z] [runtime-status] [9620] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:20:28.363Z] [runtime-status] [9620] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.369Z] [runtime-status] [9620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.372Z] [runtime-status] [9620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.375Z] [runtime-status] [9620] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:20:28.377Z] [runtime-status] [9620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.508Z] [runtime-status] [9620] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:20:28.509Z] [runtime-status] [9620] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:20:28.510Z] [runtime-status] [9620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.513Z] [runtime-status] [9620] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.514Z] [runtime-status] [9620] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:20:28.514Z] [runtime-status] [9620] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:20:28.969Z] [runtime-status] [9620] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:20:28.970Z] [runtime-status] [9620] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:20:28.971Z] [runtime-status] [9620] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:20:28.980Z] [runtime-status] [9620] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\9620 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\9620"}}
[debug] [2021-04-19T21:20:28.990Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:20:29.010Z] [runtime-status] [9620] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:20:29.038Z] [runtime-status] [9620] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [9620] Ephemeral server survived."}}
[info] >  (node:9620) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:9620) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9620) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:9620) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:9620) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9620) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:9620) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:9620) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:9620) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[warn] !  functions: Your function timed out after ~60s. To configure this timeout, see
      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Your function timed out after ~60s. To configure this timeout, see\n      https://firebase.google.com/docs/functions/manage-functions#set_timeout_and_memory_allocation."}}
[info] >  C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632 {"user":"C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632\r"}}
[info] >                  throw new Error("Function timed out."); {"user":"                throw new Error(\"Function timed out.\");\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 throw new Error(\"Function timed out.\");\r"}}
[info] >                  ^ {"user":"                ^\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                 ^\r"}}
[info] >   {"user":"\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m \r"}}
[info] >  Error: Function timed out. {"user":"Error: Function timed out.\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Error: Function timed out.\r"}}
[info] >      at Timeout._onTimeout (C:\Users\kacper\AppData\Roaming\npm\node_modules\firebase-tools\lib\emulator\functionsEmulatorRuntime.js:632:23) {"user":"    at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Timeout._onTimeout (C:\\Users\\kacper\\AppData\\Roaming\\npm\\node_modules\\firebase-tools\\lib\\emulator\\functionsEmulatorRuntime.js:632:23)\r"}}
[info] >      at listOnTimeout (internal/timers.js:549:17) {"user":"    at listOnTimeout (internal/timers.js:549:17)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at listOnTimeout (internal/timers.js:549:17)\r"}}
[info] >      at processTimers (internal/timers.js:492:7) {"user":"    at processTimers (internal/timers.js:492:7)\r","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTimers (internal/timers.js:492:7)\r"}}
[debug] [2021-04-19T21:21:29.027Z] [worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: exited"}}
[debug] [2021-04-19T21:21:29.027Z] [worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-ecadf227-23dc-4fd0-ac97-4d6153bf8a8f]: FINISHED"}}
[debug] [2021-04-19T21:21:29.027Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:24:42.004Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:24:42.004Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:24:42.004Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T21:24:42.004Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-04-19T21:24:42.015Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:24:42.015Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-04-19T21:24:42.015Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:24:42.015Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:24:42.016Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY"}}
[debug] [2021-04-19T21:24:43.176Z] [runtime-status] [15932] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:24:43.185Z] [runtime-status] [15932] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:24:43.196Z] [runtime-status] [15932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.200Z] [runtime-status] [15932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.202Z] [runtime-status] [15932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.205Z] [runtime-status] [15932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:24:43.206Z] [runtime-status] [15932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.317Z] [runtime-status] [15932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:24:43.317Z] [runtime-status] [15932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:24:43.319Z] [runtime-status] [15932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.321Z] [runtime-status] [15932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.322Z] [runtime-status] [15932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:24:43.322Z] [runtime-status] [15932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:24:43.716Z] [runtime-status] [15932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:24:43.718Z] [runtime-status] [15932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:24:43.718Z] [runtime-status] [15932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:24:43.726Z] [runtime-status] [15932] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:24:43.730Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:24:43.744Z] [runtime-status] [15932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T21:24:43.767Z] [runtime-status] [15932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4aGLJT82lIrq7r9Yzum17_secret_2H9YTD8ILAiGZNcVxly0zqjZZ {"user":"BACKEND client secret is pi_1Ii4aGLJT82lIrq7r9Yzum17_secret_2H9YTD8ILAiGZNcVxly0zqjZZ","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4aGLJT82lIrq7r9Yzum17_secret_2H9YTD8ILAiGZNcVxly0zqjZZ"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:24:44.558Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE"}}
[debug] [2021-04-19T21:24:44.559Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:30:09.325Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:30:09.325Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:30:09.325Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T21:30:09.326Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:30:09.326Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:30:09.327Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY"}}
[debug] [2021-04-19T21:30:09.360Z] [runtime-status] [15932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:30:09.364Z] [runtime-status] [15932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:30:09.364Z] [runtime-status] [15932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:30:09.365Z] [runtime-status] [15932] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:30:09.368Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:30:09.377Z] [runtime-status] [15932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T21:30:09.383Z] [runtime-status] [15932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4fWLJT82lIrq76L1OCdCy_secret_eouvq9uD0JykolL27xmZHLbDx {"user":"BACKEND client secret is pi_1Ii4fWLJT82lIrq76L1OCdCy_secret_eouvq9uD0JykolL27xmZHLbDx","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4fWLJT82lIrq76L1OCdCy_secret_eouvq9uD0JykolL27xmZHLbDx"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:30:10.025Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE"}}
[debug] [2021-04-19T21:30:10.029Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:33:29.553Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:33:29.554Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:33:29.554Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T21:33:29.554Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:33:29.555Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:33:29.555Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY"}}
[debug] [2021-04-19T21:33:29.556Z] [runtime-status] [15932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:33:29.558Z] [runtime-status] [15932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:33:29.559Z] [runtime-status] [15932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:33:29.559Z] [runtime-status] [15932] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:33:29.561Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:33:29.565Z] [runtime-status] [15932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T21:33:29.569Z] [runtime-status] [15932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4ikLJT82lIrq7BDWD0iZg_secret_qXQ3KsLm821OyRlmNxqDogxNt {"user":"BACKEND client secret is pi_1Ii4ikLJT82lIrq7BDWD0iZg_secret_qXQ3KsLm821OyRlmNxqDogxNt","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4ikLJT82lIrq7BDWD0iZg_secret_qXQ3KsLm821OyRlmNxqDogxNt"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:33:30.141Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE"}}
[debug] [2021-04-19T21:33:30.141Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:33:40.206Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:33:40.206Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:33:40.206Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=4000 --> api
[debug] [2021-04-19T21:33:40.207Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:33:40.207Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:33:40.207Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY"}}
[debug] [2021-04-19T21:33:40.208Z] [runtime-status] [15932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:33:40.210Z] [runtime-status] [15932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:33:40.211Z] [runtime-status] [15932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:33:40.211Z] [runtime-status] [15932] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:33:40.214Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:33:40.221Z] [runtime-status] [15932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 4000 {"user":"Payment request received BOOOOOOM!!! 4000","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 4000"}}
[debug] [2021-04-19T21:33:40.225Z] [runtime-status] [15932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server survived."}}
[info] >  BACKEND client secret is pi_1Ii4iuLJT82lIrq7vKMz0hbo_secret_Lerf0s5ueb3jTR8cmv1muCyu4 {"user":"BACKEND client secret is pi_1Ii4iuLJT82lIrq7vKMz0hbo_secret_Lerf0s5ueb3jTR8cmv1muCyu4","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m BACKEND client secret is pi_1Ii4iuLJT82lIrq7vKMz0hbo_secret_Lerf0s5ueb3jTR8cmv1muCyu4"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-04-19T21:33:40.584Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: IDLE"}}
[debug] [2021-04-19T21:33:40.584Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-04-19T21:35:10.649Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-04-19T21:35:10.650Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-04-19T21:35:10.650Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:35:10.650Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:35:10.650Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:35:10.651Z] [worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-474d48e4-be45-4632-8672-5f167bffa276]: BUSY"}}
[debug] [2021-04-19T21:35:10.652Z] [runtime-status] [15932] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-04-19T21:35:10.654Z] [runtime-status] [15932] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-04-19T21:35:10.654Z] [runtime-status] [15932] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Running api in mode HTTPS"}}
[debug] [2021-04-19T21:35:10.655Z] [runtime-status] [15932] Attempting to listen to socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15932 {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Attempting to listen to socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15932"}}
[debug] [2021-04-19T21:35:10.694Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-04-19T21:35:10.699Z] [runtime-status] [15932] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server handling POST request"}}
[info] >  Payment request received BOOOOOOM!!! 0 {"user":"Payment request received BOOOOOOM!!! 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m Payment request received BOOOOOOM!!! 0"}}
[debug] [2021-04-19T21:35:10.704Z] [runtime-status] [15932] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15932] Ephemeral server survived."}}
[info] >  (node:15932) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1. {"user":"(node:15932) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15932) UnhandledPromiseRejectionWarning: Error: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\Error.js:40:16) {"user":"    at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\node_modules\stripe\lib\StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\stripe\\lib\\StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (events.js:421:28) {"user":"    at Object.onceWrapper (events.js:421:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (events.js:421:28)"}}
[info] >      at IncomingMessage.emit (events.js:327:22) {"user":"    at IncomingMessage.emit (events.js:327:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (events.js:327:22)"}}
[info] >      at endReadableNT (_stream_readable.js:1220:12) {"user":"    at endReadableNT (_stream_readable.js:1220:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (_stream_readable.js:1220:12)"}}
[info] >      at processTicksAndRejections (internal/process/task_queues.js:84:21) {"user":"    at processTicksAndRejections (internal/process/task_queues.js:84:21)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (internal/process/task_queues.js:84:21)"}}
[info] >  (node:15932) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1) {"user":"(node:15932) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15932) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 1)"}}
[info] >  (node:15932) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code. {"user":"(node:15932) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m (node:15932) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code."}}
[debug] [2021-04-19T21:35:25.449Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-04-19T21:35:25.449Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-04-19T21:35:25.449Z] Accepted request POST /poduchy-anuchy/us-central1/api/payments/create?total=0 --> api
[debug] [2021-04-19T21:35:25.468Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-04-19T21:35:25.468Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-04-19T21:35:25.468Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-04-19T21:35:25.469Z] [worker-api-4e36466c-4ceb-4f25-9f97-7322ba346448]: Assigning socketPath: \\?\pipe\C:\Users\kacper\Desktop\pillows-shop\pillow-shop\functions\15692 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4e36466c-4ceb-4f25-9f97-7322ba346448]: Assigning socketPath: \\\\?\\pipe\\C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\15692"}}
[debug] [2021-04-19T21:35:25.470Z] [worker-api-4e36466c-4ceb-4f25-9f97-7322ba346448]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4e36466c-4ceb-4f25-9f97-7322ba346448]: BUSY"}}
[debug] [2021-04-19T21:35:27.443Z] [runtime-status] [15692] Functions runtime initialized. {"cwd":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions","node_version":"12.18.4"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Functions runtime initialized. {\"cwd\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\",\"node_version\":\"12.18.4\"}"}}
[debug] [2021-04-19T21:35:27.448Z] [runtime-status] [15692] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Disabled runtime features: undefined"}}
[debug] [2021-04-19T21:35:27.472Z] [runtime-status] [15692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.480Z] [runtime-status] [15692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.483Z] [runtime-status] [15692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.488Z] [runtime-status] [15692] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-04-19T21:35:27.490Z] [runtime-status] [15692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.685Z] [runtime-status] [15692] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-04-19T21:35:27.685Z] [runtime-status] [15692] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}}"}}
[debug] [2021-04-19T21:35:27.687Z] [runtime-status] [15692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.690Z] [runtime-status] [15692] Resolved module firebase-admin {"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.691Z] [runtime-status] [15692] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-functions\\lib\\index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-functions\\\\lib\\\\index.js\"}"}}
[debug] [2021-04-19T21:35:27.692Z] [runtime-status] [15692] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"8.13.0","resolution":"C:\\Users\\kacper\\Desktop\\pillows-shop\\pillow-shop\\functions\\node_modules\\firebase-admin\\lib\\index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [15692] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"8.13.0\",\"resolution\":\"C:\\\\Users\\\\kacper\\\\Desktop\\\\pillows-shop\\\\pillow-shop\\\\functions\\\\node_modules\\\\firebase-admin\\\\lib\\\\index.js\"}}"}}
